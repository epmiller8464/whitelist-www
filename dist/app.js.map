{"version":3,"sources":["../app.js"],"names":["express","require","path","favicon","logger","cookieParser","bodyParser","sassMiddleware","requestHeaders","sslRedirect","passport","compression","session","viewConfig","app","use","disable","json","urlencoded","extended","set","process","env","APP_SECRET","initialize","src","join","__dirname","dest","indentedSyntax","sourceMap","static","module","exports"],"mappings":"AAAA;;AACA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;AACA,IAAME,UAAUF,QAAQ,eAAR,CAAhB;AACA,IAAMG,SAASH,QAAQ,QAAR,CAAf;AACA,IAAMI,eAAeJ,QAAQ,eAAR,CAArB;AACA,IAAMK,aAAaL,QAAQ,aAAR,CAAnB;AACA,IAAMM,iBAAiBN,QAAQ,sBAAR,CAAvB;AACA,IAAMO,iBAAiBP,QAAQ,sBAAR,CAAvB;AACA,IAAMQ,cAAcR,QAAQ,oBAAR,CAApB;AACA,IAAMS,WAAWT,QAAQ,UAAR,CAAjB;AACA,IAAMU,cAAcV,QAAQ,aAAR,CAApB;AACA,IAAMW,UAAUX,QAAQ,qBAAR,CAAhB;AACA,IAAMY,aAAaZ,QAAQ,mBAAR,CAAnB;AACA,IAAMa,MAAMd,SAAZ;AACAc,IAAIC,GAAJ,CAAQJ,aAAR;AACAG,IAAIC,GAAJ,CAAQN,YAAY,CAAC,MAAD,EAAS,YAAT,CAAZ,CAAR;AACAD,eAAeM,GAAf;AACAA,IAAIE,OAAJ,CAAY,cAAZ;AACA;AACAH,WAAWC,GAAX;AACA;AACA;AACAA,IAAIC,GAAJ,CAAQT,WAAWW,IAAX,EAAR;AACAH,IAAIC,GAAJ,CAAQT,WAAWY,UAAX,CAAsB,EAACC,UAAU,KAAX,EAAtB,CAAR;AACAL,IAAIC,GAAJ,CAAQX,OAAO,KAAP,CAAR;AACAU,IAAIM,GAAJ,CAAQ,QAAR,EAAkBC,QAAQC,GAAR,CAAYC,UAA9B;AACAT,IAAIC,GAAJ,CAAQV,aAAagB,QAAQC,GAAR,CAAYC,UAAzB,CAAR;;AAGAX,QAAQE,GAAR;AACAb,QAAQ,gBAAR,EAA0BS,QAA1B;AACAI,IAAIC,GAAJ,CAAQL,SAASc,UAAT,EAAR;AACAV,IAAIC,GAAJ,CAAQL,SAASE,OAAT,EAAR;;AAEAE,IAAIC,GAAJ,CAAQR,eAAe;AACrBkB,OAAKvB,KAAKwB,IAAL,CAAUC,SAAV,EAAqB,QAArB,CADgB;AAErBC,QAAM1B,KAAKwB,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAFe;AAGrBE,kBAAgB,IAHK,EAGC;AACtBC,aAAW;AAJU,CAAf,CAAR;AAMAhB,IAAIC,GAAJ,CAAQf,QAAQ+B,MAAR,CAAe7B,KAAKwB,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAR;AACAb,IAAIC,GAAJ,CAAQf,QAAQ+B,MAAR,CAAe7B,KAAKwB,IAAL,CAAUC,SAAV,EAAqB,cAArB,CAAf,CAAR;;AAEA1B,QAAQ,UAAR,EAAoBa,GAApB;AACAb,QAAQ,UAAR,EAAoB,YAAM,CAAE,CAA5B;AACAA,QAAQ,cAAR;;AAEA+B,OAAOC,OAAP,GAAiBnB,GAAjB","file":"app.js","sourcesContent":["'use strict'\nconst express = require('express')\nconst path = require('path')\nconst favicon = require('serve-favicon')\nconst logger = require('morgan')\nconst cookieParser = require('cookie-parser')\nconst bodyParser = require('body-parser')\nconst sassMiddleware = require('node-sass-middleware')\nconst requestHeaders = require('./lib/requestHeaders')\nconst sslRedirect = require('./lib/ssl-redirect')\nconst passport = require('passport')\nconst compression = require('compression')\nconst session = require('./lib/setup/session')\nconst viewConfig = require('./lib/setup/views')\nconst app = express()\napp.use(compression())\napp.use(sslRedirect(['test', 'production']))\nrequestHeaders(app)\napp.disable('x-powered-by')\n// view engine setup\nviewConfig(app)\n// uncomment after placing your favicon in /public\n//app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));\napp.use(bodyParser.json())\napp.use(bodyParser.urlencoded({extended: false}))\napp.use(logger('dev'))\napp.set('secret', process.env.APP_SECRET)\napp.use(cookieParser(process.env.APP_SECRET))\n\n\nsession(app)\nrequire('./lib/passport')(passport)\napp.use(passport.initialize())\napp.use(passport.session())\n\napp.use(sassMiddleware({\n  src: path.join(__dirname, 'public'),\n  dest: path.join(__dirname, 'public'),\n  indentedSyntax: true, // true = .sass and false = .scss\n  sourceMap: true\n}))\napp.use(express.static(path.join(__dirname, 'public')))\napp.use(express.static(path.join(__dirname, 'node_modules')))\n\nrequire('./routes')(app)\nrequire('./lib/db')(() => {})\nrequire('./lib/events')()\n\nmodule.exports = app\n"]}