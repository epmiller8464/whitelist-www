{"version":3,"sources":["../../test/jwt.test.js"],"names":["process","env","NODE_ENV","require","config","confirmEmailToken","verifyToken","accessToken","verifyAccessToken","uuid","test","id","v4","then","token","console","log","expect","not","toBeNull","done","catch","err","result"],"mappings":"AAAA;;AACAA,QAAQC,GAAR,CAAYC,QAAZ,GAAuB,aAAvB;AACAC,QAAQ,QAAR,EAAkBC,MAAlB;AACA;;eACyED,QAAQ,qBAAR,C;IAAlEE,iB,YAAAA,iB;IAAmBC,W,YAAAA,W;IAAaC,W,YAAAA,W;IAAaC,iB,YAAAA,iB;;AACpD,IAAMC,OAAON,QAAQ,MAAR,CAAb;AACAO,KAAK,wBAAL,EAA+B,gBAAQ;AACrC,MAAIC,KAAKF,KAAKG,EAAL,EAAT;AACAP,oBAAkBM,EAAlB,EACCE,IADD,CACM,UAACC,KAAD,EAAW;AACfC,YAAQC,GAAR,CAAYF,KAAZ;AACAG,WAAOH,KAAP,EAAcI,GAAd,CAAkBC,QAAlB;AACAC;AACD,GALD,EAKGC,KALH,CAKS,UAACC,GAAD,EAAS;AAChBF;AACD,GAPD;AAQD,CAVD;;AAYAV,KAAK,8BAAL,EAAqC,gBAAQ;AAC3C,MAAIC,KAAKF,KAAKG,EAAL,EAAT;AACAP,oBAAkBM,EAAlB,EACCE,IADD,CACM,UAACC,KAAD,EAAW;AACfR,gBAAYQ,KAAZ,EACCD,IADD,CACM,UAACU,MAAD,EAAY;AAChBR,cAAQC,GAAR,CAAYO,MAAZ;AACAN,aAAOM,MAAP,EAAeL,GAAf,CAAmBC,QAAnB;AACAC;AACD,KALD,EAKGC,KALH,CAKS,UAACC,GAAD,EAAS;AAChBL,aAAOK,GAAP,EAAYH,QAAZ;AACAC;AACD,KARD;AASD,GAXD,EAWGC,KAXH,CAWS,UAACC,GAAD,EAAS;AAChBL,WAAOK,GAAP,EAAYH,QAAZ;AACAC;AACD,GAdD;AAgBD,CAlBD;;AAoBAV,KAAK,WAAL,EAAkB,gBAAQ;AACxB,MAAIC,KAAKF,KAAKG,EAAL,EAAT;AACAL,cAAYI,EAAZ,EACCE,IADD,CACM,UAACC,KAAD,EAAW;AACfN,sBAAkBM,KAAlB,EACCD,IADD,CACM,UAACU,MAAD,EAAY;AAChBR,cAAQC,GAAR,CAAYO,MAAZ;AACAN,aAAOM,MAAP,EAAeL,GAAf,CAAmBC,QAAnB;AACAC;AACD,KALD,EAKGC,KALH,CAKS,UAACC,GAAD,EAAS;AAChBL,aAAOK,GAAP,EAAYH,QAAZ;AACAC;AACD,KARD;AASD,GAXD,EAWGC,KAXH,CAWS,UAACC,GAAD,EAAS;AAChBL,WAAOK,GAAP,EAAYH,QAAZ;AACAC;AACD,GAdD;AAeD,CAjBD","file":"jwt.test.js","sourcesContent":["'use strict'\nprocess.env.NODE_ENV = 'development'\nrequire('dotenv').config()\n// process.env.PWD = __dirname = process.env.PWD + '/whitelist-www'\nconst {confirmEmailToken, verifyToken, accessToken, verifyAccessToken} = require('../lib/jsonwebtoken')\nconst uuid = require('uuid')\ntest('emailVerificationToken', done => {\n  let id = uuid.v4()\n  confirmEmailToken(id)\n  .then((token) => {\n    console.log(token)\n    expect(token).not.toBeNull()\n    done()\n  }).catch((err) => {\n    done()\n  })\n})\n\ntest('verifyEmailVerificationToken', done => {\n  let id = uuid.v4()\n  confirmEmailToken(id)\n  .then((token) => {\n    verifyToken(token)\n    .then((result) => {\n      console.log(result)\n      expect(result).not.toBeNull()\n      done()\n    }).catch((err) => {\n      expect(err).toBeNull()\n      done()\n    })\n  }).catch((err) => {\n    expect(err).toBeNull()\n    done()\n  })\n\n})\n\ntest('rsa token', done => {\n  let id = uuid.v4()\n  accessToken(id)\n  .then((token) => {\n    verifyAccessToken(token)\n    .then((result) => {\n      console.log(result)\n      expect(result).not.toBeNull()\n      done()\n    }).catch((err) => {\n      expect(err).toBeNull()\n      done()\n    })\n  }).catch((err) => {\n    expect(err).toBeNull()\n    done()\n  })\n})\n"]}