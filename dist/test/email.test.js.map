{"version":3,"sources":["../../test/email.test.js"],"names":["process","env","NODE_ENV","require","config","confirmEmailToken","verifyToken","uuid","Email","test","id","v4","then","token","console","log","expect","not","toBeNull","sendNewsletterWelcomeEmail","to","result","done","catch","e","err"],"mappings":"AAAA;;AACAA,QAAQC,GAAR,CAAYC,QAAZ,GAAuB,aAAvB;AACAC,QAAQ,QAAR,EAAkBC,MAAlB;;eACyCD,QAAQ,qBAAR,C;IAAlCE,iB,YAAAA,iB;IAAmBC,W,YAAAA,W;;AAC1B,IAAMC,OAAOJ,QAAQ,MAAR,CAAb;;gBACgBA,QAAQ,aAAR,C;IAATK,K,aAAAA,K;;AACPC,KAAK,wBAAL,EAA+B,gBAAQ;AACrC,MAAIC,KAAKH,KAAKI,EAAL,EAAT;AACAN,oBAAkBK,EAAlB,EACCE,IADD,CACM,UAACC,KAAD,EAAW;AACfC,YAAQC,GAAR,CAAYF,KAAZ;AACAG,WAAOH,KAAP,EAAcI,GAAd,CAAkBC,QAAlB;;AAEAV,UAAMW,0BAAN,CAAiC,EAACC,IAAI,wBAAL,EAAjC,EAAiER,IAAjE,CAAsE,UAACS,MAAD,EAAY;AAChFL,aAAOK,MAAP,EAAeJ,GAAf,CAAmBC,QAAnB;AACAJ,cAAQC,GAAR,CAAYM,MAAZ;AACAC;AACD,KAJD,EAIGC,KAJH,CAIS,UAACC,CAAD,EAAO;AACdR,aAAOQ,CAAP,EAAUN,QAAV;AACAI;AACD,KAPD;AAQD,GAbD,EAaGC,KAbH,CAaS,UAACE,GAAD,EAAS;AAChBH;AACD,GAfD;AAgBD,CAlBD","file":"email.test.js","sourcesContent":["'use strict'\nprocess.env.NODE_ENV = 'development'\nrequire('dotenv').config()\nconst {confirmEmailToken, verifyToken} = require('../lib/jsonwebtoken')\nconst uuid = require('uuid')\nconst {Email} = require('../lib/mail')\ntest('emailVerificationToken', done => {\n  let id = uuid.v4()\n  confirmEmailToken(id)\n  .then((token) => {\n    console.log(token)\n    expect(token).not.toBeNull()\n\n    Email.sendNewsletterWelcomeEmail({to: 'epmiller8464@gmail.com'}).then((result) => {\n      expect(result).not.toBeNull()\n      console.log(result)\n      done()\n    }).catch((e) => {\n      expect(e).toBeNull()\n      done()\n    })\n  }).catch((err) => {\n    done()\n  })\n})"]}