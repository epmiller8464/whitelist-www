{"version":3,"sources":["../../../public/javascripts/login.js"],"names":["Vue","el","data","email","csrf","pwd","methods","onLogin","event","$data","validateEmail","$","removeClass","addClass","text","console","log","ajax","method","url","dataType","done","success","children","message","window","location","fail","e","responseJSON","always","setTimeout","regex","RegExp","test"],"mappings":"AAAA;;AAEA,IAAIA,GAAJ,CAAQ;AACNC,MAAI,aADE;AAENC,QAAM,gBAAY;AAChB,WAAO;AACLC,aAAO,wBADF;AAELC,YAAM,EAFD;AAGLC,WAAK;AAHA,KAAP;AAKD,GARK;AASNC,WAAS;AACPC,aAAS,iBAAUC,KAAV,EAAiB;AACxB,UAAIL,QAAQ,KAAKM,KAAL,CAAWN,KAAvB;AACA,UAAI,CAAC,KAAKO,aAAL,CAAmBP,KAAnB,CAAL,EAAgC;AAC9BQ,UAAE,cAAF,EAAkBC,WAAlB,CAA8B,WAA9B,EAA2CC,QAA3C,CAAoD,aAApD,EAAmEC,IAAnE,CAAwE,sCAAxE;AACA;AACD;AACDC,cAAQC,GAAR,CAAY,KAAKP,KAAjB;AACAE,QAAEM,IAAF,CAAO;AACLC,gBAAQ,MADH;AAELC,aAAK,oBAFA;AAGLjB,cAAM,KAAKO,KAHN;AAILW,kBAAU;AAJL,OAAP,EAKGC,IALH,CAKQ,UAAUnB,IAAV,EAAgB;AACtB;AACA,YAAIA,KAAKoB,OAAT,EAAkB;AAChBX,YAAE,cAAF,EAAkBE,QAAlB,CAA2B,cAA3B,EAA2CU,QAA3C,CAAoD,UAApD,EAAgET,IAAhE,CAAqEZ,KAAKsB,OAA1E;AACD,SAFD,MAEO;AACLC,iBAAOC,QAAP,GAAkB,WAAlB;AACD;AACD;AACA;AACA;AACA;AACD,OAhBD,EAgBGC,IAhBH,CAgBQ,UAAUC,CAAV,EAAa;AACnB,YAAIA,EAAEC,YAAN,EAAoB;AAClBlB,YAAE,cAAF,EAAkBC,WAAlB,CAA8B,WAA9B,EAA2CC,QAA3C,CAAoD,cAApD,EAAoEU,QAApE,CAA6E,UAA7E,EAAyFT,IAAzF,CAA8Fc,EAAEC,YAAF,CAAeL,OAA7G;AACD,SAFD,MAEO;AACLb,YAAE,cAAF,EAAkBC,WAAlB,CAA8B,WAA9B,EAA2CC,QAA3C,CAAoD,cAApD,EAAoEU,QAApE,CAA6E,UAA7E,EAAyFT,IAAzF,CAA8F,2CAA9F;AACD;AAEF,OAvBD,EAuBGgB,MAvBH,CAuBU,YAAY;AACpBC,mBAAW,YAAY;AACrBpB,YAAE,cAAF,EAAkBE,QAAlB,CAA2B,WAA3B,EAAwCD,WAAxC,CAAoD,aAApD,EAAmEE,IAAnE,CAAwE,EAAxE;AACD,SAFD,EAEG,IAFH;AAGD,OA3BD;AA4BA,aAAO,KAAP;AACD,KArCM;AAsCPJ,mBAAe,uBAAUP,KAAV,EAAiB;AAC9B,UAAI6B,QAAQ,IAAIC,MAAJ,CAAW,YAAX,CAAZ;AACA,UAAK,CAAC9B,KAAF,IAAY,CAAC6B,MAAME,IAAN,CAAW/B,KAAX,CAAjB,EAAoC;AAClC,eAAO,KAAP;AACD;AACD,aAAO,IAAP;AACD;AA5CM;AATH,CAAR","file":"login.js","sourcesContent":["'use strict'\n\nnew Vue({\n  el: '#login-form',\n  data: function () {\n    return {\n      email: 'epmiller8464@gmail.com',\n      csrf: '',\n      pwd: ''\n    }\n  },\n  methods: {\n    onLogin: function (event) {\n      var email = this.$data.email\n      if (!this.validateEmail(email)) {\n        $('#alert-label').removeClass('invisible').addClass('text-danger').text('Please enter a valid e-mail address.')\n        return\n      }\n      console.log(this.$data)\n      $.ajax({\n        method: 'POST',\n        url: '/api/v1/auth/login',\n        data: this.$data,\n        dataType: 'json'\n      }).done(function (data) {\n        // $('#login-alert').removeClass('invisible')\n        if (data.success) {\n          $('#login-alert').addClass('alert-danger').children('.message').text(data.message)\n        } else {\n          window.location = '/platform'\n        }\n        // $('#login-alert').addClass('alert-success').children('.message').text('Account created successfully, please check your email to confirm your account')\n        //\n        // } else {\n        // }\n      }).fail(function (e) {\n        if (e.responseJSON) {\n          $('#login-alert').removeClass('invisible').addClass('alert-danger').children('.message').text(e.responseJSON.message)\n        } else {\n          $('#login-alert').removeClass('invisible').addClass('alert-danger').children('.message').text('An error occurred please try again later.')\n        }\n\n      }).always(function () {\n        setTimeout(function () {\n          $('#alert-label').addClass('invisible').removeClass('text-danger').text('')\n        }, 5000)\n      })\n      return false\n    },\n    validateEmail: function (email) {\n      var regex = new RegExp(/.+\\@.+\\..+/)\n      if ((!email) || !regex.test(email)) {\n        return false\n      }\n      return true\n    }\n  }\n})"]}