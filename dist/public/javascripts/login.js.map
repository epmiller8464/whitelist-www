{"version":3,"sources":["../../../public/javascripts/login.js"],"names":["Vue","el","data","email","csrf","pwd","methods","onLogin","event","validate","$","ajax","method","url","$data","dataType","done","success","window","location","addClass","children","text","message","fail","e","responseJSON","removeClass","always","setTimeout","regex","RegExp","test","length"],"mappings":"AAAA;;AAEA,IAAIA,GAAJ,CAAQ;AACNC,MAAI,aADE;AAENC,QAAM,gBAAY;AAChB,WAAO;AACLC,aAAO,wBADF;AAELC,YAAM,EAFD;AAGLC,WAAK;AAHA,KAAP;AAKD,GARK;AASNC,WAAS;AACPC,aAAS,iBAAUC,KAAV,EAAiB;AACxB,UAAI,CAAC,KAAKC,QAAL,EAAL,EAAsB;AACpB,eAAO,KAAP;AACD;AACDC,QAAEC,IAAF,CAAO;AACLC,gBAAQ,MADH;AAELC,aAAK,oBAFA;AAGLX,cAAM,KAAKY,KAHN;AAILC,kBAAU;AAJL,OAAP,EAKGC,IALH,CAKQ,UAAUd,IAAV,EAAgB;AACtB,YAAIA,KAAKe,OAAT,EAAkB;AAChBC,iBAAOC,QAAP,GAAkB,WAAlB;AACD,SAFD,MAEO;AACLT,YAAE,cAAF,EAAkBU,QAAlB,CAA2B,cAA3B,EAA2CC,QAA3C,CAAoD,UAApD,EAAgEC,IAAhE,CAAqEpB,KAAKqB,OAA1E;AACD;AACF,OAXD,EAWGC,IAXH,CAWQ,UAAUC,CAAV,EAAa;AACnB,YAAIA,EAAEC,YAAN,EAAoB;AAClBhB,YAAE,cAAF,EAAkBiB,WAAlB,CAA8B,WAA9B,EAA2CP,QAA3C,CAAoD,cAApD,EAAoEC,QAApE,CAA6E,UAA7E,EAAyFC,IAAzF,CAA8FG,EAAEC,YAAF,CAAeH,OAA7G;AACD,SAFD,MAEO;AACLb,YAAE,cAAF,EAAkBiB,WAAlB,CAA8B,WAA9B,EAA2CP,QAA3C,CAAoD,cAApD,EAAoEC,QAApE,CAA6E,UAA7E,EAAyFC,IAAzF,CAA8F,2CAA9F;AACD;AAEF,OAlBD,EAkBGM,MAlBH,CAkBU,YAAY;AACpBC,mBAAW,YAAY;AACrBnB,YAAE,cAAF,EAAkBU,QAAlB,CAA2B,WAA3B,EAAwCO,WAAxC,CAAoD,aAApD,EAAmEL,IAAnE,CAAwE,EAAxE;AACD,SAFD,EAEG,IAFH;AAGD,OAtBD;AAuBA,aAAO,KAAP;AACD,KA7BM;AA8BPb,cAAU,oBAAY;AACpB,UAAIqB,QAAQ,IAAIC,MAAJ,CAAW,YAAX,CAAZ;AACA,UAAI5B,QAAQ,KAAKW,KAAL,CAAWX,KAAvB;AACA,UAAK,CAACA,KAAF,IAAY,CAAC2B,MAAME,IAAN,CAAW7B,KAAX,CAAjB,EAAoC;AAClCO,UAAE,cAAF,EAAkBiB,WAAlB,CAA8B,WAA9B,EAA2CP,QAA3C,CAAoD,cAApD,EAAoEC,QAApE,CAA6E,UAA7E,EAAyFC,IAAzF,CAA8F,sCAA9F;AACA,eAAO,KAAP;AACD;AACD,UAAK,CAAC,KAAKR,KAAL,CAAWT,GAAb,IAAqB,KAAKS,KAAL,CAAWT,GAAX,CAAe4B,MAAf,GAAwB,CAAjD,EAAoD;AAClDvB,UAAE,cAAF,EAAkBiB,WAAlB,CAA8B,WAA9B,EAA2CP,QAA3C,CAAoD,cAApD,EAAoEC,QAApE,CAA6E,UAA7E,EAAyFC,IAAzF,CAA8F,8BAA9F;AACA,eAAO,KAAP;AACD;AACD,aAAO,IAAP;AACD;AA1CM;AATH,CAAR","file":"login.js","sourcesContent":["'use strict'\n\nnew Vue({\n  el: '#login-form',\n  data: function () {\n    return {\n      email: 'epmiller8464@gmail.com',\n      csrf: '',\n      pwd: ''\n    }\n  },\n  methods: {\n    onLogin: function (event) {\n      if (!this.validate()) {\n        return false\n      }\n      $.ajax({\n        method: 'POST',\n        url: '/api/v1/auth/login',\n        data: this.$data,\n        dataType: 'json'\n      }).done(function (data) {\n        if (data.success) {\n          window.location = '/platform'\n        } else {\n          $('#login-alert').addClass('alert-danger').children('.message').text(data.message)\n        }\n      }).fail(function (e) {\n        if (e.responseJSON) {\n          $('#login-alert').removeClass('invisible').addClass('alert-danger').children('.message').text(e.responseJSON.message)\n        } else {\n          $('#login-alert').removeClass('invisible').addClass('alert-danger').children('.message').text('An error occurred please try again later.')\n        }\n\n      }).always(function () {\n        setTimeout(function () {\n          $('#alert-label').addClass('invisible').removeClass('text-danger').text('')\n        }, 5000)\n      })\n      return false\n    },\n    validate: function () {\n      var regex = new RegExp(/.+\\@.+\\..+/)\n      var email = this.$data.email\n      if ((!email) || !regex.test(email)) {\n        $('#login-alert').removeClass('invisible').addClass('alert-danger').children('.message').text('Please enter a valid e-mail address.')\n        return false\n      }\n      if ((!this.$data.pwd) || this.$data.pwd.length < 6) {\n        $('#login-alert').removeClass('invisible').addClass('alert-danger').children('.message').text('Password is not long enough.')\n        return false\n      }\n      return true\n    }\n  }\n})"]}