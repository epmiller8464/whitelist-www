{"version":3,"sources":["../../../public/javascripts/chart.js"],"names":["f","exports","module","define","amd","g","window","global","self","Chart","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","colorNames","getRgba","getHsla","getRgb","getHsl","getHwb","getAlpha","hexString","rgbString","rgbaString","percentString","percentaString","hslString","hslaString","hwbString","keyword","string","abbr","hex","rgba","per","rgb","match","parseInt","slice","parseFloat","Math","round","scale","hsl","alpha","h","isNaN","hwb","w","b","hsla","vals","hexDouble","undefined","reverseNames","num","min","max","str","toString","toUpperCase","name","convert","Color","obj","values","hsv","cmyk","setValues","red","lightness","v","value","whiteness","c","cyan","JSON","stringify","prototype","setSpace","arguments","rgbArray","hslArray","hsvArray","hwbArray","concat","cmykArray","rgbaArray","hslaArray","val","setChannel","green","blue","hue","saturation","saturationv","blackness","magenta","yellow","black","rgbNumber","luminosity","lum","chan","pow","contrast","color2","lum1","lum2","level","contrastRatio","dark","yiq","light","negate","lighten","ratio","darken","saturate","desaturate","whiten","blacken","greyscale","clearer","opaquer","rotate","degrees","mix","mixinColor","weight","color1","p","w1","w2","toJSON","clone","result","source","target","type","prop","hasOwnProperty","console","error","spaces","maxes","getValues","space","charAt","chans","capped","sname","args","Array","index","svalues","rgb2hsl","rgb2hsv","rgb2hwb","rgb2cmyk","rgb2keyword","rgb2xyz","rgb2lab","rgb2lch","hsl2rgb","hsl2hsv","hsl2hwb","hsl2cmyk","hsl2keyword","hsv2rgb","hsv2hsl","hsv2hwb","hsv2cmyk","hsv2keyword","hwb2rgb","hwb2hsl","hwb2hsv","hwb2cmyk","hwb2keyword","cmyk2rgb","cmyk2hsl","cmyk2hsv","cmyk2hwb","cmyk2keyword","keyword2rgb","keyword2hsl","keyword2hsv","keyword2hwb","keyword2cmyk","keyword2lab","keyword2xyz","xyz2rgb","xyz2lab","xyz2lch","lab2xyz","lab2rgb","lab2lch","lch2lab","lch2xyz","lch2rgb","delta","m","y","k","reverseKeywords","x","z","xyz","t1","t2","t3","sv","hi","floor","q","sl","wh","bl","lab","y2","hr","atan2","PI","sqrt","lch","cos","sin","cssKeywords","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellowgreen","key","conversions","Converter","func","arg","pair","exec","from","to","convs","routeSpace","fspace","forEach","Bar","context","config","Bubble","Doughnut","Line","PolarArea","Radar","defaultConfig","hover","mode","scales","xAxes","position","id","yAxes","tooltips","callbacks","title","label","tooltipItem","xLabel","yLabel","defaults","scatter","controllers","line","Scatter","helpers","bar","categoryPercentage","barPercentage","gridLines","offsetGridLines","DatasetController","extend","dataElementType","elements","Rectangle","initialize","chart","datasetIndex","getMeta","getBarCount","me","barCount","each","data","datasets","dataset","meta","getDatasetMeta","isDatasetVisible","update","reset","rectangle","updateElement","xScale","getScaleForId","xAxisID","yScale","yAxisID","scaleBase","getBasePixel","rectangleElementOptions","options","custom","getDataset","_xScale","_yScale","_datasetIndex","_index","ruler","getRuler","_model","calculateBarX","calculateBarY","labels","datasetLabel","base","calculateBarBase","width","calculateBarWidth","backgroundColor","getValueAtIndexOrDefault","borderSkipped","borderColor","borderWidth","pivot","stacked","Number","currentDs","currentDsMeta","currentVal","getPixelForValue","datasetCount","tickWidth","getPixelForTick","ticks","categoryWidth","categorySpacing","fullBarWidth","perc","barWidth","barSpacing","barThickness","getBarIndex","barIndex","j","leftTick","isCombo","sumPos","sumNeg","ds","dsMeta","stackedVal","draw","ease","easingDecimal","metaData","len","d","transition","setHoverStyle","model","hoverBackgroundColor","getHoverColor","hoverBorderColor","hoverBorderWidth","removeHoverStyle","horizontalBar","tooltipItems","height","calculateBarHeight","ctx","_chart","vm","_view","halfHeight","topY","bottomY","right","halfStroke","beginPath","fillStyle","strokeStyle","lineWidth","corners","borders","startCorner","indexOf","cornerAt","cornerIndex","moveTo","apply","lineTo","fill","stroke","tickHeight","categoryHeight","fullBarHeight","barHeight","topTick","bubble","dataPoint","Point","points","point","pointElementOptions","dsIndex","getPixelForDecimal","NaN","radius","getRadius","hitRadius","skip","hoverRadius","dataVal","doughnut","animation","animateRotate","animateScale","aspectRatio","legendCallback","text","push","join","legend","generateLabels","map","arc","arcOpts","bw","hidden","onClick","legendItem","ilen","cutoutPercentage","rotation","circumference","dataLabel","isArray","pie","Arc","linkScales","noop","getRingIndex","ringIndex","chartArea","opts","availableWidth","left","availableHeight","bottom","top","minSize","offset","startAngle","endAngle","start","end","contains0","contains90","contains180","contains270","cutout","size","getMaxBorderWidth","outerRadius","innerRadius","radiusLength","getVisibleDatasetCount","offsetX","offsetY","total","calculateTotal","animationOpts","centerX","centerY","calculateCircumference","valueAtIndexOrDefault","element","abs","hoverWidth","showLines","spanGaps","lineEnabled","getValueOrDefault","showLine","datasetElementType","lineElementOptions","tension","lineTension","_scale","_children","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","steppedLine","stepped","cubicInterpolationMode","scaleTop","scaleBottom","scaleZero","updateBezierControlPoints","getPointBackgroundColor","pointBackgroundColor","getPointBorderColor","pointBorderColor","getPointBorderWidth","pointBorderWidth","pointOptions","includeOffset","pointRadius","pointHitRadius","calculatePointY","pointStyle","stackedRightValue","getRightValue","rightValue","area","controlPoints","filter","pt","capControlPoint","splineCurveMonotone","splineCurve","previousItem","nextItem","controlPointPreviousX","previous","controlPointPreviousY","controlPointNextX","next","controlPointNextY","capBezierPoints","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","polarArea","lineArc","beginAtZero","count","countVisibleElements","xCenter","yCenter","visibleCount","datasetStartAngle","distance","getDistanceFromCenterForValue","resetRadius","radar","_loop","getBasePosition","pointPosition","getPointPositionForValue","duration","easing","onProgress","onComplete","Animation","Element","currentStep","numSteps","render","onAnimationProgress","onAnimationComplete","animationService","frameDuration","animations","dropFrames","request","addAnimation","chartInstance","animationObject","lazy","animating","requestAnimationFrame","cancelAnimation","findIndex","animationWrapper","splice","requestAnimFrame","startDigest","startTime","Date","now","framesToDrop","endTime","canvasHelpers","drawPoint","edgeLength","xOffset","yOffset","drawImage","closePath","SQRT2","fillRect","strokeRect","types","instances","readUsedSize","property","getStyle","matches","initCanvas","canvas","style","renderHeight","getAttribute","renderWidth","_chartjs","initial","display","displayWidth","displayHeight","releaseCanvas","removeAttribute","setAttribute","acquireContext","item","document","getElementById","HTMLCanvasElement","getContext","CanvasRenderingContext2D","initConfig","configMerge","Controller","instance","uid","_bufferedRender","Object","defineProperty","get","retinaScale","responsive","addResizeListener","parentNode","resize","plugins","notify","bindEvents","ensureScalesHaveIDs","buildOrUpdateControllers","buildScales","updateLayout","resetElements","initToolTip","clear","stop","silent","maintainAspectRatio","newWidth","getMaximumWidth","newHeight","getMaximumHeight","newSize","onResize","responsiveAnimationDuration","scalesOptions","scaleOptions","xAxisOptions","yAxisOptions","items","dtype","isDefault","scaleType","scaleClass","scaleService","getScaleConstructor","addScalesToLayout","layoutService","newControllers","controller","updateIndex","tooltip","animationDuration","_data","buildOrUpdateElements","updateDatasets","_bufferedRequest","animationOptions","easingFunction","easingEffects","stepDecimal","easeDecimal","boxes","box","getElementAtEvent","Interaction","modes","single","getElementsAtEvent","intersect","getElementsAtXAxis","getElementsAtEventForMode","method","getDatasetAtEvent","_meta","generateLegend","destroy","unbindEvents","events","removeResizeListener","toBase64Image","toDataURL","Tooltip","_chartInstance","_options","evt","eventHandler","updateHoverStyle","enabled","hoverOptions","changed","handleEvent","bufferedRequest","lastActive","active","onHover","arrayEquals","arrayEvents","listenArrayEvents","array","listener","listeners","configurable","enumerable","res","object","unlistenArrayEvents","stub","addElements","scaleID","createMetaDataset","createMetaData","addElementAndReset","resyncElements","elementOpts","valueOrDefault","numMeta","numData","insertElements","onDataPush","onDataPop","pop","onDataShift","shift","onDataSplice","onDataUnshift","inherits","configuration","_start","color","err","startVal","tooltipPosition","hasValue","isNumber","loopable","callback","reverse","keys","objClone","setFn","_base","extension","baseHasProperty","baseVal","scaleMerge","getScaleDefaults","valueObj","axisType","axisDefaults","defaultValue","where","collection","filterCallback","filtered","scope","findNextWhere","arrayToSearch","startIndex","currentItem","findPreviousWhere","extensions","ChartElement","constructor","Surrogate","__super__","isFinite","almostEquals","epsilon","reduce","NEGATIVE_INFINITY","POSITIVE_INFINITY","sign","log10","log","LN10","toRadians","toDegrees","radians","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","distanceBetweenPoints","pt1","pt2","aliasPixel","pixelWidth","firstPoint","middlePoint","afterPoint","current","d01","d12","s01","s12","fa","fb","EPSILON","pointsWithTangents","deltaK","mK","pointsLen","pointBefore","pointCurrent","pointAfter","alphaK","betaK","tauK","squaredMagnitude","deltaX","loop","niceNum","range","exponent","fraction","niceFraction","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","cancelAnimFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","getRelativePosition","mouseX","mouseY","originalEvent","currentTarget","srcElement","boundingRect","getBoundingClientRect","touches","clientX","clientY","paddingLeft","paddingTop","paddingRight","paddingBottom","currentDevicePixelRatio","addEvent","node","eventType","addEventListener","attachEvent","removeEvent","handler","removeEventListener","detachEvent","arrayOfEvents","eventName","parseMaxStyle","styleValue","parentProperty","valueInPixels","isConstrainedValue","getConstraintDimension","domNode","maxStyle","percentageProperty","view","defaultView","constrainedNode","getComputedStyle","constrainedContainer","hasCNode","hasCContainer","infinity","getConstraintWidth","getConstraintHeight","container","clientWidth","cw","clientHeight","ch","el","currentStyle","getPropertyValue","pixelRatio","devicePixelRatio","clearRect","fontString","pixelSize","fontStyle","fontFamily","longestText","font","arrayOfThings","cache","gc","garbageCollect","longest","thing","measureText","nestedThing","gcLen","textWidth","numberOfLabelLines","numberOfLines","drawRoundedRectangle","quadraticCurveTo","CanvasGradient","defaultColor","iframe","createElement","className","cssText","tabIndex","resizer","ticking","contentWindow","insertBefore","firstChild","removeChild","a0","a1","v0","v1","callCallback","fn","_tArg","colorValue","CanvasPattern","parseVisibleItems","jlen","getIntersectItems","inRange","getNearestItems","distanceMetric","minDistance","nearestItems","center","getCenterPoint","indexMode","nearest","sort","sizeA","getArea","sizeB","ret","intersectsItem","inXRange","inYRange","defaultFontColor","defaultFontFamily","defaultFontSize","defaultFontStyle","addBox","removeBox","layoutOptions","layout","padding","leftPadding","rightPadding","topPadding","bottomPadding","leftBoxes","rightBoxes","topBoxes","bottomBoxes","chartAreaBoxes","fullWidth","chartWidth","chartHeight","chartAreaWidth","chartAreaHeight","verticalBoxWidth","horizontalBoxHeight","maxChartAreaWidth","maxChartAreaHeight","minBoxSizes","getMinimumBoxSize","isHorizontal","horizontal","totalLeftBoxesWidth","totalRightBoxesWidth","totalTopBoxesHeight","totalBottomBoxesHeight","fitBox","minBoxSize","minBox","scaleMargin","finalFitVerticalBox","newMaxChartAreaHeight","newMaxChartAreaWidth","placeBox","ci","boxWidth","lineCap","lineDash","lineDashOffset","lineJoin","getBoxWidth","labelOpts","fontSize","usePointStyle","Legend","legendHitBoxes","doughnutMode","beforeUpdate","maxWidth","maxHeight","margins","beforeSetDimensions","setDimensions","afterSetDimensions","beforeBuildLabels","buildLabels","afterBuildLabels","beforeFit","fit","afterFit","afterUpdate","legendItems","globalDefault","itemOrDefault","labelFont","hitboxes","lineWidths","totalHeight","textAlign","textBaseline","vPadding","columnWidths","totalWidth","currentColWidth","currentColHeight","itemHeight","itemWidth","lineDefault","legendWidth","cursor","fontColor","drawLegendBox","save","isLineWidthZero","setLineDash","offSet","restore","fillText","lh","hitBox","register","beforeInit","legendOpts","_plugins","plugin","unregister","idx","getAll","PluginBase","afterInit","beforeDraw","afterDraw","pluginService","drawBorder","drawOnChartArea","drawTicks","tickMarkLength","zeroLineWidth","zeroLineColor","scaleLabel","labelString","minRotation","maxRotation","mirror","autoSkip","autoSkipPadding","labelOffset","Ticks","formatters","Scale","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","beforeTickToLabelConversion","convertTicksToLabels","afterTickToLabelConversion","beforeCalculateTickRotation","calculateTickRotation","afterCalculateTickRotation","tickOpts","userCallback","globalDefaults","optionTicks","tickFontSize","tickFontStyle","tickFontFamily","tickLabelFont","firstWidth","lastWidth","firstRotated","labelRotation","longestTextCache","originalLabelWidth","labelWidth","cosRotation","sinRotation","yLabelWidth","scaleLabelOpts","gridLineOpts","scaleLabelFontSize","isFullWidth","largestTextWidth","tallestLabelHeightInLines","lineSpace","longestLabelWidth","labelHeight","firstLabelWidth","lastLabelWidth","maxLabelWidth","rawValue","isValid","getLabelForIndex","getValueForPixel","innerWidth","pixel","finalVal","innerHeight","decimal","valueOffset","isRotated","skipRatio","useAutoskipper","maxTicks","maxTicksLimit","tickFontColor","tl","scaleLabelFontColor","scaleLabelFontStyle","scaleLabelFontFamily","scaleLabelFont","labelRotationRadians","longestRotatedLabel","itemsToDraw","xTickStart","xTickEnd","yTickStart","yTickEnd","isLastTick","shouldSkip","lineColor","zeroLineIndex","tx1","ty1","tx2","ty2","x1","y1","x2","labelX","labelY","xLineValue","yLineValue","glWidth","glColor","glBorderDash","glBorderDashOffset","itemToDraw","translate","scaleLabelX","scaleLabelY","isLeft","constructors","registerScaleType","scaleConstructor","updateScaleDefaults","additions","generators","generationOptions","dataRange","spacing","stepSize","niceRange","niceMin","niceMax","ceil","minMaxDeltaDivisibleByStepSize","numSpaces","logarithmic","tickVal","exp","significand","minNotZero","lastTick","tickValue","logDelta","tickString","numDecimal","toFixed","remain","toExponential","Title","chartOpts","pos","titleFont","titleX","titleY","titleOpts","titleBlock","mergeOpacity","colorString","opacity","titleFontStyle","titleSpacing","titleMarginBottom","titleFontColor","titleAlign","bodySpacing","bodyFontColor","bodyAlign","footerFontStyle","footerSpacing","footerMarginTop","footerFontColor","footerAlign","yPadding","xPadding","caretSize","cornerRadius","multiKeyBackground","displayColors","beforeTitle","labelCount","afterTitle","beforeBody","beforeLabel","labelColor","activeElement","afterLabel","afterBody","beforeFooter","footer","afterFooter","pushOrConcat","toPush","createTooltipItem","getBaseModel","tooltipOpts","xAlign","yAlign","_bodyFontFamily","bodyFontFamily","_bodyFontStyle","bodyFontStyle","_bodyAlign","bodyFontSize","_titleFontFamily","titleFontFamily","_titleFontStyle","titleFontSize","_titleAlign","_footerFontFamily","footerFontFamily","_footerFontStyle","footerFontSize","_footerAlign","legendColorBackground","getTooltipSize","body","combinedBodyLength","bodyItem","before","lines","after","titleLineCount","footerLineCount","widthPadding","maxLineWidth","determineAlignment","lf","rf","olf","orf","yf","midX","midY","getBackgroundPoint","alignment","caretPadding","paddingAndSize","radiusAndPadding","getTitle","getBeforeBody","getBody","bodyItems","getAfterBody","getFooter","existingModel","_active","backgroundPoint","tooltipSize","caretX","caretY","labelColors","positioners","_eventPosition","itemSort","dataPoints","drawCaret","tooltipPoint","x3","y3","ptX","ptY","drawTitle","drawBody","textColor","xLinePadding","fillLineOfText","drawColorBoxes","drawFooter","drawBackground","_lastActive","average","eventPosition","nearestElement","tp","globalOpts","inLabelRange","chartX","chartY","pointRelativePosition","betweenAngles","withinRadius","halfAngle","halfRadius","centreAngle","rangeFromCentre","sA","eA","fillPoint","lineToPoint","previousPoint","pointVM","bezierCurveTo","lastDrawnIndex","currentVM","globalOptionLineElements","xRange","yRange","isVertical","getBarBounds","halfWidth","leftX","rightX","corner","bounds","DatasetScale","getLabels","xLabels","yLabels","minIndex","maxIndex","offsetAmt","valueWidth","widthOffset","valueHeight","heightOffset","horz","innerDimension","valueDimension","LinearScale","LinearScaleBase","IDMatches","valuesPerType","positiveValues","negativeValues","relativePoints","valuesForType","minVal","maxVal","handleTickRangeOptions","getTickLimit","handleDirectionalChanges","ticksAsNumbers","minSign","maxSign","suggestedMin","suggestedMax","numericGeneratorOptions","fixedStepSize","LogarithmicScale","tickValues","newVal","animate","angleLines","showLabelBackdrop","backdropColor","backdropPaddingY","backdropPaddingX","pointLabels","LinearRadialScale","getValueCount","drawingArea","pointLabelFontSize","pointLabeFontStyle","pointLabeFontFamily","pointLabeFont","largestPossibleRadius","halfTextWidth","furthestRight","furthestRightIndex","furthestRightAngle","furthestLeft","furthestLeftIndex","furthestLeftAngle","xProtrusionLeft","xProtrusionRight","radiusReductionRight","radiusReductionLeft","getPointPosition","angleRadians","getIndexAngle","setCenterPoint","leftMovement","rightMovement","maxRight","maxLeft","angleMultiplier","startAngleRadians","scalingFactor","distanceFromCenter","thisAngle","angleLineOpts","pointLabelOpts","yCenterOffset","yHeight","outerDistance","outerPosition","pointLabelPosition","pointLabelFontColor","moment","time","units","steps","maxStep","parser","format","unit","displayFormat","isoWeekday","minUnit","displayFormats","millisecond","second","minute","hour","day","week","month","quarter","year","TimeScale","getLabelMoment","labelMoments","getLabelDiff","labelDiffs","buildLabelDiffs","getMomentStartOf","tick","startOf","tickUnit","scaleLabelMoments","labelMoment","parseTime","firstTick","momentsForDataset","datasetVisible","scaleLabelDiffs","diff","diffsForDataset","unitScale","scaleSizeInUnits","unitStepSize","tempFirstLabel","tickFormatFunction","tickLabelWidth","labelCapacity","unitDefinitionIndex","unitDefinition","leadingUnitBuffer","trailingUnitBuffer","add","roundedStart","roundedEnd","newTick","tooltipFormat","formattedTick","tickMoments","asSeconds","getMonth","warn"],"mappings":"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","file":"chart.js","sourcesContent":["/*!\n * Chart.js\n * http://chartjs.org/\n * Version: 2.4.0\n *\n * Copyright 2016 Nick Downie\n * Released under the MIT license\n * https://github.com/chartjs/Chart.js/blob/master/LICENSE.md\n */\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Chart = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\n},{}],2:[function(require,module,exports){\n/* MIT license */\nvar colorNames = require(6);\n\nmodule.exports = {\n   getRgba: getRgba,\n   getHsla: getHsla,\n   getRgb: getRgb,\n   getHsl: getHsl,\n   getHwb: getHwb,\n   getAlpha: getAlpha,\n\n   hexString: hexString,\n   rgbString: rgbString,\n   rgbaString: rgbaString,\n   percentString: percentString,\n   percentaString: percentaString,\n   hslString: hslString,\n   hslaString: hslaString,\n   hwbString: hwbString,\n   keyword: keyword\n}\n\nfunction getRgba(string) {\n   if (!string) {\n      return;\n   }\n   var abbr =  /^#([a-fA-F0-9]{3})$/,\n       hex =  /^#([a-fA-F0-9]{6})$/,\n       rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/,\n       per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/,\n       keyword = /(\\w+)/;\n\n   var rgb = [0, 0, 0],\n       a = 1,\n       match = string.match(abbr);\n   if (match) {\n      match = match[1];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i] + match[i], 16);\n      }\n   }\n   else if (match = string.match(hex)) {\n      match = match[1];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match.slice(i * 2, i * 2 + 2), 16);\n      }\n   }\n   else if (match = string.match(rgba)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i + 1]);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(per)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(keyword)) {\n      if (match[1] == \"transparent\") {\n         return [0, 0, 0, 0];\n      }\n      rgb = colorNames[match[1]];\n      if (!rgb) {\n         return;\n      }\n   }\n\n   for (var i = 0; i < rgb.length; i++) {\n      rgb[i] = scale(rgb[i], 0, 255);\n   }\n   if (!a && a != 0) {\n      a = 1;\n   }\n   else {\n      a = scale(a, 0, 1);\n   }\n   rgb[3] = a;\n   return rgb;\n}\n\nfunction getHsla(string) {\n   if (!string) {\n      return;\n   }\n   var hsl = /^hsla?\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hsl);\n   if (match) {\n      var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          s = scale(parseFloat(match[2]), 0, 100),\n          l = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, s, l, a];\n   }\n}\n\nfunction getHwb(string) {\n   if (!string) {\n      return;\n   }\n   var hwb = /^hwb\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hwb);\n   if (match) {\n    var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          w = scale(parseFloat(match[2]), 0, 100),\n          b = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, w, b, a];\n   }\n}\n\nfunction getRgb(string) {\n   var rgba = getRgba(string);\n   return rgba && rgba.slice(0, 3);\n}\n\nfunction getHsl(string) {\n  var hsla = getHsla(string);\n  return hsla && hsla.slice(0, 3);\n}\n\nfunction getAlpha(string) {\n   var vals = getRgba(string);\n   if (vals) {\n      return vals[3];\n   }\n   else if (vals = getHsla(string)) {\n      return vals[3];\n   }\n   else if (vals = getHwb(string)) {\n      return vals[3];\n   }\n}\n\n// generators\nfunction hexString(rgb) {\n   return \"#\" + hexDouble(rgb[0]) + hexDouble(rgb[1])\n              + hexDouble(rgb[2]);\n}\n\nfunction rgbString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return rgbaString(rgba, alpha);\n   }\n   return \"rgb(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2] + \")\";\n}\n\nfunction rgbaString(rgba, alpha) {\n   if (alpha === undefined) {\n      alpha = (rgba[3] !== undefined ? rgba[3] : 1);\n   }\n   return \"rgba(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2]\n           + \", \" + alpha + \")\";\n}\n\nfunction percentString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return percentaString(rgba, alpha);\n   }\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n\n   return \"rgb(\" + r + \"%, \" + g + \"%, \" + b + \"%)\";\n}\n\nfunction percentaString(rgba, alpha) {\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n   return \"rgba(\" + r + \"%, \" + g + \"%, \" + b + \"%, \" + (alpha || rgba[3] || 1) + \")\";\n}\n\nfunction hslString(hsla, alpha) {\n   if (alpha < 1 || (hsla[3] && hsla[3] < 1)) {\n      return hslaString(hsla, alpha);\n   }\n   return \"hsl(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%)\";\n}\n\nfunction hslaString(hsla, alpha) {\n   if (alpha === undefined) {\n      alpha = (hsla[3] !== undefined ? hsla[3] : 1);\n   }\n   return \"hsla(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%, \"\n           + alpha + \")\";\n}\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\nfunction hwbString(hwb, alpha) {\n   if (alpha === undefined) {\n      alpha = (hwb[3] !== undefined ? hwb[3] : 1);\n   }\n   return \"hwb(\" + hwb[0] + \", \" + hwb[1] + \"%, \" + hwb[2] + \"%\"\n           + (alpha !== undefined && alpha !== 1 ? \", \" + alpha : \"\") + \")\";\n}\n\nfunction keyword(rgb) {\n  return reverseNames[rgb.slice(0, 3)];\n}\n\n// helpers\nfunction scale(num, min, max) {\n   return Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n  var str = num.toString(16).toUpperCase();\n  return (str.length < 2) ? \"0\" + str : str;\n}\n\n\n//create a list of reverse color names\nvar reverseNames = {};\nfor (var name in colorNames) {\n   reverseNames[colorNames[name]] = name;\n}\n\n},{\"6\":6}],3:[function(require,module,exports){\n/* MIT license */\nvar convert = require(5);\nvar string = require(2);\n\nvar Color = function (obj) {\n\tif (obj instanceof Color) {\n\t\treturn obj;\n\t}\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj);\n\t}\n\n\tthis.values = {\n\t\trgb: [0, 0, 0],\n\t\thsl: [0, 0, 0],\n\t\thsv: [0, 0, 0],\n\t\thwb: [0, 0, 0],\n\t\tcmyk: [0, 0, 0, 0],\n\t\talpha: 1\n\t};\n\n\t// parse Color() argument\n\tvar vals;\n\tif (typeof obj === 'string') {\n\t\tvals = string.getRgba(obj);\n\t\tif (vals) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals = string.getHsla(obj)) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals = string.getHwb(obj)) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t} else {\n\t\t\tthrow new Error('Unable to parse color from string \"' + obj + '\"');\n\t\t}\n\t} else if (typeof obj === 'object') {\n\t\tvals = obj;\n\t\tif (vals.r !== undefined || vals.red !== undefined) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals.l !== undefined || vals.lightness !== undefined) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals.v !== undefined || vals.value !== undefined) {\n\t\t\tthis.setValues('hsv', vals);\n\t\t} else if (vals.w !== undefined || vals.whiteness !== undefined) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t} else if (vals.c !== undefined || vals.cyan !== undefined) {\n\t\t\tthis.setValues('cmyk', vals);\n\t\t} else {\n\t\t\tthrow new Error('Unable to parse color from object ' + JSON.stringify(obj));\n\t\t}\n\t}\n};\n\nColor.prototype = {\n\trgb: function () {\n\t\treturn this.setSpace('rgb', arguments);\n\t},\n\thsl: function () {\n\t\treturn this.setSpace('hsl', arguments);\n\t},\n\thsv: function () {\n\t\treturn this.setSpace('hsv', arguments);\n\t},\n\thwb: function () {\n\t\treturn this.setSpace('hwb', arguments);\n\t},\n\tcmyk: function () {\n\t\treturn this.setSpace('cmyk', arguments);\n\t},\n\n\trgbArray: function () {\n\t\treturn this.values.rgb;\n\t},\n\thslArray: function () {\n\t\treturn this.values.hsl;\n\t},\n\thsvArray: function () {\n\t\treturn this.values.hsv;\n\t},\n\thwbArray: function () {\n\t\tvar values = this.values;\n\t\tif (values.alpha !== 1) {\n\t\t\treturn values.hwb.concat([values.alpha]);\n\t\t}\n\t\treturn values.hwb;\n\t},\n\tcmykArray: function () {\n\t\treturn this.values.cmyk;\n\t},\n\trgbaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.rgb.concat([values.alpha]);\n\t},\n\thslaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.hsl.concat([values.alpha]);\n\t},\n\talpha: function (val) {\n\t\tif (val === undefined) {\n\t\t\treturn this.values.alpha;\n\t\t}\n\t\tthis.setValues('alpha', val);\n\t\treturn this;\n\t},\n\n\tred: function (val) {\n\t\treturn this.setChannel('rgb', 0, val);\n\t},\n\tgreen: function (val) {\n\t\treturn this.setChannel('rgb', 1, val);\n\t},\n\tblue: function (val) {\n\t\treturn this.setChannel('rgb', 2, val);\n\t},\n\thue: function (val) {\n\t\tif (val) {\n\t\t\tval %= 360;\n\t\t\tval = val < 0 ? 360 + val : val;\n\t\t}\n\t\treturn this.setChannel('hsl', 0, val);\n\t},\n\tsaturation: function (val) {\n\t\treturn this.setChannel('hsl', 1, val);\n\t},\n\tlightness: function (val) {\n\t\treturn this.setChannel('hsl', 2, val);\n\t},\n\tsaturationv: function (val) {\n\t\treturn this.setChannel('hsv', 1, val);\n\t},\n\twhiteness: function (val) {\n\t\treturn this.setChannel('hwb', 1, val);\n\t},\n\tblackness: function (val) {\n\t\treturn this.setChannel('hwb', 2, val);\n\t},\n\tvalue: function (val) {\n\t\treturn this.setChannel('hsv', 2, val);\n\t},\n\tcyan: function (val) {\n\t\treturn this.setChannel('cmyk', 0, val);\n\t},\n\tmagenta: function (val) {\n\t\treturn this.setChannel('cmyk', 1, val);\n\t},\n\tyellow: function (val) {\n\t\treturn this.setChannel('cmyk', 2, val);\n\t},\n\tblack: function (val) {\n\t\treturn this.setChannel('cmyk', 3, val);\n\t},\n\n\thexString: function () {\n\t\treturn string.hexString(this.values.rgb);\n\t},\n\trgbString: function () {\n\t\treturn string.rgbString(this.values.rgb, this.values.alpha);\n\t},\n\trgbaString: function () {\n\t\treturn string.rgbaString(this.values.rgb, this.values.alpha);\n\t},\n\tpercentString: function () {\n\t\treturn string.percentString(this.values.rgb, this.values.alpha);\n\t},\n\thslString: function () {\n\t\treturn string.hslString(this.values.hsl, this.values.alpha);\n\t},\n\thslaString: function () {\n\t\treturn string.hslaString(this.values.hsl, this.values.alpha);\n\t},\n\thwbString: function () {\n\t\treturn string.hwbString(this.values.hwb, this.values.alpha);\n\t},\n\tkeyword: function () {\n\t\treturn string.keyword(this.values.rgb, this.values.alpha);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.values.rgb;\n\t\treturn (rgb[0] << 16) | (rgb[1] << 8) | rgb[2];\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.values.rgb;\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tdark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.values.rgb;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tlight: function () {\n\t\treturn !this.dark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = [];\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb[i] = 255 - this.values.rgb[i];\n\t\t}\n\t\tthis.setValues('rgb', rgb);\n\t\treturn this;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] += hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] -= hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] += hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] -= hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[1] += hwb[1] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[2] += hwb[2] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tgreyscale: function () {\n\t\tvar rgb = this.values.rgb;\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\tthis.setValues('rgb', [val, val, val]);\n\t\treturn this;\n\t},\n\n\tclearer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha - (alpha * ratio));\n\t\treturn this;\n\t},\n\n\topaquer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha + (alpha * ratio));\n\t\treturn this;\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.values.hsl;\n\t\tvar hue = (hsl[0] + degrees) % 360;\n\t\thsl[0] = hue < 0 ? 360 + hue : hue;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Ported from sass implementation in C\n\t * https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t */\n\tmix: function (mixinColor, weight) {\n\t\tvar color1 = this;\n\t\tvar color2 = mixinColor;\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn this\n\t\t\t.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue()\n\t\t\t)\n\t\t\t.alpha(color1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n\n\ttoJSON: function () {\n\t\treturn this.rgb();\n\t},\n\n\tclone: function () {\n\t\t// NOTE(SB): using node-clone creates a dependency to Buffer when using browserify,\n\t\t// making the final build way to big to embed in Chart.js. So let's do it manually,\n\t\t// assuming that values to clone are 1 dimension arrays containing only numbers,\n\t\t// except 'alpha' which is a number.\n\t\tvar result = new Color();\n\t\tvar source = this.values;\n\t\tvar target = result.values;\n\t\tvar value, type;\n\n\t\tfor (var prop in source) {\n\t\t\tif (source.hasOwnProperty(prop)) {\n\t\t\t\tvalue = source[prop];\n\t\t\t\ttype = ({}).toString.call(value);\n\t\t\t\tif (type === '[object Array]') {\n\t\t\t\t\ttarget[prop] = value.slice(0);\n\t\t\t\t} else if (type === '[object Number]') {\n\t\t\t\t\ttarget[prop] = value;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('unexpected color value:', value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nColor.prototype.spaces = {\n\trgb: ['red', 'green', 'blue'],\n\thsl: ['hue', 'saturation', 'lightness'],\n\thsv: ['hue', 'saturation', 'value'],\n\thwb: ['hue', 'whiteness', 'blackness'],\n\tcmyk: ['cyan', 'magenta', 'yellow', 'black']\n};\n\nColor.prototype.maxes = {\n\trgb: [255, 255, 255],\n\thsl: [360, 100, 100],\n\thsv: [360, 100, 100],\n\thwb: [360, 100, 100],\n\tcmyk: [100, 100, 100, 100]\n};\n\nColor.prototype.getValues = function (space) {\n\tvar values = this.values;\n\tvar vals = {};\n\n\tfor (var i = 0; i < space.length; i++) {\n\t\tvals[space.charAt(i)] = values[space][i];\n\t}\n\n\tif (values.alpha !== 1) {\n\t\tvals.a = values.alpha;\n\t}\n\n\t// {r: 255, g: 255, b: 255, a: 0.4}\n\treturn vals;\n};\n\nColor.prototype.setValues = function (space, vals) {\n\tvar values = this.values;\n\tvar spaces = this.spaces;\n\tvar maxes = this.maxes;\n\tvar alpha = 1;\n\tvar i;\n\n\tif (space === 'alpha') {\n\t\talpha = vals;\n\t} else if (vals.length) {\n\t\t// [10, 10, 10]\n\t\tvalues[space] = vals.slice(0, space.length);\n\t\talpha = vals[space.length];\n\t} else if (vals[space.charAt(0)] !== undefined) {\n\t\t// {r: 10, g: 10, b: 10}\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[space.charAt(i)];\n\t\t}\n\n\t\talpha = vals.a;\n\t} else if (vals[spaces[space][0]] !== undefined) {\n\t\t// {red: 10, green: 10, blue: 10}\n\t\tvar chans = spaces[space];\n\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[chans[i]];\n\t\t}\n\n\t\talpha = vals.alpha;\n\t}\n\n\tvalues.alpha = Math.max(0, Math.min(1, (alpha === undefined ? values.alpha : alpha)));\n\n\tif (space === 'alpha') {\n\t\treturn false;\n\t}\n\n\tvar capped;\n\n\t// cap values of the space prior converting all values\n\tfor (i = 0; i < space.length; i++) {\n\t\tcapped = Math.max(0, Math.min(maxes[space][i], values[space][i]));\n\t\tvalues[space][i] = Math.round(capped);\n\t}\n\n\t// convert to all the other color spaces\n\tfor (var sname in spaces) {\n\t\tif (sname !== space) {\n\t\t\tvalues[sname] = convert[space][sname](values[space]);\n\t\t}\n\t}\n\n\treturn true;\n};\n\nColor.prototype.setSpace = function (space, args) {\n\tvar vals = args[0];\n\n\tif (vals === undefined) {\n\t\t// color.rgb()\n\t\treturn this.getValues(space);\n\t}\n\n\t// color.rgb(10, 10, 10)\n\tif (typeof vals === 'number') {\n\t\tvals = Array.prototype.slice.call(args);\n\t}\n\n\tthis.setValues(space, vals);\n\treturn this;\n};\n\nColor.prototype.setChannel = function (space, index, val) {\n\tvar svalues = this.values[space];\n\tif (val === undefined) {\n\t\t// color.red()\n\t\treturn svalues[index];\n\t} else if (val === svalues[index]) {\n\t\t// color.red(color.red())\n\t\treturn this;\n\t}\n\n\t// color.red(100)\n\tsvalues[index] = val;\n\tthis.setValues(space, svalues);\n\n\treturn this;\n};\n\nif (typeof window !== 'undefined') {\n\twindow.Color = Color;\n}\n\nmodule.exports = Color;\n\n},{\"2\":2,\"5\":5}],4:[function(require,module,exports){\n/* MIT license */\n\nmodule.exports = {\n  rgb2hsl: rgb2hsl,\n  rgb2hsv: rgb2hsv,\n  rgb2hwb: rgb2hwb,\n  rgb2cmyk: rgb2cmyk,\n  rgb2keyword: rgb2keyword,\n  rgb2xyz: rgb2xyz,\n  rgb2lab: rgb2lab,\n  rgb2lch: rgb2lch,\n\n  hsl2rgb: hsl2rgb,\n  hsl2hsv: hsl2hsv,\n  hsl2hwb: hsl2hwb,\n  hsl2cmyk: hsl2cmyk,\n  hsl2keyword: hsl2keyword,\n\n  hsv2rgb: hsv2rgb,\n  hsv2hsl: hsv2hsl,\n  hsv2hwb: hsv2hwb,\n  hsv2cmyk: hsv2cmyk,\n  hsv2keyword: hsv2keyword,\n\n  hwb2rgb: hwb2rgb,\n  hwb2hsl: hwb2hsl,\n  hwb2hsv: hwb2hsv,\n  hwb2cmyk: hwb2cmyk,\n  hwb2keyword: hwb2keyword,\n\n  cmyk2rgb: cmyk2rgb,\n  cmyk2hsl: cmyk2hsl,\n  cmyk2hsv: cmyk2hsv,\n  cmyk2hwb: cmyk2hwb,\n  cmyk2keyword: cmyk2keyword,\n\n  keyword2rgb: keyword2rgb,\n  keyword2hsl: keyword2hsl,\n  keyword2hsv: keyword2hsv,\n  keyword2hwb: keyword2hwb,\n  keyword2cmyk: keyword2cmyk,\n  keyword2lab: keyword2lab,\n  keyword2xyz: keyword2xyz,\n\n  xyz2rgb: xyz2rgb,\n  xyz2lab: xyz2lab,\n  xyz2lch: xyz2lch,\n\n  lab2xyz: lab2xyz,\n  lab2rgb: lab2rgb,\n  lab2lch: lab2lch,\n\n  lch2lab: lch2lab,\n  lch2xyz: lch2xyz,\n  lch2rgb: lch2rgb\n}\n\n\nfunction rgb2hsl(rgb) {\n  var r = rgb[0]/255,\n      g = rgb[1]/255,\n      b = rgb[2]/255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      delta = max - min,\n      h, s, l;\n\n  if (max == min)\n    h = 0;\n  else if (r == max)\n    h = (g - b) / delta;\n  else if (g == max)\n    h = 2 + (b - r) / delta;\n  else if (b == max)\n    h = 4 + (r - g)/ delta;\n\n  h = Math.min(h * 60, 360);\n\n  if (h < 0)\n    h += 360;\n\n  l = (min + max) / 2;\n\n  if (max == min)\n    s = 0;\n  else if (l <= 0.5)\n    s = delta / (max + min);\n  else\n    s = delta / (2 - max - min);\n\n  return [h, s * 100, l * 100];\n}\n\nfunction rgb2hsv(rgb) {\n  var r = rgb[0],\n      g = rgb[1],\n      b = rgb[2],\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      delta = max - min,\n      h, s, v;\n\n  if (max == 0)\n    s = 0;\n  else\n    s = (delta/max * 1000)/10;\n\n  if (max == min)\n    h = 0;\n  else if (r == max)\n    h = (g - b) / delta;\n  else if (g == max)\n    h = 2 + (b - r) / delta;\n  else if (b == max)\n    h = 4 + (r - g) / delta;\n\n  h = Math.min(h * 60, 360);\n\n  if (h < 0)\n    h += 360;\n\n  v = ((max / 255) * 1000) / 10;\n\n  return [h, s, v];\n}\n\nfunction rgb2hwb(rgb) {\n  var r = rgb[0],\n      g = rgb[1],\n      b = rgb[2],\n      h = rgb2hsl(rgb)[0],\n      w = 1/255 * Math.min(r, Math.min(g, b)),\n      b = 1 - 1/255 * Math.max(r, Math.max(g, b));\n\n  return [h, w * 100, b * 100];\n}\n\nfunction rgb2cmyk(rgb) {\n  var r = rgb[0] / 255,\n      g = rgb[1] / 255,\n      b = rgb[2] / 255,\n      c, m, y, k;\n\n  k = Math.min(1 - r, 1 - g, 1 - b);\n  c = (1 - r - k) / (1 - k) || 0;\n  m = (1 - g - k) / (1 - k) || 0;\n  y = (1 - b - k) / (1 - k) || 0;\n  return [c * 100, m * 100, y * 100, k * 100];\n}\n\nfunction rgb2keyword(rgb) {\n  return reverseKeywords[JSON.stringify(rgb)];\n}\n\nfunction rgb2xyz(rgb) {\n  var r = rgb[0] / 255,\n      g = rgb[1] / 255,\n      b = rgb[2] / 255;\n\n  // assume sRGB\n  r = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n  g = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n  b = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n  var x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n  var y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n  var z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n  return [x * 100, y *100, z * 100];\n}\n\nfunction rgb2lab(rgb) {\n  var xyz = rgb2xyz(rgb),\n        x = xyz[0],\n        y = xyz[1],\n        z = xyz[2],\n        l, a, b;\n\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n\n  x = x > 0.008856 ? Math.pow(x, 1/3) : (7.787 * x) + (16 / 116);\n  y = y > 0.008856 ? Math.pow(y, 1/3) : (7.787 * y) + (16 / 116);\n  z = z > 0.008856 ? Math.pow(z, 1/3) : (7.787 * z) + (16 / 116);\n\n  l = (116 * y) - 16;\n  a = 500 * (x - y);\n  b = 200 * (y - z);\n\n  return [l, a, b];\n}\n\nfunction rgb2lch(args) {\n  return lab2lch(rgb2lab(args));\n}\n\nfunction hsl2rgb(hsl) {\n  var h = hsl[0] / 360,\n      s = hsl[1] / 100,\n      l = hsl[2] / 100,\n      t1, t2, t3, rgb, val;\n\n  if (s == 0) {\n    val = l * 255;\n    return [val, val, val];\n  }\n\n  if (l < 0.5)\n    t2 = l * (1 + s);\n  else\n    t2 = l + s - l * s;\n  t1 = 2 * l - t2;\n\n  rgb = [0, 0, 0];\n  for (var i = 0; i < 3; i++) {\n    t3 = h + 1 / 3 * - (i - 1);\n    t3 < 0 && t3++;\n    t3 > 1 && t3--;\n\n    if (6 * t3 < 1)\n      val = t1 + (t2 - t1) * 6 * t3;\n    else if (2 * t3 < 1)\n      val = t2;\n    else if (3 * t3 < 2)\n      val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n    else\n      val = t1;\n\n    rgb[i] = val * 255;\n  }\n\n  return rgb;\n}\n\nfunction hsl2hsv(hsl) {\n  var h = hsl[0],\n      s = hsl[1] / 100,\n      l = hsl[2] / 100,\n      sv, v;\n\n  if(l === 0) {\n      // no need to do calc on black\n      // also avoids divide by 0 error\n      return [0, 0, 0];\n  }\n\n  l *= 2;\n  s *= (l <= 1) ? l : 2 - l;\n  v = (l + s) / 2;\n  sv = (2 * s) / (l + s);\n  return [h, sv * 100, v * 100];\n}\n\nfunction hsl2hwb(args) {\n  return rgb2hwb(hsl2rgb(args));\n}\n\nfunction hsl2cmyk(args) {\n  return rgb2cmyk(hsl2rgb(args));\n}\n\nfunction hsl2keyword(args) {\n  return rgb2keyword(hsl2rgb(args));\n}\n\n\nfunction hsv2rgb(hsv) {\n  var h = hsv[0] / 60,\n      s = hsv[1] / 100,\n      v = hsv[2] / 100,\n      hi = Math.floor(h) % 6;\n\n  var f = h - Math.floor(h),\n      p = 255 * v * (1 - s),\n      q = 255 * v * (1 - (s * f)),\n      t = 255 * v * (1 - (s * (1 - f))),\n      v = 255 * v;\n\n  switch(hi) {\n    case 0:\n      return [v, t, p];\n    case 1:\n      return [q, v, p];\n    case 2:\n      return [p, v, t];\n    case 3:\n      return [p, q, v];\n    case 4:\n      return [t, p, v];\n    case 5:\n      return [v, p, q];\n  }\n}\n\nfunction hsv2hsl(hsv) {\n  var h = hsv[0],\n      s = hsv[1] / 100,\n      v = hsv[2] / 100,\n      sl, l;\n\n  l = (2 - s) * v;\n  sl = s * v;\n  sl /= (l <= 1) ? l : 2 - l;\n  sl = sl || 0;\n  l /= 2;\n  return [h, sl * 100, l * 100];\n}\n\nfunction hsv2hwb(args) {\n  return rgb2hwb(hsv2rgb(args))\n}\n\nfunction hsv2cmyk(args) {\n  return rgb2cmyk(hsv2rgb(args));\n}\n\nfunction hsv2keyword(args) {\n  return rgb2keyword(hsv2rgb(args));\n}\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nfunction hwb2rgb(hwb) {\n  var h = hwb[0] / 360,\n      wh = hwb[1] / 100,\n      bl = hwb[2] / 100,\n      ratio = wh + bl,\n      i, v, f, n;\n\n  // wh + bl cant be > 1\n  if (ratio > 1) {\n    wh /= ratio;\n    bl /= ratio;\n  }\n\n  i = Math.floor(6 * h);\n  v = 1 - bl;\n  f = 6 * h - i;\n  if ((i & 0x01) != 0) {\n    f = 1 - f;\n  }\n  n = wh + f * (v - wh);  // linear interpolation\n\n  switch (i) {\n    default:\n    case 6:\n    case 0: r = v; g = n; b = wh; break;\n    case 1: r = n; g = v; b = wh; break;\n    case 2: r = wh; g = v; b = n; break;\n    case 3: r = wh; g = n; b = v; break;\n    case 4: r = n; g = wh; b = v; break;\n    case 5: r = v; g = wh; b = n; break;\n  }\n\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction hwb2hsl(args) {\n  return rgb2hsl(hwb2rgb(args));\n}\n\nfunction hwb2hsv(args) {\n  return rgb2hsv(hwb2rgb(args));\n}\n\nfunction hwb2cmyk(args) {\n  return rgb2cmyk(hwb2rgb(args));\n}\n\nfunction hwb2keyword(args) {\n  return rgb2keyword(hwb2rgb(args));\n}\n\nfunction cmyk2rgb(cmyk) {\n  var c = cmyk[0] / 100,\n      m = cmyk[1] / 100,\n      y = cmyk[2] / 100,\n      k = cmyk[3] / 100,\n      r, g, b;\n\n  r = 1 - Math.min(1, c * (1 - k) + k);\n  g = 1 - Math.min(1, m * (1 - k) + k);\n  b = 1 - Math.min(1, y * (1 - k) + k);\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction cmyk2hsl(args) {\n  return rgb2hsl(cmyk2rgb(args));\n}\n\nfunction cmyk2hsv(args) {\n  return rgb2hsv(cmyk2rgb(args));\n}\n\nfunction cmyk2hwb(args) {\n  return rgb2hwb(cmyk2rgb(args));\n}\n\nfunction cmyk2keyword(args) {\n  return rgb2keyword(cmyk2rgb(args));\n}\n\n\nfunction xyz2rgb(xyz) {\n  var x = xyz[0] / 100,\n      y = xyz[1] / 100,\n      z = xyz[2] / 100,\n      r, g, b;\n\n  r = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n  g = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n  b = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n  // assume sRGB\n  r = r > 0.0031308 ? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n    : r = (r * 12.92);\n\n  g = g > 0.0031308 ? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n    : g = (g * 12.92);\n\n  b = b > 0.0031308 ? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n    : b = (b * 12.92);\n\n  r = Math.min(Math.max(0, r), 1);\n  g = Math.min(Math.max(0, g), 1);\n  b = Math.min(Math.max(0, b), 1);\n\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction xyz2lab(xyz) {\n  var x = xyz[0],\n      y = xyz[1],\n      z = xyz[2],\n      l, a, b;\n\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n\n  x = x > 0.008856 ? Math.pow(x, 1/3) : (7.787 * x) + (16 / 116);\n  y = y > 0.008856 ? Math.pow(y, 1/3) : (7.787 * y) + (16 / 116);\n  z = z > 0.008856 ? Math.pow(z, 1/3) : (7.787 * z) + (16 / 116);\n\n  l = (116 * y) - 16;\n  a = 500 * (x - y);\n  b = 200 * (y - z);\n\n  return [l, a, b];\n}\n\nfunction xyz2lch(args) {\n  return lab2lch(xyz2lab(args));\n}\n\nfunction lab2xyz(lab) {\n  var l = lab[0],\n      a = lab[1],\n      b = lab[2],\n      x, y, z, y2;\n\n  if (l <= 8) {\n    y = (l * 100) / 903.3;\n    y2 = (7.787 * (y / 100)) + (16 / 116);\n  } else {\n    y = 100 * Math.pow((l + 16) / 116, 3);\n    y2 = Math.pow(y / 100, 1/3);\n  }\n\n  x = x / 95.047 <= 0.008856 ? x = (95.047 * ((a / 500) + y2 - (16 / 116))) / 7.787 : 95.047 * Math.pow((a / 500) + y2, 3);\n\n  z = z / 108.883 <= 0.008859 ? z = (108.883 * (y2 - (b / 200) - (16 / 116))) / 7.787 : 108.883 * Math.pow(y2 - (b / 200), 3);\n\n  return [x, y, z];\n}\n\nfunction lab2lch(lab) {\n  var l = lab[0],\n      a = lab[1],\n      b = lab[2],\n      hr, h, c;\n\n  hr = Math.atan2(b, a);\n  h = hr * 360 / 2 / Math.PI;\n  if (h < 0) {\n    h += 360;\n  }\n  c = Math.sqrt(a * a + b * b);\n  return [l, c, h];\n}\n\nfunction lab2rgb(args) {\n  return xyz2rgb(lab2xyz(args));\n}\n\nfunction lch2lab(lch) {\n  var l = lch[0],\n      c = lch[1],\n      h = lch[2],\n      a, b, hr;\n\n  hr = h / 360 * 2 * Math.PI;\n  a = c * Math.cos(hr);\n  b = c * Math.sin(hr);\n  return [l, a, b];\n}\n\nfunction lch2xyz(args) {\n  return lab2xyz(lch2lab(args));\n}\n\nfunction lch2rgb(args) {\n  return lab2rgb(lch2lab(args));\n}\n\nfunction keyword2rgb(keyword) {\n  return cssKeywords[keyword];\n}\n\nfunction keyword2hsl(args) {\n  return rgb2hsl(keyword2rgb(args));\n}\n\nfunction keyword2hsv(args) {\n  return rgb2hsv(keyword2rgb(args));\n}\n\nfunction keyword2hwb(args) {\n  return rgb2hwb(keyword2rgb(args));\n}\n\nfunction keyword2cmyk(args) {\n  return rgb2cmyk(keyword2rgb(args));\n}\n\nfunction keyword2lab(args) {\n  return rgb2lab(keyword2rgb(args));\n}\n\nfunction keyword2xyz(args) {\n  return rgb2xyz(keyword2rgb(args));\n}\n\nvar cssKeywords = {\n  aliceblue:  [240,248,255],\n  antiquewhite: [250,235,215],\n  aqua: [0,255,255],\n  aquamarine: [127,255,212],\n  azure:  [240,255,255],\n  beige:  [245,245,220],\n  bisque: [255,228,196],\n  black:  [0,0,0],\n  blanchedalmond: [255,235,205],\n  blue: [0,0,255],\n  blueviolet: [138,43,226],\n  brown:  [165,42,42],\n  burlywood:  [222,184,135],\n  cadetblue:  [95,158,160],\n  chartreuse: [127,255,0],\n  chocolate:  [210,105,30],\n  coral:  [255,127,80],\n  cornflowerblue: [100,149,237],\n  cornsilk: [255,248,220],\n  crimson:  [220,20,60],\n  cyan: [0,255,255],\n  darkblue: [0,0,139],\n  darkcyan: [0,139,139],\n  darkgoldenrod:  [184,134,11],\n  darkgray: [169,169,169],\n  darkgreen:  [0,100,0],\n  darkgrey: [169,169,169],\n  darkkhaki:  [189,183,107],\n  darkmagenta:  [139,0,139],\n  darkolivegreen: [85,107,47],\n  darkorange: [255,140,0],\n  darkorchid: [153,50,204],\n  darkred:  [139,0,0],\n  darksalmon: [233,150,122],\n  darkseagreen: [143,188,143],\n  darkslateblue:  [72,61,139],\n  darkslategray:  [47,79,79],\n  darkslategrey:  [47,79,79],\n  darkturquoise:  [0,206,209],\n  darkviolet: [148,0,211],\n  deeppink: [255,20,147],\n  deepskyblue:  [0,191,255],\n  dimgray:  [105,105,105],\n  dimgrey:  [105,105,105],\n  dodgerblue: [30,144,255],\n  firebrick:  [178,34,34],\n  floralwhite:  [255,250,240],\n  forestgreen:  [34,139,34],\n  fuchsia:  [255,0,255],\n  gainsboro:  [220,220,220],\n  ghostwhite: [248,248,255],\n  gold: [255,215,0],\n  goldenrod:  [218,165,32],\n  gray: [128,128,128],\n  green:  [0,128,0],\n  greenyellow:  [173,255,47],\n  grey: [128,128,128],\n  honeydew: [240,255,240],\n  hotpink:  [255,105,180],\n  indianred:  [205,92,92],\n  indigo: [75,0,130],\n  ivory:  [255,255,240],\n  khaki:  [240,230,140],\n  lavender: [230,230,250],\n  lavenderblush:  [255,240,245],\n  lawngreen:  [124,252,0],\n  lemonchiffon: [255,250,205],\n  lightblue:  [173,216,230],\n  lightcoral: [240,128,128],\n  lightcyan:  [224,255,255],\n  lightgoldenrodyellow: [250,250,210],\n  lightgray:  [211,211,211],\n  lightgreen: [144,238,144],\n  lightgrey:  [211,211,211],\n  lightpink:  [255,182,193],\n  lightsalmon:  [255,160,122],\n  lightseagreen:  [32,178,170],\n  lightskyblue: [135,206,250],\n  lightslategray: [119,136,153],\n  lightslategrey: [119,136,153],\n  lightsteelblue: [176,196,222],\n  lightyellow:  [255,255,224],\n  lime: [0,255,0],\n  limegreen:  [50,205,50],\n  linen:  [250,240,230],\n  magenta:  [255,0,255],\n  maroon: [128,0,0],\n  mediumaquamarine: [102,205,170],\n  mediumblue: [0,0,205],\n  mediumorchid: [186,85,211],\n  mediumpurple: [147,112,219],\n  mediumseagreen: [60,179,113],\n  mediumslateblue:  [123,104,238],\n  mediumspringgreen:  [0,250,154],\n  mediumturquoise:  [72,209,204],\n  mediumvioletred:  [199,21,133],\n  midnightblue: [25,25,112],\n  mintcream:  [245,255,250],\n  mistyrose:  [255,228,225],\n  moccasin: [255,228,181],\n  navajowhite:  [255,222,173],\n  navy: [0,0,128],\n  oldlace:  [253,245,230],\n  olive:  [128,128,0],\n  olivedrab:  [107,142,35],\n  orange: [255,165,0],\n  orangered:  [255,69,0],\n  orchid: [218,112,214],\n  palegoldenrod:  [238,232,170],\n  palegreen:  [152,251,152],\n  paleturquoise:  [175,238,238],\n  palevioletred:  [219,112,147],\n  papayawhip: [255,239,213],\n  peachpuff:  [255,218,185],\n  peru: [205,133,63],\n  pink: [255,192,203],\n  plum: [221,160,221],\n  powderblue: [176,224,230],\n  purple: [128,0,128],\n  rebeccapurple: [102, 51, 153],\n  red:  [255,0,0],\n  rosybrown:  [188,143,143],\n  royalblue:  [65,105,225],\n  saddlebrown:  [139,69,19],\n  salmon: [250,128,114],\n  sandybrown: [244,164,96],\n  seagreen: [46,139,87],\n  seashell: [255,245,238],\n  sienna: [160,82,45],\n  silver: [192,192,192],\n  skyblue:  [135,206,235],\n  slateblue:  [106,90,205],\n  slategray:  [112,128,144],\n  slategrey:  [112,128,144],\n  snow: [255,250,250],\n  springgreen:  [0,255,127],\n  steelblue:  [70,130,180],\n  tan:  [210,180,140],\n  teal: [0,128,128],\n  thistle:  [216,191,216],\n  tomato: [255,99,71],\n  turquoise:  [64,224,208],\n  violet: [238,130,238],\n  wheat:  [245,222,179],\n  white:  [255,255,255],\n  whitesmoke: [245,245,245],\n  yellow: [255,255,0],\n  yellowgreen:  [154,205,50]\n};\n\nvar reverseKeywords = {};\nfor (var key in cssKeywords) {\n  reverseKeywords[JSON.stringify(cssKeywords[key])] = key;\n}\n\n},{}],5:[function(require,module,exports){\nvar conversions = require(4);\n\nvar convert = function() {\n   return new Converter();\n}\n\nfor (var func in conversions) {\n  // export Raw versions\n  convert[func + \"Raw\"] =  (function(func) {\n    // accept array or plain args\n    return function(arg) {\n      if (typeof arg == \"number\")\n        arg = Array.prototype.slice.call(arguments);\n      return conversions[func](arg);\n    }\n  })(func);\n\n  var pair = /(\\w+)2(\\w+)/.exec(func),\n      from = pair[1],\n      to = pair[2];\n\n  // export rgb2hsl and [\"rgb\"][\"hsl\"]\n  convert[from] = convert[from] || {};\n\n  convert[from][to] = convert[func] = (function(func) {\n    return function(arg) {\n      if (typeof arg == \"number\")\n        arg = Array.prototype.slice.call(arguments);\n\n      var val = conversions[func](arg);\n      if (typeof val == \"string\" || val === undefined)\n        return val; // keyword\n\n      for (var i = 0; i < val.length; i++)\n        val[i] = Math.round(val[i]);\n      return val;\n    }\n  })(func);\n}\n\n\n/* Converter does lazy conversion and caching */\nvar Converter = function() {\n   this.convs = {};\n};\n\n/* Either get the values for a space or\n  set the values for a space, depending on args */\nConverter.prototype.routeSpace = function(space, args) {\n   var values = args[0];\n   if (values === undefined) {\n      // color.rgb()\n      return this.getValues(space);\n   }\n   // color.rgb(10, 10, 10)\n   if (typeof values == \"number\") {\n      values = Array.prototype.slice.call(args);\n   }\n\n   return this.setValues(space, values);\n};\n\n/* Set the values for a space, invalidating cache */\nConverter.prototype.setValues = function(space, values) {\n   this.space = space;\n   this.convs = {};\n   this.convs[space] = values;\n   return this;\n};\n\n/* Get the values for a space. If there's already\n  a conversion for the space, fetch it, otherwise\n  compute it */\nConverter.prototype.getValues = function(space) {\n   var vals = this.convs[space];\n   if (!vals) {\n      var fspace = this.space,\n          from = this.convs[fspace];\n      vals = convert[fspace][space](from);\n\n      this.convs[space] = vals;\n   }\n  return vals;\n};\n\n[\"rgb\", \"hsl\", \"hsv\", \"cmyk\", \"keyword\"].forEach(function(space) {\n   Converter.prototype[space] = function(vals) {\n      return this.routeSpace(space, arguments);\n   }\n});\n\nmodule.exports = convert;\n},{\"4\":4}],6:[function(require,module,exports){\nmodule.exports = {\n\t\"aliceblue\": [240, 248, 255],\n\t\"antiquewhite\": [250, 235, 215],\n\t\"aqua\": [0, 255, 255],\n\t\"aquamarine\": [127, 255, 212],\n\t\"azure\": [240, 255, 255],\n\t\"beige\": [245, 245, 220],\n\t\"bisque\": [255, 228, 196],\n\t\"black\": [0, 0, 0],\n\t\"blanchedalmond\": [255, 235, 205],\n\t\"blue\": [0, 0, 255],\n\t\"blueviolet\": [138, 43, 226],\n\t\"brown\": [165, 42, 42],\n\t\"burlywood\": [222, 184, 135],\n\t\"cadetblue\": [95, 158, 160],\n\t\"chartreuse\": [127, 255, 0],\n\t\"chocolate\": [210, 105, 30],\n\t\"coral\": [255, 127, 80],\n\t\"cornflowerblue\": [100, 149, 237],\n\t\"cornsilk\": [255, 248, 220],\n\t\"crimson\": [220, 20, 60],\n\t\"cyan\": [0, 255, 255],\n\t\"darkblue\": [0, 0, 139],\n\t\"darkcyan\": [0, 139, 139],\n\t\"darkgoldenrod\": [184, 134, 11],\n\t\"darkgray\": [169, 169, 169],\n\t\"darkgreen\": [0, 100, 0],\n\t\"darkgrey\": [169, 169, 169],\n\t\"darkkhaki\": [189, 183, 107],\n\t\"darkmagenta\": [139, 0, 139],\n\t\"darkolivegreen\": [85, 107, 47],\n\t\"darkorange\": [255, 140, 0],\n\t\"darkorchid\": [153, 50, 204],\n\t\"darkred\": [139, 0, 0],\n\t\"darksalmon\": [233, 150, 122],\n\t\"darkseagreen\": [143, 188, 143],\n\t\"darkslateblue\": [72, 61, 139],\n\t\"darkslategray\": [47, 79, 79],\n\t\"darkslategrey\": [47, 79, 79],\n\t\"darkturquoise\": [0, 206, 209],\n\t\"darkviolet\": [148, 0, 211],\n\t\"deeppink\": [255, 20, 147],\n\t\"deepskyblue\": [0, 191, 255],\n\t\"dimgray\": [105, 105, 105],\n\t\"dimgrey\": [105, 105, 105],\n\t\"dodgerblue\": [30, 144, 255],\n\t\"firebrick\": [178, 34, 34],\n\t\"floralwhite\": [255, 250, 240],\n\t\"forestgreen\": [34, 139, 34],\n\t\"fuchsia\": [255, 0, 255],\n\t\"gainsboro\": [220, 220, 220],\n\t\"ghostwhite\": [248, 248, 255],\n\t\"gold\": [255, 215, 0],\n\t\"goldenrod\": [218, 165, 32],\n\t\"gray\": [128, 128, 128],\n\t\"green\": [0, 128, 0],\n\t\"greenyellow\": [173, 255, 47],\n\t\"grey\": [128, 128, 128],\n\t\"honeydew\": [240, 255, 240],\n\t\"hotpink\": [255, 105, 180],\n\t\"indianred\": [205, 92, 92],\n\t\"indigo\": [75, 0, 130],\n\t\"ivory\": [255, 255, 240],\n\t\"khaki\": [240, 230, 140],\n\t\"lavender\": [230, 230, 250],\n\t\"lavenderblush\": [255, 240, 245],\n\t\"lawngreen\": [124, 252, 0],\n\t\"lemonchiffon\": [255, 250, 205],\n\t\"lightblue\": [173, 216, 230],\n\t\"lightcoral\": [240, 128, 128],\n\t\"lightcyan\": [224, 255, 255],\n\t\"lightgoldenrodyellow\": [250, 250, 210],\n\t\"lightgray\": [211, 211, 211],\n\t\"lightgreen\": [144, 238, 144],\n\t\"lightgrey\": [211, 211, 211],\n\t\"lightpink\": [255, 182, 193],\n\t\"lightsalmon\": [255, 160, 122],\n\t\"lightseagreen\": [32, 178, 170],\n\t\"lightskyblue\": [135, 206, 250],\n\t\"lightslategray\": [119, 136, 153],\n\t\"lightslategrey\": [119, 136, 153],\n\t\"lightsteelblue\": [176, 196, 222],\n\t\"lightyellow\": [255, 255, 224],\n\t\"lime\": [0, 255, 0],\n\t\"limegreen\": [50, 205, 50],\n\t\"linen\": [250, 240, 230],\n\t\"magenta\": [255, 0, 255],\n\t\"maroon\": [128, 0, 0],\n\t\"mediumaquamarine\": [102, 205, 170],\n\t\"mediumblue\": [0, 0, 205],\n\t\"mediumorchid\": [186, 85, 211],\n\t\"mediumpurple\": [147, 112, 219],\n\t\"mediumseagreen\": [60, 179, 113],\n\t\"mediumslateblue\": [123, 104, 238],\n\t\"mediumspringgreen\": [0, 250, 154],\n\t\"mediumturquoise\": [72, 209, 204],\n\t\"mediumvioletred\": [199, 21, 133],\n\t\"midnightblue\": [25, 25, 112],\n\t\"mintcream\": [245, 255, 250],\n\t\"mistyrose\": [255, 228, 225],\n\t\"moccasin\": [255, 228, 181],\n\t\"navajowhite\": [255, 222, 173],\n\t\"navy\": [0, 0, 128],\n\t\"oldlace\": [253, 245, 230],\n\t\"olive\": [128, 128, 0],\n\t\"olivedrab\": [107, 142, 35],\n\t\"orange\": [255, 165, 0],\n\t\"orangered\": [255, 69, 0],\n\t\"orchid\": [218, 112, 214],\n\t\"palegoldenrod\": [238, 232, 170],\n\t\"palegreen\": [152, 251, 152],\n\t\"paleturquoise\": [175, 238, 238],\n\t\"palevioletred\": [219, 112, 147],\n\t\"papayawhip\": [255, 239, 213],\n\t\"peachpuff\": [255, 218, 185],\n\t\"peru\": [205, 133, 63],\n\t\"pink\": [255, 192, 203],\n\t\"plum\": [221, 160, 221],\n\t\"powderblue\": [176, 224, 230],\n\t\"purple\": [128, 0, 128],\n\t\"rebeccapurple\": [102, 51, 153],\n\t\"red\": [255, 0, 0],\n\t\"rosybrown\": [188, 143, 143],\n\t\"royalblue\": [65, 105, 225],\n\t\"saddlebrown\": [139, 69, 19],\n\t\"salmon\": [250, 128, 114],\n\t\"sandybrown\": [244, 164, 96],\n\t\"seagreen\": [46, 139, 87],\n\t\"seashell\": [255, 245, 238],\n\t\"sienna\": [160, 82, 45],\n\t\"silver\": [192, 192, 192],\n\t\"skyblue\": [135, 206, 235],\n\t\"slateblue\": [106, 90, 205],\n\t\"slategray\": [112, 128, 144],\n\t\"slategrey\": [112, 128, 144],\n\t\"snow\": [255, 250, 250],\n\t\"springgreen\": [0, 255, 127],\n\t\"steelblue\": [70, 130, 180],\n\t\"tan\": [210, 180, 140],\n\t\"teal\": [0, 128, 128],\n\t\"thistle\": [216, 191, 216],\n\t\"tomato\": [255, 99, 71],\n\t\"turquoise\": [64, 224, 208],\n\t\"violet\": [238, 130, 238],\n\t\"wheat\": [245, 222, 179],\n\t\"white\": [255, 255, 255],\n\t\"whitesmoke\": [245, 245, 245],\n\t\"yellow\": [255, 255, 0],\n\t\"yellowgreen\": [154, 205, 50]\n};\n},{}],7:[function(require,module,exports){\n/**\n * @namespace Chart\n */\nvar Chart = require(28)();\n\nrequire(26)(Chart);\nrequire(22)(Chart);\nrequire(25)(Chart);\nrequire(21)(Chart);\nrequire(23)(Chart);\nrequire(24)(Chart);\nrequire(29)(Chart);\nrequire(33)(Chart);\nrequire(31)(Chart);\nrequire(34)(Chart);\nrequire(32)(Chart);\nrequire(35)(Chart);\nrequire(30)(Chart);\nrequire(27)(Chart);\nrequire(36)(Chart);\n\nrequire(37)(Chart);\nrequire(38)(Chart);\nrequire(39)(Chart);\nrequire(40)(Chart);\n\nrequire(43)(Chart);\nrequire(41)(Chart);\nrequire(42)(Chart);\nrequire(44)(Chart);\nrequire(45)(Chart);\nrequire(46)(Chart);\n\n// Controllers must be loaded after elements\n// See Chart.core.datasetController.dataElementType\nrequire(15)(Chart);\nrequire(16)(Chart);\nrequire(17)(Chart);\nrequire(18)(Chart);\nrequire(19)(Chart);\nrequire(20)(Chart);\n\nrequire(8)(Chart);\nrequire(9)(Chart);\nrequire(10)(Chart);\nrequire(11)(Chart);\nrequire(12)(Chart);\nrequire(13)(Chart);\nrequire(14)(Chart);\n\nwindow.Chart = module.exports = Chart;\n\n},{\"10\":10,\"11\":11,\"12\":12,\"13\":13,\"14\":14,\"15\":15,\"16\":16,\"17\":17,\"18\":18,\"19\":19,\"20\":20,\"21\":21,\"22\":22,\"23\":23,\"24\":24,\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"29\":29,\"30\":30,\"31\":31,\"32\":32,\"33\":33,\"34\":34,\"35\":35,\"36\":36,\"37\":37,\"38\":38,\"39\":39,\"40\":40,\"41\":41,\"42\":42,\"43\":43,\"44\":44,\"45\":45,\"46\":46,\"8\":8,\"9\":9}],8:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Bar = function(context, config) {\n\t\tconfig.type = 'bar';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Bubble = function(context, config) {\n\t\tconfig.type = 'bubble';\n\t\treturn new Chart(context, config);\n\t};\n\n};\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Doughnut = function(context, config) {\n\t\tconfig.type = 'doughnut';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n\n},{}],11:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Line = function(context, config) {\n\t\tconfig.type = 'line';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.PolarArea = function(context, config) {\n\t\tconfig.type = 'polarArea';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n\n},{}],13:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Radar = function(context, config) {\n\t\tconfig.type = 'radar';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n\n},{}],14:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar defaultConfig = {\n\t\thover: {\n\t\t\tmode: 'single'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'linear', // scatter should not use a category axis\n\t\t\t\tposition: 'bottom',\n\t\t\t\tid: 'x-axis-1' // need an ID so datasets can reference the scale\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tposition: 'left',\n\t\t\t\tid: 'y-axis-1'\n\t\t\t}]\n\t\t},\n\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\t// Title doesn't make sense for scatter since we format the data as a point\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem) {\n\t\t\t\t\treturn '(' + tooltipItem.xLabel + ', ' + tooltipItem.yLabel + ')';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// Register the default config for this type\n\tChart.defaults.scatter = defaultConfig;\n\n\t// Scatter charts use line controllers\n\tChart.controllers.scatter = Chart.controllers.line;\n\n\tChart.Scatter = function(context, config) {\n\t\tconfig.type = 'scatter';\n\t\treturn new Chart(context, config);\n\t};\n\n};\n\n},{}],15:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.bar = {\n\t\thover: {\n\t\t\tmode: 'label'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'category',\n\n\t\t\t\t// Specific to Bar Controller\n\t\t\t\tcategoryPercentage: 0.8,\n\t\t\t\tbarPercentage: 0.9,\n\n\t\t\t\t// grid line settings\n\t\t\t\tgridLines: {\n\t\t\t\t\toffsetGridLines: true\n\t\t\t\t}\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear'\n\t\t\t}]\n\t\t}\n\t};\n\n\tChart.controllers.bar = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Rectangle,\n\n\t\tinitialize: function(chart, datasetIndex) {\n\t\t\tChart.DatasetController.prototype.initialize.call(this, chart, datasetIndex);\n\n\t\t\t// Use this to indicate that this is a bar dataset.\n\t\t\tthis.getMeta().bar = true;\n\t\t},\n\n\t\t// Get the number of datasets that display bars. We use this to correctly calculate the bar width\n\t\tgetBarCount: function() {\n\t\t\tvar me = this;\n\t\t\tvar barCount = 0;\n\t\t\thelpers.each(me.chart.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tvar meta = me.chart.getDatasetMeta(datasetIndex);\n\t\t\t\tif (meta.bar && me.chart.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\t++barCount;\n\t\t\t\t}\n\t\t\t}, me);\n\t\t\treturn barCount;\n\t\t},\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\thelpers.each(me.getMeta().data, function(rectangle, index) {\n\t\t\t\tme.updateElement(rectangle, index, reset);\n\t\t\t}, me);\n\t\t},\n\n\t\tupdateElement: function(rectangle, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar scaleBase = yScale.getBasePixel();\n\t\t\tvar rectangleElementOptions = me.chart.options.elements.rectangle;\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\n\t\t\trectangle._xScale = xScale;\n\t\t\trectangle._yScale = yScale;\n\t\t\trectangle._datasetIndex = me.index;\n\t\t\trectangle._index = index;\n\n\t\t\tvar ruler = me.getRuler(index);\n\t\t\trectangle._model = {\n\t\t\t\tx: me.calculateBarX(index, me.index, ruler),\n\t\t\t\ty: reset ? scaleBase : me.calculateBarY(index, me.index),\n\n\t\t\t\t// Tooltip\n\t\t\t\tlabel: me.chart.data.labels[index],\n\t\t\t\tdatasetLabel: dataset.label,\n\n\t\t\t\t// Appearance\n\t\t\t\tbase: reset ? scaleBase : me.calculateBarBase(me.index, index),\n\t\t\t\twidth: me.calculateBarWidth(ruler),\n\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.backgroundColor, index, rectangleElementOptions.backgroundColor),\n\t\t\t\tborderSkipped: custom.borderSkipped ? custom.borderSkipped : rectangleElementOptions.borderSkipped,\n\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.borderColor, index, rectangleElementOptions.borderColor),\n\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.borderWidth, index, rectangleElementOptions.borderWidth)\n\t\t\t};\n\n\t\t\trectangle.pivot();\n\t\t},\n\n\t\tcalculateBarBase: function(datasetIndex, index) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar base = 0;\n\n\t\t\tif (yScale.options.stacked) {\n\t\t\t\tvar chart = me.chart;\n\t\t\t\tvar datasets = chart.data.datasets;\n\t\t\t\tvar value = Number(datasets[datasetIndex].data[index]);\n\n\t\t\t\tfor (var i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tvar currentDs = datasets[i];\n\t\t\t\t\tvar currentDsMeta = chart.getDatasetMeta(i);\n\t\t\t\t\tif (currentDsMeta.bar && currentDsMeta.yAxisID === yScale.id && chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar currentVal = Number(currentDs.data[index]);\n\t\t\t\t\t\tbase += value < 0 ? Math.min(currentVal, 0) : Math.max(currentVal, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn yScale.getPixelForValue(base);\n\t\t\t}\n\n\t\t\treturn yScale.getBasePixel();\n\t\t},\n\n\t\tgetRuler: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar datasetCount = me.getBarCount();\n\n\t\t\tvar tickWidth;\n\n\t\t\tif (xScale.options.type === 'category') {\n\t\t\t\ttickWidth = xScale.getPixelForTick(index + 1) - xScale.getPixelForTick(index);\n\t\t\t} else {\n\t\t\t\t// Average width\n\t\t\t\ttickWidth = xScale.width / xScale.ticks.length;\n\t\t\t}\n\t\t\tvar categoryWidth = tickWidth * xScale.options.categoryPercentage;\n\t\t\tvar categorySpacing = (tickWidth - (tickWidth * xScale.options.categoryPercentage)) / 2;\n\t\t\tvar fullBarWidth = categoryWidth / datasetCount;\n\n\t\t\tif (xScale.ticks.length !== me.chart.data.labels.length) {\n\t\t\t\tvar perc = xScale.ticks.length / me.chart.data.labels.length;\n\t\t\t\tfullBarWidth = fullBarWidth * perc;\n\t\t\t}\n\n\t\t\tvar barWidth = fullBarWidth * xScale.options.barPercentage;\n\t\t\tvar barSpacing = fullBarWidth - (fullBarWidth * xScale.options.barPercentage);\n\n\t\t\treturn {\n\t\t\t\tdatasetCount: datasetCount,\n\t\t\t\ttickWidth: tickWidth,\n\t\t\t\tcategoryWidth: categoryWidth,\n\t\t\t\tcategorySpacing: categorySpacing,\n\t\t\t\tfullBarWidth: fullBarWidth,\n\t\t\t\tbarWidth: barWidth,\n\t\t\t\tbarSpacing: barSpacing\n\t\t\t};\n\t\t},\n\n\t\tcalculateBarWidth: function(ruler) {\n\t\t\tvar xScale = this.getScaleForId(this.getMeta().xAxisID);\n\t\t\tif (xScale.options.barThickness) {\n\t\t\t\treturn xScale.options.barThickness;\n\t\t\t}\n\t\t\treturn xScale.options.stacked ? ruler.categoryWidth : ruler.barWidth;\n\t\t},\n\n\t\t// Get bar index from the given dataset index accounting for the fact that not all bars are visible\n\t\tgetBarIndex: function(datasetIndex) {\n\t\t\tvar barIndex = 0;\n\t\t\tvar meta, j;\n\n\t\t\tfor (j = 0; j < datasetIndex; ++j) {\n\t\t\t\tmeta = this.chart.getDatasetMeta(j);\n\t\t\t\tif (meta.bar && this.chart.isDatasetVisible(j)) {\n\t\t\t\t\t++barIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn barIndex;\n\t\t},\n\n\t\tcalculateBarX: function(index, datasetIndex, ruler) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar barIndex = me.getBarIndex(datasetIndex);\n\t\t\tvar leftTick = xScale.getPixelForValue(null, index, datasetIndex, me.chart.isCombo);\n\t\t\tleftTick -= me.chart.isCombo ? (ruler.tickWidth / 2) : 0;\n\n\t\t\tif (xScale.options.stacked) {\n\t\t\t\treturn leftTick + (ruler.categoryWidth / 2) + ruler.categorySpacing;\n\t\t\t}\n\n\t\t\treturn leftTick +\n\t\t\t\t(ruler.barWidth / 2) +\n\t\t\t\truler.categorySpacing +\n\t\t\t\t(ruler.barWidth * barIndex) +\n\t\t\t\t(ruler.barSpacing / 2) +\n\t\t\t\t(ruler.barSpacing * barIndex);\n\t\t},\n\n\t\tcalculateBarY: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar value = Number(me.getDataset().data[index]);\n\n\t\t\tif (yScale.options.stacked) {\n\n\t\t\t\tvar sumPos = 0,\n\t\t\t\t\tsumNeg = 0;\n\n\t\t\t\tfor (var i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tvar ds = me.chart.data.datasets[i];\n\t\t\t\t\tvar dsMeta = me.chart.getDatasetMeta(i);\n\t\t\t\t\tif (dsMeta.bar && dsMeta.yAxisID === yScale.id && me.chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar stackedVal = Number(ds.data[index]);\n\t\t\t\t\t\tif (stackedVal < 0) {\n\t\t\t\t\t\t\tsumNeg += stackedVal || 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsumPos += stackedVal || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (value < 0) {\n\t\t\t\t\treturn yScale.getPixelForValue(sumNeg + value);\n\t\t\t\t}\n\t\t\t\treturn yScale.getPixelForValue(sumPos + value);\n\t\t\t}\n\n\t\t\treturn yScale.getPixelForValue(value);\n\t\t},\n\n\t\tdraw: function(ease) {\n\t\t\tvar me = this;\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tvar metaData = me.getMeta().data;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar i, len;\n\n\t\t\tfor (i = 0, len = metaData.length; i < len; ++i) {\n\t\t\t\tvar d = dataset.data[i];\n\t\t\t\tif (d !== null && d !== undefined && !isNaN(d)) {\n\t\t\t\t\tmetaData[i].transition(easingDecimal).draw();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsetHoverStyle: function(rectangle) {\n\t\t\tvar dataset = this.chart.data.datasets[rectangle._datasetIndex];\n\t\t\tvar index = rectangle._index;\n\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar model = rectangle._model;\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : helpers.getValueAtIndexOrDefault(dataset.hoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : helpers.getValueAtIndexOrDefault(dataset.hoverBorderColor, index, helpers.getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : helpers.getValueAtIndexOrDefault(dataset.hoverBorderWidth, index, model.borderWidth);\n\t\t},\n\n\t\tremoveHoverStyle: function(rectangle) {\n\t\t\tvar dataset = this.chart.data.datasets[rectangle._datasetIndex];\n\t\t\tvar index = rectangle._index;\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar model = rectangle._model;\n\t\t\tvar rectangleElementOptions = this.chart.options.elements.rectangle;\n\n\t\t\tmodel.backgroundColor = custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.backgroundColor, index, rectangleElementOptions.backgroundColor);\n\t\t\tmodel.borderColor = custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.borderColor, index, rectangleElementOptions.borderColor);\n\t\t\tmodel.borderWidth = custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.borderWidth, index, rectangleElementOptions.borderWidth);\n\t\t}\n\n\t});\n\n\n\t// including horizontalBar in the bar file, instead of a file of its own\n\t// it extends bar (like pie extends doughnut)\n\tChart.defaults.horizontalBar = {\n\t\thover: {\n\t\t\tmode: 'label'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tposition: 'bottom'\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\tposition: 'left',\n\t\t\t\ttype: 'category',\n\n\t\t\t\t// Specific to Horizontal Bar Controller\n\t\t\t\tcategoryPercentage: 0.8,\n\t\t\t\tbarPercentage: 0.9,\n\n\t\t\t\t// grid line settings\n\t\t\t\tgridLines: {\n\t\t\t\t\toffsetGridLines: true\n\t\t\t\t}\n\t\t\t}]\n\t\t},\n\t\telements: {\n\t\t\trectangle: {\n\t\t\t\tborderSkipped: 'left'\n\t\t\t}\n\t\t},\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function(tooltipItems, data) {\n\t\t\t\t\t// Pick first xLabel for now\n\t\t\t\t\tvar title = '';\n\n\t\t\t\t\tif (tooltipItems.length > 0) {\n\t\t\t\t\t\tif (tooltipItems[0].yLabel) {\n\t\t\t\t\t\t\ttitle = tooltipItems[0].yLabel;\n\t\t\t\t\t\t} else if (data.labels.length > 0 && tooltipItems[0].index < data.labels.length) {\n\t\t\t\t\t\t\ttitle = data.labels[tooltipItems[0].index];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn title;\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\tvar datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';\n\t\t\t\t\treturn datasetLabel + ': ' + tooltipItem.xLabel;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.horizontalBar = Chart.controllers.bar.extend({\n\t\tupdateElement: function(rectangle, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar scaleBase = xScale.getBasePixel();\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar rectangleElementOptions = me.chart.options.elements.rectangle;\n\n\t\t\trectangle._xScale = xScale;\n\t\t\trectangle._yScale = yScale;\n\t\t\trectangle._datasetIndex = me.index;\n\t\t\trectangle._index = index;\n\n\t\t\tvar ruler = me.getRuler(index);\n\t\t\trectangle._model = {\n\t\t\t\tx: reset ? scaleBase : me.calculateBarX(index, me.index),\n\t\t\t\ty: me.calculateBarY(index, me.index, ruler),\n\n\t\t\t\t// Tooltip\n\t\t\t\tlabel: me.chart.data.labels[index],\n\t\t\t\tdatasetLabel: dataset.label,\n\n\t\t\t\t// Appearance\n\t\t\t\tbase: reset ? scaleBase : me.calculateBarBase(me.index, index),\n\t\t\t\theight: me.calculateBarHeight(ruler),\n\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.backgroundColor, index, rectangleElementOptions.backgroundColor),\n\t\t\t\tborderSkipped: custom.borderSkipped ? custom.borderSkipped : rectangleElementOptions.borderSkipped,\n\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.borderColor, index, rectangleElementOptions.borderColor),\n\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.borderWidth, index, rectangleElementOptions.borderWidth)\n\t\t\t};\n\t\t\trectangle.draw = function() {\n\t\t\t\tvar ctx = this._chart.ctx;\n\t\t\t\tvar vm = this._view;\n\n\t\t\t\tvar halfHeight = vm.height / 2,\n\t\t\t\t\ttopY = vm.y - halfHeight,\n\t\t\t\t\tbottomY = vm.y + halfHeight,\n\t\t\t\t\tright = vm.base - (vm.base - vm.x),\n\t\t\t\t\thalfStroke = vm.borderWidth / 2;\n\n\t\t\t\t// Canvas doesn't allow us to stroke inside the width so we can\n\t\t\t\t// adjust the sizes to fit if we're setting a stroke on the line\n\t\t\t\tif (vm.borderWidth) {\n\t\t\t\t\ttopY += halfStroke;\n\t\t\t\t\tbottomY -= halfStroke;\n\t\t\t\t\tright += halfStroke;\n\t\t\t\t}\n\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tctx.fillStyle = vm.backgroundColor;\n\t\t\t\tctx.strokeStyle = vm.borderColor;\n\t\t\t\tctx.lineWidth = vm.borderWidth;\n\n\t\t\t\t// Corner points, from bottom-left to bottom-right clockwise\n\t\t\t\t// | 1 2 |\n\t\t\t\t// | 0 3 |\n\t\t\t\tvar corners = [\n\t\t\t\t\t[vm.base, bottomY],\n\t\t\t\t\t[vm.base, topY],\n\t\t\t\t\t[right, topY],\n\t\t\t\t\t[right, bottomY]\n\t\t\t\t];\n\n\t\t\t\t// Find first (starting) corner with fallback to 'bottom'\n\t\t\t\tvar borders = ['bottom', 'left', 'top', 'right'];\n\t\t\t\tvar startCorner = borders.indexOf(vm.borderSkipped, 0);\n\t\t\t\tif (startCorner === -1) {\n\t\t\t\t\tstartCorner = 0;\n\t\t\t\t}\n\n\t\t\t\tfunction cornerAt(cornerIndex) {\n\t\t\t\t\treturn corners[(startCorner + cornerIndex) % 4];\n\t\t\t\t}\n\n\t\t\t\t// Draw rectangle from 'startCorner'\n\t\t\t\tctx.moveTo.apply(ctx, cornerAt(0));\n\t\t\t\tfor (var i = 1; i < 4; i++) {\n\t\t\t\t\tctx.lineTo.apply(ctx, cornerAt(i));\n\t\t\t\t}\n\n\t\t\t\tctx.fill();\n\t\t\t\tif (vm.borderWidth) {\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\trectangle.pivot();\n\t\t},\n\n\t\tcalculateBarBase: function(datasetIndex, index) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar base = 0;\n\n\t\t\tif (xScale.options.stacked) {\n\t\t\t\tvar chart = me.chart;\n\t\t\t\tvar datasets = chart.data.datasets;\n\t\t\t\tvar value = Number(datasets[datasetIndex].data[index]);\n\n\t\t\t\tfor (var i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tvar currentDs = datasets[i];\n\t\t\t\t\tvar currentDsMeta = chart.getDatasetMeta(i);\n\t\t\t\t\tif (currentDsMeta.bar && currentDsMeta.xAxisID === xScale.id && chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar currentVal = Number(currentDs.data[index]);\n\t\t\t\t\t\tbase += value < 0 ? Math.min(currentVal, 0) : Math.max(currentVal, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn xScale.getPixelForValue(base);\n\t\t\t}\n\n\t\t\treturn xScale.getBasePixel();\n\t\t},\n\n\t\tgetRuler: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar datasetCount = me.getBarCount();\n\n\t\t\tvar tickHeight;\n\t\t\tif (yScale.options.type === 'category') {\n\t\t\t\ttickHeight = yScale.getPixelForTick(index + 1) - yScale.getPixelForTick(index);\n\t\t\t} else {\n\t\t\t\t// Average width\n\t\t\t\ttickHeight = yScale.width / yScale.ticks.length;\n\t\t\t}\n\t\t\tvar categoryHeight = tickHeight * yScale.options.categoryPercentage;\n\t\t\tvar categorySpacing = (tickHeight - (tickHeight * yScale.options.categoryPercentage)) / 2;\n\t\t\tvar fullBarHeight = categoryHeight / datasetCount;\n\n\t\t\tif (yScale.ticks.length !== me.chart.data.labels.length) {\n\t\t\t\tvar perc = yScale.ticks.length / me.chart.data.labels.length;\n\t\t\t\tfullBarHeight = fullBarHeight * perc;\n\t\t\t}\n\n\t\t\tvar barHeight = fullBarHeight * yScale.options.barPercentage;\n\t\t\tvar barSpacing = fullBarHeight - (fullBarHeight * yScale.options.barPercentage);\n\n\t\t\treturn {\n\t\t\t\tdatasetCount: datasetCount,\n\t\t\t\ttickHeight: tickHeight,\n\t\t\t\tcategoryHeight: categoryHeight,\n\t\t\t\tcategorySpacing: categorySpacing,\n\t\t\t\tfullBarHeight: fullBarHeight,\n\t\t\t\tbarHeight: barHeight,\n\t\t\t\tbarSpacing: barSpacing\n\t\t\t};\n\t\t},\n\n\t\tcalculateBarHeight: function(ruler) {\n\t\t\tvar me = this;\n\t\t\tvar yScale = me.getScaleForId(me.getMeta().yAxisID);\n\t\t\tif (yScale.options.barThickness) {\n\t\t\t\treturn yScale.options.barThickness;\n\t\t\t}\n\t\t\treturn yScale.options.stacked ? ruler.categoryHeight : ruler.barHeight;\n\t\t},\n\n\t\tcalculateBarX: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar value = Number(me.getDataset().data[index]);\n\n\t\t\tif (xScale.options.stacked) {\n\n\t\t\t\tvar sumPos = 0,\n\t\t\t\t\tsumNeg = 0;\n\n\t\t\t\tfor (var i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tvar ds = me.chart.data.datasets[i];\n\t\t\t\t\tvar dsMeta = me.chart.getDatasetMeta(i);\n\t\t\t\t\tif (dsMeta.bar && dsMeta.xAxisID === xScale.id && me.chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar stackedVal = Number(ds.data[index]);\n\t\t\t\t\t\tif (stackedVal < 0) {\n\t\t\t\t\t\t\tsumNeg += stackedVal || 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsumPos += stackedVal || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (value < 0) {\n\t\t\t\t\treturn xScale.getPixelForValue(sumNeg + value);\n\t\t\t\t}\n\t\t\t\treturn xScale.getPixelForValue(sumPos + value);\n\t\t\t}\n\n\t\t\treturn xScale.getPixelForValue(value);\n\t\t},\n\n\t\tcalculateBarY: function(index, datasetIndex, ruler) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar barIndex = me.getBarIndex(datasetIndex);\n\t\t\tvar topTick = yScale.getPixelForValue(null, index, datasetIndex, me.chart.isCombo);\n\t\t\ttopTick -= me.chart.isCombo ? (ruler.tickHeight / 2) : 0;\n\n\t\t\tif (yScale.options.stacked) {\n\t\t\t\treturn topTick + (ruler.categoryHeight / 2) + ruler.categorySpacing;\n\t\t\t}\n\n\t\t\treturn topTick +\n\t\t\t\t(ruler.barHeight / 2) +\n\t\t\t\truler.categorySpacing +\n\t\t\t\t(ruler.barHeight * barIndex) +\n\t\t\t\t(ruler.barSpacing / 2) +\n\t\t\t\t(ruler.barSpacing * barIndex);\n\t\t}\n\t});\n};\n\n},{}],16:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.bubble = {\n\t\thover: {\n\t\t\tmode: 'single'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'linear', // bubble should probably use a linear scale by default\n\t\t\t\tposition: 'bottom',\n\t\t\t\tid: 'x-axis-0' // need an ID so datasets can reference the scale\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tposition: 'left',\n\t\t\t\tid: 'y-axis-0'\n\t\t\t}]\n\t\t},\n\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\t// Title doesn't make sense for scatter since we format the data as a point\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\tvar datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';\n\t\t\t\t\tvar dataPoint = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n\t\t\t\t\treturn datasetLabel + ': (' + tooltipItem.xLabel + ', ' + tooltipItem.yLabel + ', ' + dataPoint.r + ')';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.bubble = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Point,\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar points = meta.data;\n\n\t\t\t// Update Points\n\t\t\thelpers.each(points, function(point, index) {\n\t\t\t\tme.updateElement(point, index, reset);\n\t\t\t});\n\t\t},\n\n\t\tupdateElement: function(point, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar data = dataset.data[index];\n\t\t\tvar pointElementOptions = me.chart.options.elements.point;\n\t\t\tvar dsIndex = me.index;\n\n\t\t\thelpers.extend(point, {\n\t\t\t\t// Utility\n\t\t\t\t_xScale: xScale,\n\t\t\t\t_yScale: yScale,\n\t\t\t\t_datasetIndex: dsIndex,\n\t\t\t\t_index: index,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: reset ? xScale.getPixelForDecimal(0.5) : xScale.getPixelForValue(typeof data === 'object' ? data : NaN, index, dsIndex, me.chart.isCombo),\n\t\t\t\t\ty: reset ? yScale.getBasePixel() : yScale.getPixelForValue(data, index, dsIndex),\n\t\t\t\t\t// Appearance\n\t\t\t\t\tradius: reset ? 0 : custom.radius ? custom.radius : me.getRadius(data),\n\n\t\t\t\t\t// Tooltip\n\t\t\t\t\thitRadius: custom.hitRadius ? custom.hitRadius : helpers.getValueAtIndexOrDefault(dataset.hitRadius, index, pointElementOptions.hitRadius)\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Trick to reset the styles of the point\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(me, point, pointElementOptions);\n\n\t\t\tvar model = point._model;\n\t\t\tmodel.skip = custom.skip ? custom.skip : (isNaN(model.x) || isNaN(model.y));\n\n\t\t\tpoint.pivot();\n\t\t},\n\n\t\tgetRadius: function(value) {\n\t\t\treturn value.r || this.chart.options.elements.point.radius;\n\t\t},\n\n\t\tsetHoverStyle: function(point) {\n\t\t\tvar me = this;\n\t\t\tChart.DatasetController.prototype.setHoverStyle.call(me, point);\n\n\t\t\t// Radius\n\t\t\tvar dataset = me.chart.data.datasets[point._datasetIndex];\n\t\t\tvar index = point._index;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\t\t\tmodel.radius = custom.hoverRadius ? custom.hoverRadius : (helpers.getValueAtIndexOrDefault(dataset.hoverRadius, index, me.chart.options.elements.point.hoverRadius)) + me.getRadius(dataset.data[index]);\n\t\t},\n\n\t\tremoveHoverStyle: function(point) {\n\t\t\tvar me = this;\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(me, point, me.chart.options.elements.point);\n\n\t\t\tvar dataVal = me.chart.data.datasets[point._datasetIndex].data[point._index];\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\n\t\t\tmodel.radius = custom.radius ? custom.radius : me.getRadius(dataVal);\n\t\t}\n\t});\n};\n\n},{}],17:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tdefaults = Chart.defaults;\n\n\tdefaults.doughnut = {\n\t\tanimation: {\n\t\t\t// Boolean - Whether we animate the rotation of the Doughnut\n\t\t\tanimateRotate: true,\n\t\t\t// Boolean - Whether we animate scaling the Doughnut from the centre\n\t\t\tanimateScale: false\n\t\t},\n\t\taspectRatio: 1,\n\t\thover: {\n\t\t\tmode: 'single'\n\t\t},\n\t\tlegendCallback: function(chart) {\n\t\t\tvar text = [];\n\t\t\ttext.push('<ul class=\"' + chart.id + '-legend\">');\n\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar labels = data.labels;\n\n\t\t\tif (datasets.length) {\n\t\t\t\tfor (var i = 0; i < datasets[0].data.length; ++i) {\n\t\t\t\t\ttext.push('<li><span style=\"background-color:' + datasets[0].backgroundColor[i] + '\"></span>');\n\t\t\t\t\tif (labels[i]) {\n\t\t\t\t\t\ttext.push(labels[i]);\n\t\t\t\t\t}\n\t\t\t\t\ttext.push('</li>');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttext.push('</ul>');\n\t\t\treturn text.join('');\n\t\t},\n\t\tlegend: {\n\t\t\tlabels: {\n\t\t\t\tgenerateLabels: function(chart) {\n\t\t\t\t\tvar data = chart.data;\n\t\t\t\t\tif (data.labels.length && data.datasets.length) {\n\t\t\t\t\t\treturn data.labels.map(function(label, i) {\n\t\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\n\t\t\t\t\t\t\tvar ds = data.datasets[0];\n\t\t\t\t\t\t\tvar arc = meta.data[i];\n\t\t\t\t\t\t\tvar custom = arc && arc.custom || {};\n\t\t\t\t\t\t\tvar getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\t\t\t\t\t\t\tvar arcOpts = chart.options.elements.arc;\n\t\t\t\t\t\t\tvar fill = custom.backgroundColor ? custom.backgroundColor : getValueAtIndexOrDefault(ds.backgroundColor, i, arcOpts.backgroundColor);\n\t\t\t\t\t\t\tvar stroke = custom.borderColor ? custom.borderColor : getValueAtIndexOrDefault(ds.borderColor, i, arcOpts.borderColor);\n\t\t\t\t\t\t\tvar bw = custom.borderWidth ? custom.borderWidth : getValueAtIndexOrDefault(ds.borderWidth, i, arcOpts.borderWidth);\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttext: label,\n\t\t\t\t\t\t\t\tfillStyle: fill,\n\t\t\t\t\t\t\t\tstrokeStyle: stroke,\n\t\t\t\t\t\t\t\tlineWidth: bw,\n\t\t\t\t\t\t\t\thidden: isNaN(ds.data[i]) || meta.data[i].hidden,\n\n\t\t\t\t\t\t\t\t// Extra data used for toggling the correct item\n\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonClick: function(e, legendItem) {\n\t\t\t\tvar index = legendItem.index;\n\t\t\t\tvar chart = this.chart;\n\t\t\t\tvar i, ilen, meta;\n\n\t\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\n\t\t\t\t\tmeta = chart.getDatasetMeta(i);\n\t\t\t\t\t// toggle visibility of index if exists\n\t\t\t\t\tif (meta.data[index]) {\n\t\t\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tchart.update();\n\t\t\t}\n\t\t},\n\n\t\t// The percentage of the chart that we cut out of the middle.\n\t\tcutoutPercentage: 50,\n\n\t\t// The rotation of the chart, where the first data arc begins.\n\t\trotation: Math.PI * -0.5,\n\n\t\t// The total circumference of the chart.\n\t\tcircumference: Math.PI * 2.0,\n\n\t\t// Need to override these to give a nice default\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\tvar dataLabel = data.labels[tooltipItem.index];\n\t\t\t\t\tvar value = ': ' + data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n\n\t\t\t\t\tif (helpers.isArray(dataLabel)) {\n\t\t\t\t\t\t// show value on first line of multiline label\n\t\t\t\t\t\t// need to clone because we are changing the value\n\t\t\t\t\t\tdataLabel = dataLabel.slice();\n\t\t\t\t\t\tdataLabel[0] += value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdataLabel += value;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn dataLabel;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tdefaults.pie = helpers.clone(defaults.doughnut);\n\thelpers.extend(defaults.pie, {\n\t\tcutoutPercentage: 0\n\t});\n\n\n\tChart.controllers.doughnut = Chart.controllers.pie = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Arc,\n\n\t\tlinkScales: helpers.noop,\n\n\t\t// Get index of the dataset in relation to the visible datasets. This allows determining the inner and outer radius correctly\n\t\tgetRingIndex: function(datasetIndex) {\n\t\t\tvar ringIndex = 0;\n\n\t\t\tfor (var j = 0; j < datasetIndex; ++j) {\n\t\t\t\tif (this.chart.isDatasetVisible(j)) {\n\t\t\t\t\t++ringIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ringIndex;\n\t\t},\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart,\n\t\t\t\tchartArea = chart.chartArea,\n\t\t\t\topts = chart.options,\n\t\t\t\tarcOpts = opts.elements.arc,\n\t\t\t\tavailableWidth = chartArea.right - chartArea.left - arcOpts.borderWidth,\n\t\t\t\tavailableHeight = chartArea.bottom - chartArea.top - arcOpts.borderWidth,\n\t\t\t\tminSize = Math.min(availableWidth, availableHeight),\n\t\t\t\toffset = {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0\n\t\t\t\t},\n\t\t\t\tmeta = me.getMeta(),\n\t\t\t\tcutoutPercentage = opts.cutoutPercentage,\n\t\t\t\tcircumference = opts.circumference;\n\n\t\t\t// If the chart's circumference isn't a full circle, calculate minSize as a ratio of the width/height of the arc\n\t\t\tif (circumference < Math.PI * 2.0) {\n\t\t\t\tvar startAngle = opts.rotation % (Math.PI * 2.0);\n\t\t\t\tstartAngle += Math.PI * 2.0 * (startAngle >= Math.PI ? -1 : startAngle < -Math.PI ? 1 : 0);\n\t\t\t\tvar endAngle = startAngle + circumference;\n\t\t\t\tvar start = {x: Math.cos(startAngle), y: Math.sin(startAngle)};\n\t\t\t\tvar end = {x: Math.cos(endAngle), y: Math.sin(endAngle)};\n\t\t\t\tvar contains0 = (startAngle <= 0 && 0 <= endAngle) || (startAngle <= Math.PI * 2.0 && Math.PI * 2.0 <= endAngle);\n\t\t\t\tvar contains90 = (startAngle <= Math.PI * 0.5 && Math.PI * 0.5 <= endAngle) || (startAngle <= Math.PI * 2.5 && Math.PI * 2.5 <= endAngle);\n\t\t\t\tvar contains180 = (startAngle <= -Math.PI && -Math.PI <= endAngle) || (startAngle <= Math.PI && Math.PI <= endAngle);\n\t\t\t\tvar contains270 = (startAngle <= -Math.PI * 0.5 && -Math.PI * 0.5 <= endAngle) || (startAngle <= Math.PI * 1.5 && Math.PI * 1.5 <= endAngle);\n\t\t\t\tvar cutout = cutoutPercentage / 100.0;\n\t\t\t\tvar min = {x: contains180 ? -1 : Math.min(start.x * (start.x < 0 ? 1 : cutout), end.x * (end.x < 0 ? 1 : cutout)), y: contains270 ? -1 : Math.min(start.y * (start.y < 0 ? 1 : cutout), end.y * (end.y < 0 ? 1 : cutout))};\n\t\t\t\tvar max = {x: contains0 ? 1 : Math.max(start.x * (start.x > 0 ? 1 : cutout), end.x * (end.x > 0 ? 1 : cutout)), y: contains90 ? 1 : Math.max(start.y * (start.y > 0 ? 1 : cutout), end.y * (end.y > 0 ? 1 : cutout))};\n\t\t\t\tvar size = {width: (max.x - min.x) * 0.5, height: (max.y - min.y) * 0.5};\n\t\t\t\tminSize = Math.min(availableWidth / size.width, availableHeight / size.height);\n\t\t\t\toffset = {x: (max.x + min.x) * -0.5, y: (max.y + min.y) * -0.5};\n\t\t\t}\n\n\t\t\tchart.borderWidth = me.getMaxBorderWidth(meta.data);\n\t\t\tchart.outerRadius = Math.max((minSize - chart.borderWidth) / 2, 0);\n\t\t\tchart.innerRadius = Math.max(cutoutPercentage ? (chart.outerRadius / 100) * (cutoutPercentage) : 1, 0);\n\t\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();\n\t\t\tchart.offsetX = offset.x * chart.outerRadius;\n\t\t\tchart.offsetY = offset.y * chart.outerRadius;\n\n\t\t\tmeta.total = me.calculateTotal();\n\n\t\t\tme.outerRadius = chart.outerRadius - (chart.radiusLength * me.getRingIndex(me.index));\n\t\t\tme.innerRadius = me.outerRadius - chart.radiusLength;\n\n\t\t\thelpers.each(meta.data, function(arc, index) {\n\t\t\t\tme.updateElement(arc, index, reset);\n\t\t\t});\n\t\t},\n\n\t\tupdateElement: function(arc, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart,\n\t\t\t\tchartArea = chart.chartArea,\n\t\t\t\topts = chart.options,\n\t\t\t\tanimationOpts = opts.animation,\n\t\t\t\tcenterX = (chartArea.left + chartArea.right) / 2,\n\t\t\t\tcenterY = (chartArea.top + chartArea.bottom) / 2,\n\t\t\t\tstartAngle = opts.rotation, // non reset case handled later\n\t\t\t\tendAngle = opts.rotation, // non reset case handled later\n\t\t\t\tdataset = me.getDataset(),\n\t\t\t\tcircumference = reset && animationOpts.animateRotate ? 0 : arc.hidden ? 0 : me.calculateCircumference(dataset.data[index]) * (opts.circumference / (2.0 * Math.PI)),\n\t\t\t\tinnerRadius = reset && animationOpts.animateScale ? 0 : me.innerRadius,\n\t\t\t\touterRadius = reset && animationOpts.animateScale ? 0 : me.outerRadius,\n\t\t\t\tvalueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\n\t\t\thelpers.extend(arc, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: centerX + chart.offsetX,\n\t\t\t\t\ty: centerY + chart.offsetY,\n\t\t\t\t\tstartAngle: startAngle,\n\t\t\t\t\tendAngle: endAngle,\n\t\t\t\t\tcircumference: circumference,\n\t\t\t\t\touterRadius: outerRadius,\n\t\t\t\t\tinnerRadius: innerRadius,\n\t\t\t\t\tlabel: valueAtIndexOrDefault(dataset.label, index, chart.data.labels[index])\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar model = arc._model;\n\t\t\t// Resets the visual styles\n\t\t\tthis.removeHoverStyle(arc);\n\n\t\t\t// Set correct angles if not resetting\n\t\t\tif (!reset || !animationOpts.animateRotate) {\n\t\t\t\tif (index === 0) {\n\t\t\t\t\tmodel.startAngle = opts.rotation;\n\t\t\t\t} else {\n\t\t\t\t\tmodel.startAngle = me.getMeta().data[index - 1]._model.endAngle;\n\t\t\t\t}\n\n\t\t\t\tmodel.endAngle = model.startAngle + model.circumference;\n\t\t\t}\n\n\t\t\tarc.pivot();\n\t\t},\n\n\t\tremoveHoverStyle: function(arc) {\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(this, arc, this.chart.options.elements.arc);\n\t\t},\n\n\t\tcalculateTotal: function() {\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar meta = this.getMeta();\n\t\t\tvar total = 0;\n\t\t\tvar value;\n\n\t\t\thelpers.each(meta.data, function(element, index) {\n\t\t\t\tvalue = dataset.data[index];\n\t\t\t\tif (!isNaN(value) && !element.hidden) {\n\t\t\t\t\ttotal += Math.abs(value);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/* if (total === 0) {\n\t\t\t\ttotal = NaN;\n\t\t\t}*/\n\n\t\t\treturn total;\n\t\t},\n\n\t\tcalculateCircumference: function(value) {\n\t\t\tvar total = this.getMeta().total;\n\t\t\tif (total > 0 && !isNaN(value)) {\n\t\t\t\treturn (Math.PI * 2.0) * (value / total);\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\n\t\t// gets the max border or hover width to properly scale pie charts\n\t\tgetMaxBorderWidth: function(elements) {\n\t\t\tvar max = 0,\n\t\t\t\tindex = this.index,\n\t\t\t\tlength = elements.length,\n\t\t\t\tborderWidth,\n\t\t\t\thoverWidth;\n\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tborderWidth = elements[i]._model ? elements[i]._model.borderWidth : 0;\n\t\t\t\thoverWidth = elements[i]._chart ? elements[i]._chart.config.data.datasets[index].hoverBorderWidth : 0;\n\n\t\t\t\tmax = borderWidth > max ? borderWidth : max;\n\t\t\t\tmax = hoverWidth > max ? hoverWidth : max;\n\t\t\t}\n\t\t\treturn max;\n\t\t}\n\t});\n};\n\n},{}],18:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.line = {\n\t\tshowLines: true,\n\t\tspanGaps: false,\n\n\t\thover: {\n\t\t\tmode: 'label'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'category',\n\t\t\t\tid: 'x-axis-0'\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tid: 'y-axis-0'\n\t\t\t}]\n\t\t}\n\t};\n\n\tfunction lineEnabled(dataset, options) {\n\t\treturn helpers.getValueOrDefault(dataset.showLine, options.showLines);\n\t}\n\n\tChart.controllers.line = Chart.DatasetController.extend({\n\n\t\tdatasetElementType: Chart.elements.Line,\n\n\t\tdataElementType: Chart.elements.Point,\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar line = meta.dataset;\n\t\t\tvar points = meta.data || [];\n\t\t\tvar options = me.chart.options;\n\t\t\tvar lineElementOptions = options.elements.line;\n\t\t\tvar scale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar i, ilen, custom;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar showLine = lineEnabled(dataset, options);\n\n\t\t\t// Update Line\n\t\t\tif (showLine) {\n\t\t\t\tcustom = line.custom || {};\n\n\t\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\t\tif ((dataset.tension !== undefined) && (dataset.lineTension === undefined)) {\n\t\t\t\t\tdataset.lineTension = dataset.tension;\n\t\t\t\t}\n\n\t\t\t\t// Utility\n\t\t\t\tline._scale = scale;\n\t\t\t\tline._datasetIndex = me.index;\n\t\t\t\t// Data\n\t\t\t\tline._children = points;\n\t\t\t\t// Model\n\t\t\t\tline._model = {\n\t\t\t\t\t// Appearance\n\t\t\t\t\t// The default behavior of lines is to break at null values, according\n\t\t\t\t\t// to https://github.com/chartjs/Chart.js/issues/2435#issuecomment-216718158\n\t\t\t\t\t// This option gives lines the ability to span gaps\n\t\t\t\t\tspanGaps: dataset.spanGaps ? dataset.spanGaps : options.spanGaps,\n\t\t\t\t\ttension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.lineTension, lineElementOptions.tension),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : (dataset.backgroundColor || lineElementOptions.backgroundColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : (dataset.borderWidth || lineElementOptions.borderWidth),\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : (dataset.borderColor || lineElementOptions.borderColor),\n\t\t\t\t\tborderCapStyle: custom.borderCapStyle ? custom.borderCapStyle : (dataset.borderCapStyle || lineElementOptions.borderCapStyle),\n\t\t\t\t\tborderDash: custom.borderDash ? custom.borderDash : (dataset.borderDash || lineElementOptions.borderDash),\n\t\t\t\t\tborderDashOffset: custom.borderDashOffset ? custom.borderDashOffset : (dataset.borderDashOffset || lineElementOptions.borderDashOffset),\n\t\t\t\t\tborderJoinStyle: custom.borderJoinStyle ? custom.borderJoinStyle : (dataset.borderJoinStyle || lineElementOptions.borderJoinStyle),\n\t\t\t\t\tfill: custom.fill ? custom.fill : (dataset.fill !== undefined ? dataset.fill : lineElementOptions.fill),\n\t\t\t\t\tsteppedLine: custom.steppedLine ? custom.steppedLine : helpers.getValueOrDefault(dataset.steppedLine, lineElementOptions.stepped),\n\t\t\t\t\tcubicInterpolationMode: custom.cubicInterpolationMode ? custom.cubicInterpolationMode : helpers.getValueOrDefault(dataset.cubicInterpolationMode, lineElementOptions.cubicInterpolationMode),\n\t\t\t\t\t// Scale\n\t\t\t\t\tscaleTop: scale.top,\n\t\t\t\t\tscaleBottom: scale.bottom,\n\t\t\t\t\tscaleZero: scale.getBasePixel()\n\t\t\t\t};\n\n\t\t\t\tline.pivot();\n\t\t\t}\n\n\t\t\t// Update Points\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tme.updateElement(points[i], i, reset);\n\t\t\t}\n\n\t\t\tif (showLine && line._model.tension !== 0) {\n\t\t\t\tme.updateBezierControlPoints();\n\t\t\t}\n\n\t\t\t// Now pivot the point for animation\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tpoints[i].pivot();\n\t\t\t}\n\t\t},\n\n\t\tgetPointBackgroundColor: function(point, index) {\n\t\t\tvar backgroundColor = this.chart.options.elements.point.backgroundColor;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\n\t\t\tif (custom.backgroundColor) {\n\t\t\t\tbackgroundColor = custom.backgroundColor;\n\t\t\t} else if (dataset.pointBackgroundColor) {\n\t\t\t\tbackgroundColor = helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, backgroundColor);\n\t\t\t} else if (dataset.backgroundColor) {\n\t\t\t\tbackgroundColor = dataset.backgroundColor;\n\t\t\t}\n\n\t\t\treturn backgroundColor;\n\t\t},\n\n\t\tgetPointBorderColor: function(point, index) {\n\t\t\tvar borderColor = this.chart.options.elements.point.borderColor;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\n\t\t\tif (custom.borderColor) {\n\t\t\t\tborderColor = custom.borderColor;\n\t\t\t} else if (dataset.pointBorderColor) {\n\t\t\t\tborderColor = helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, borderColor);\n\t\t\t} else if (dataset.borderColor) {\n\t\t\t\tborderColor = dataset.borderColor;\n\t\t\t}\n\n\t\t\treturn borderColor;\n\t\t},\n\n\t\tgetPointBorderWidth: function(point, index) {\n\t\t\tvar borderWidth = this.chart.options.elements.point.borderWidth;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\n\t\t\tif (custom.borderWidth) {\n\t\t\t\tborderWidth = custom.borderWidth;\n\t\t\t} else if (dataset.pointBorderWidth) {\n\t\t\t\tborderWidth = helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, borderWidth);\n\t\t\t} else if (dataset.borderWidth) {\n\t\t\t\tborderWidth = dataset.borderWidth;\n\t\t\t}\n\n\t\t\treturn borderWidth;\n\t\t},\n\n\t\tupdateElement: function(point, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar datasetIndex = me.index;\n\t\t\tvar value = dataset.data[index];\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar pointOptions = me.chart.options.elements.point;\n\t\t\tvar x, y;\n\t\t\tvar labels = me.chart.data.labels || [];\n\t\t\tvar includeOffset = (labels.length === 1 || dataset.data.length === 1) || me.chart.isCombo;\n\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.radius !== undefined) && (dataset.pointRadius === undefined)) {\n\t\t\t\tdataset.pointRadius = dataset.radius;\n\t\t\t}\n\t\t\tif ((dataset.hitRadius !== undefined) && (dataset.pointHitRadius === undefined)) {\n\t\t\t\tdataset.pointHitRadius = dataset.hitRadius;\n\t\t\t}\n\n\t\t\tx = xScale.getPixelForValue(typeof value === 'object' ? value : NaN, index, datasetIndex, includeOffset);\n\t\t\ty = reset ? yScale.getBasePixel() : me.calculatePointY(value, index, datasetIndex);\n\n\t\t\t// Utility\n\t\t\tpoint._xScale = xScale;\n\t\t\tpoint._yScale = yScale;\n\t\t\tpoint._datasetIndex = datasetIndex;\n\t\t\tpoint._index = index;\n\n\t\t\t// Desired view properties\n\t\t\tpoint._model = {\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\n\t\t\t\t// Appearance\n\t\t\t\tradius: custom.radius || helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, pointOptions.radius),\n\t\t\t\tpointStyle: custom.pointStyle || helpers.getValueAtIndexOrDefault(dataset.pointStyle, index, pointOptions.pointStyle),\n\t\t\t\tbackgroundColor: me.getPointBackgroundColor(point, index),\n\t\t\t\tborderColor: me.getPointBorderColor(point, index),\n\t\t\t\tborderWidth: me.getPointBorderWidth(point, index),\n\t\t\t\ttension: meta.dataset._model ? meta.dataset._model.tension : 0,\n\t\t\t\tsteppedLine: meta.dataset._model ? meta.dataset._model.steppedLine : false,\n\t\t\t\t// Tooltip\n\t\t\t\thitRadius: custom.hitRadius || helpers.getValueAtIndexOrDefault(dataset.pointHitRadius, index, pointOptions.hitRadius)\n\t\t\t};\n\t\t},\n\n\t\tcalculatePointY: function(value, index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar sumPos = 0;\n\t\t\tvar sumNeg = 0;\n\t\t\tvar i, ds, dsMeta;\n\n\t\t\tif (yScale.options.stacked) {\n\t\t\t\tfor (i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tds = chart.data.datasets[i];\n\t\t\t\t\tdsMeta = chart.getDatasetMeta(i);\n\t\t\t\t\tif (dsMeta.type === 'line' && dsMeta.yAxisID === yScale.id && chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar stackedRightValue = Number(yScale.getRightValue(ds.data[index]));\n\t\t\t\t\t\tif (stackedRightValue < 0) {\n\t\t\t\t\t\t\tsumNeg += stackedRightValue || 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsumPos += stackedRightValue || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar rightValue = Number(yScale.getRightValue(value));\n\t\t\t\tif (rightValue < 0) {\n\t\t\t\t\treturn yScale.getPixelForValue(sumNeg + rightValue);\n\t\t\t\t}\n\t\t\t\treturn yScale.getPixelForValue(sumPos + rightValue);\n\t\t\t}\n\n\t\t\treturn yScale.getPixelForValue(value);\n\t\t},\n\n\t\tupdateBezierControlPoints: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar area = me.chart.chartArea;\n\t\t\tvar points = (meta.data || []);\n\t\t\tvar i, ilen, point, model, controlPoints;\n\n\t\t\t// Only consider points that are drawn in case the spanGaps option is used\n\t\t\tif (meta.dataset._model.spanGaps) {\n\t\t\t\tpoints = points.filter(function(pt) {\n\t\t\t\t\treturn !pt._model.skip;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction capControlPoint(pt, min, max) {\n\t\t\t\treturn Math.max(Math.min(pt, max), min);\n\t\t\t}\n\n\t\t\tif (meta.dataset._model.cubicInterpolationMode === 'monotone') {\n\t\t\t\thelpers.splineCurveMonotone(points);\n\t\t\t} else {\n\t\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\n\t\t\t\t\tpoint = points[i];\n\t\t\t\t\tmodel = point._model;\n\t\t\t\t\tcontrolPoints = helpers.splineCurve(\n\t\t\t\t\t\thelpers.previousItem(points, i)._model,\n\t\t\t\t\t\tmodel,\n\t\t\t\t\t\thelpers.nextItem(points, i)._model,\n\t\t\t\t\t\tmeta.dataset._model.tension\n\t\t\t\t\t);\n\t\t\t\t\tmodel.controlPointPreviousX = controlPoints.previous.x;\n\t\t\t\t\tmodel.controlPointPreviousY = controlPoints.previous.y;\n\t\t\t\t\tmodel.controlPointNextX = controlPoints.next.x;\n\t\t\t\t\tmodel.controlPointNextY = controlPoints.next.y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (me.chart.options.elements.line.capBezierPoints) {\n\t\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\n\t\t\t\t\tmodel = points[i]._model;\n\t\t\t\t\tmodel.controlPointPreviousX = capControlPoint(model.controlPointPreviousX, area.left, area.right);\n\t\t\t\t\tmodel.controlPointPreviousY = capControlPoint(model.controlPointPreviousY, area.top, area.bottom);\n\t\t\t\t\tmodel.controlPointNextX = capControlPoint(model.controlPointNextX, area.left, area.right);\n\t\t\t\t\tmodel.controlPointNextY = capControlPoint(model.controlPointNextY, area.top, area.bottom);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdraw: function(ease) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar points = meta.data || [];\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tvar i, ilen;\n\n\t\t\t// Transition Point Locations\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tpoints[i].transition(easingDecimal);\n\t\t\t}\n\n\t\t\t// Transition and Draw the line\n\t\t\tif (lineEnabled(me.getDataset(), me.chart.options)) {\n\t\t\t\tmeta.dataset.transition(easingDecimal).draw();\n\t\t\t}\n\n\t\t\t// Draw the points\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tpoints[i].draw();\n\t\t\t}\n\t\t},\n\n\t\tsetHoverStyle: function(point) {\n\t\t\t// Point\n\t\t\tvar dataset = this.chart.data.datasets[point._datasetIndex];\n\t\t\tvar index = point._index;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\n\t\t\tmodel.radius = custom.hoverRadius || helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius, index, this.chart.options.elements.point.hoverRadius);\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor || helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor || helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor, index, helpers.getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth || helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth, index, model.borderWidth);\n\t\t},\n\n\t\tremoveHoverStyle: function(point) {\n\t\t\tvar me = this;\n\t\t\tvar dataset = me.chart.data.datasets[point._datasetIndex];\n\t\t\tvar index = point._index;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.radius !== undefined) && (dataset.pointRadius === undefined)) {\n\t\t\t\tdataset.pointRadius = dataset.radius;\n\t\t\t}\n\n\t\t\tmodel.radius = custom.radius || helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, me.chart.options.elements.point.radius);\n\t\t\tmodel.backgroundColor = me.getPointBackgroundColor(point, index);\n\t\t\tmodel.borderColor = me.getPointBorderColor(point, index);\n\t\t\tmodel.borderWidth = me.getPointBorderWidth(point, index);\n\t\t}\n\t});\n};\n\n},{}],19:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.polarArea = {\n\n\t\tscale: {\n\t\t\ttype: 'radialLinear',\n\t\t\tlineArc: true, // so that lines are circular\n\t\t\tticks: {\n\t\t\t\tbeginAtZero: true\n\t\t\t}\n\t\t},\n\n\t\t// Boolean - Whether to animate the rotation of the chart\n\t\tanimation: {\n\t\t\tanimateRotate: true,\n\t\t\tanimateScale: true\n\t\t},\n\n\t\tstartAngle: -0.5 * Math.PI,\n\t\taspectRatio: 1,\n\t\tlegendCallback: function(chart) {\n\t\t\tvar text = [];\n\t\t\ttext.push('<ul class=\"' + chart.id + '-legend\">');\n\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar labels = data.labels;\n\n\t\t\tif (datasets.length) {\n\t\t\t\tfor (var i = 0; i < datasets[0].data.length; ++i) {\n\t\t\t\t\ttext.push('<li><span style=\"background-color:' + datasets[0].backgroundColor[i] + '\"></span>');\n\t\t\t\t\tif (labels[i]) {\n\t\t\t\t\t\ttext.push(labels[i]);\n\t\t\t\t\t}\n\t\t\t\t\ttext.push('</li>');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttext.push('</ul>');\n\t\t\treturn text.join('');\n\t\t},\n\t\tlegend: {\n\t\t\tlabels: {\n\t\t\t\tgenerateLabels: function(chart) {\n\t\t\t\t\tvar data = chart.data;\n\t\t\t\t\tif (data.labels.length && data.datasets.length) {\n\t\t\t\t\t\treturn data.labels.map(function(label, i) {\n\t\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\n\t\t\t\t\t\t\tvar ds = data.datasets[0];\n\t\t\t\t\t\t\tvar arc = meta.data[i];\n\t\t\t\t\t\t\tvar custom = arc.custom || {};\n\t\t\t\t\t\t\tvar getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\t\t\t\t\t\t\tvar arcOpts = chart.options.elements.arc;\n\t\t\t\t\t\t\tvar fill = custom.backgroundColor ? custom.backgroundColor : getValueAtIndexOrDefault(ds.backgroundColor, i, arcOpts.backgroundColor);\n\t\t\t\t\t\t\tvar stroke = custom.borderColor ? custom.borderColor : getValueAtIndexOrDefault(ds.borderColor, i, arcOpts.borderColor);\n\t\t\t\t\t\t\tvar bw = custom.borderWidth ? custom.borderWidth : getValueAtIndexOrDefault(ds.borderWidth, i, arcOpts.borderWidth);\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttext: label,\n\t\t\t\t\t\t\t\tfillStyle: fill,\n\t\t\t\t\t\t\t\tstrokeStyle: stroke,\n\t\t\t\t\t\t\t\tlineWidth: bw,\n\t\t\t\t\t\t\t\thidden: isNaN(ds.data[i]) || meta.data[i].hidden,\n\n\t\t\t\t\t\t\t\t// Extra data used for toggling the correct item\n\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonClick: function(e, legendItem) {\n\t\t\t\tvar index = legendItem.index;\n\t\t\t\tvar chart = this.chart;\n\t\t\t\tvar i, ilen, meta;\n\n\t\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\n\t\t\t\t\tmeta = chart.getDatasetMeta(i);\n\t\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\n\t\t\t\t}\n\n\t\t\t\tchart.update();\n\t\t\t}\n\t\t},\n\n\t\t// Need to override these to give a nice default\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\treturn data.labels[tooltipItem.index] + ': ' + tooltipItem.yLabel;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.polarArea = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Arc,\n\n\t\tlinkScales: helpers.noop,\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar chartArea = chart.chartArea;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar opts = chart.options;\n\t\t\tvar arcOpts = opts.elements.arc;\n\t\t\tvar minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n\t\t\tchart.outerRadius = Math.max((minSize - arcOpts.borderWidth / 2) / 2, 0);\n\t\t\tchart.innerRadius = Math.max(opts.cutoutPercentage ? (chart.outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n\t\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();\n\n\t\t\tme.outerRadius = chart.outerRadius - (chart.radiusLength * me.index);\n\t\t\tme.innerRadius = me.outerRadius - chart.radiusLength;\n\n\t\t\tmeta.count = me.countVisibleElements();\n\n\t\t\thelpers.each(meta.data, function(arc, index) {\n\t\t\t\tme.updateElement(arc, index, reset);\n\t\t\t});\n\t\t},\n\n\t\tupdateElement: function(arc, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar opts = chart.options;\n\t\t\tvar animationOpts = opts.animation;\n\t\t\tvar scale = chart.scale;\n\t\t\tvar getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\t\t\tvar labels = chart.data.labels;\n\n\t\t\tvar circumference = me.calculateCircumference(dataset.data[index]);\n\t\t\tvar centerX = scale.xCenter;\n\t\t\tvar centerY = scale.yCenter;\n\n\t\t\t// If there is NaN data before us, we need to calculate the starting angle correctly.\n\t\t\t// We could be way more efficient here, but its unlikely that the polar area chart will have a lot of data\n\t\t\tvar visibleCount = 0;\n\t\t\tvar meta = me.getMeta();\n\t\t\tfor (var i = 0; i < index; ++i) {\n\t\t\t\tif (!isNaN(dataset.data[i]) && !meta.data[i].hidden) {\n\t\t\t\t\t++visibleCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// var negHalfPI = -0.5 * Math.PI;\n\t\t\tvar datasetStartAngle = opts.startAngle;\n\t\t\tvar distance = arc.hidden ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\n\t\t\tvar startAngle = datasetStartAngle + (circumference * visibleCount);\n\t\t\tvar endAngle = startAngle + (arc.hidden ? 0 : circumference);\n\n\t\t\tvar resetRadius = animationOpts.animateScale ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\n\n\t\t\thelpers.extend(arc, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\t\t\t\t_scale: scale,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: centerX,\n\t\t\t\t\ty: centerY,\n\t\t\t\t\tinnerRadius: 0,\n\t\t\t\t\touterRadius: reset ? resetRadius : distance,\n\t\t\t\t\tstartAngle: reset && animationOpts.animateRotate ? datasetStartAngle : startAngle,\n\t\t\t\t\tendAngle: reset && animationOpts.animateRotate ? datasetStartAngle : endAngle,\n\t\t\t\t\tlabel: getValueAtIndexOrDefault(labels, index, labels[index])\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Apply border and fill style\n\t\t\tme.removeHoverStyle(arc);\n\n\t\t\tarc.pivot();\n\t\t},\n\n\t\tremoveHoverStyle: function(arc) {\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(this, arc, this.chart.options.elements.arc);\n\t\t},\n\n\t\tcountVisibleElements: function() {\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar meta = this.getMeta();\n\t\t\tvar count = 0;\n\n\t\t\thelpers.each(meta.data, function(element, index) {\n\t\t\t\tif (!isNaN(dataset.data[index]) && !element.hidden) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn count;\n\t\t},\n\n\t\tcalculateCircumference: function(value) {\n\t\t\tvar count = this.getMeta().count;\n\t\t\tif (count > 0 && !isNaN(value)) {\n\t\t\t\treturn (2 * Math.PI) / count;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\t});\n};\n\n},{}],20:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.radar = {\n\t\taspectRatio: 1,\n\t\tscale: {\n\t\t\ttype: 'radialLinear'\n\t\t},\n\t\telements: {\n\t\t\tline: {\n\t\t\t\ttension: 0 // no bezier in radar\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.radar = Chart.DatasetController.extend({\n\n\t\tdatasetElementType: Chart.elements.Line,\n\n\t\tdataElementType: Chart.elements.Point,\n\n\t\tlinkScales: helpers.noop,\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar line = meta.dataset;\n\t\t\tvar points = meta.data;\n\t\t\tvar custom = line.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar lineElementOptions = me.chart.options.elements.line;\n\t\t\tvar scale = me.chart.scale;\n\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.tension !== undefined) && (dataset.lineTension === undefined)) {\n\t\t\t\tdataset.lineTension = dataset.tension;\n\t\t\t}\n\n\t\t\thelpers.extend(meta.dataset, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t// Data\n\t\t\t\t_children: points,\n\t\t\t\t_loop: true,\n\t\t\t\t// Model\n\t\t\t\t_model: {\n\t\t\t\t\t// Appearance\n\t\t\t\t\ttension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.lineTension, lineElementOptions.tension),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : (dataset.backgroundColor || lineElementOptions.backgroundColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : (dataset.borderWidth || lineElementOptions.borderWidth),\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : (dataset.borderColor || lineElementOptions.borderColor),\n\t\t\t\t\tfill: custom.fill ? custom.fill : (dataset.fill !== undefined ? dataset.fill : lineElementOptions.fill),\n\t\t\t\t\tborderCapStyle: custom.borderCapStyle ? custom.borderCapStyle : (dataset.borderCapStyle || lineElementOptions.borderCapStyle),\n\t\t\t\t\tborderDash: custom.borderDash ? custom.borderDash : (dataset.borderDash || lineElementOptions.borderDash),\n\t\t\t\t\tborderDashOffset: custom.borderDashOffset ? custom.borderDashOffset : (dataset.borderDashOffset || lineElementOptions.borderDashOffset),\n\t\t\t\t\tborderJoinStyle: custom.borderJoinStyle ? custom.borderJoinStyle : (dataset.borderJoinStyle || lineElementOptions.borderJoinStyle),\n\n\t\t\t\t\t// Scale\n\t\t\t\t\tscaleTop: scale.top,\n\t\t\t\t\tscaleBottom: scale.bottom,\n\t\t\t\t\tscaleZero: scale.getBasePosition()\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmeta.dataset.pivot();\n\n\t\t\t// Update Points\n\t\t\thelpers.each(points, function(point, index) {\n\t\t\t\tme.updateElement(point, index, reset);\n\t\t\t}, me);\n\n\t\t\t// Update bezier control points\n\t\t\tme.updateBezierControlPoints();\n\t\t},\n\t\tupdateElement: function(point, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar scale = me.chart.scale;\n\t\t\tvar pointElementOptions = me.chart.options.elements.point;\n\t\t\tvar pointPosition = scale.getPointPositionForValue(index, dataset.data[index]);\n\n\t\t\thelpers.extend(point, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\t\t\t\t_scale: scale,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: reset ? scale.xCenter : pointPosition.x, // value not used in dataset scale, but we want a consistent API between scales\n\t\t\t\t\ty: reset ? scale.yCenter : pointPosition.y,\n\n\t\t\t\t\t// Appearance\n\t\t\t\t\ttension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.tension, me.chart.options.elements.line.tension),\n\t\t\t\t\tradius: custom.radius ? custom.radius : helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, pointElementOptions.radius),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, pointElementOptions.backgroundColor),\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, pointElementOptions.borderColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, pointElementOptions.borderWidth),\n\t\t\t\t\tpointStyle: custom.pointStyle ? custom.pointStyle : helpers.getValueAtIndexOrDefault(dataset.pointStyle, index, pointElementOptions.pointStyle),\n\n\t\t\t\t\t// Tooltip\n\t\t\t\t\thitRadius: custom.hitRadius ? custom.hitRadius : helpers.getValueAtIndexOrDefault(dataset.hitRadius, index, pointElementOptions.hitRadius)\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tpoint._model.skip = custom.skip ? custom.skip : (isNaN(point._model.x) || isNaN(point._model.y));\n\t\t},\n\t\tupdateBezierControlPoints: function() {\n\t\t\tvar chartArea = this.chart.chartArea;\n\t\t\tvar meta = this.getMeta();\n\n\t\t\thelpers.each(meta.data, function(point, index) {\n\t\t\t\tvar model = point._model;\n\t\t\t\tvar controlPoints = helpers.splineCurve(\n\t\t\t\t\thelpers.previousItem(meta.data, index, true)._model,\n\t\t\t\t\tmodel,\n\t\t\t\t\thelpers.nextItem(meta.data, index, true)._model,\n\t\t\t\t\tmodel.tension\n\t\t\t\t);\n\n\t\t\t\t// Prevent the bezier going outside of the bounds of the graph\n\t\t\t\tmodel.controlPointPreviousX = Math.max(Math.min(controlPoints.previous.x, chartArea.right), chartArea.left);\n\t\t\t\tmodel.controlPointPreviousY = Math.max(Math.min(controlPoints.previous.y, chartArea.bottom), chartArea.top);\n\n\t\t\t\tmodel.controlPointNextX = Math.max(Math.min(controlPoints.next.x, chartArea.right), chartArea.left);\n\t\t\t\tmodel.controlPointNextY = Math.max(Math.min(controlPoints.next.y, chartArea.bottom), chartArea.top);\n\n\t\t\t\t// Now pivot the point for animation\n\t\t\t\tpoint.pivot();\n\t\t\t});\n\t\t},\n\n\t\tdraw: function(ease) {\n\t\t\tvar meta = this.getMeta();\n\t\t\tvar easingDecimal = ease || 1;\n\n\t\t\t// Transition Point Locations\n\t\t\thelpers.each(meta.data, function(point) {\n\t\t\t\tpoint.transition(easingDecimal);\n\t\t\t});\n\n\t\t\t// Transition and Draw the line\n\t\t\tmeta.dataset.transition(easingDecimal).draw();\n\n\t\t\t// Draw the points\n\t\t\thelpers.each(meta.data, function(point) {\n\t\t\t\tpoint.draw();\n\t\t\t});\n\t\t},\n\n\t\tsetHoverStyle: function(point) {\n\t\t\t// Point\n\t\t\tvar dataset = this.chart.data.datasets[point._datasetIndex];\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar index = point._index;\n\t\t\tvar model = point._model;\n\n\t\t\tmodel.radius = custom.hoverRadius ? custom.hoverRadius : helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius, index, this.chart.options.elements.point.hoverRadius);\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor, index, helpers.getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth, index, model.borderWidth);\n\t\t},\n\n\t\tremoveHoverStyle: function(point) {\n\t\t\tvar dataset = this.chart.data.datasets[point._datasetIndex];\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar index = point._index;\n\t\t\tvar model = point._model;\n\t\t\tvar pointElementOptions = this.chart.options.elements.point;\n\n\t\t\tmodel.radius = custom.radius ? custom.radius : helpers.getValueAtIndexOrDefault(dataset.radius, index, pointElementOptions.radius);\n\t\t\tmodel.backgroundColor = custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, pointElementOptions.backgroundColor);\n\t\t\tmodel.borderColor = custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, pointElementOptions.borderColor);\n\t\t\tmodel.borderWidth = custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, pointElementOptions.borderWidth);\n\t\t}\n\t});\n};\n\n},{}],21:[function(require,module,exports){\n/* global window: false */\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.global.animation = {\n\t\tduration: 1000,\n\t\teasing: 'easeOutQuart',\n\t\tonProgress: helpers.noop,\n\t\tonComplete: helpers.noop\n\t};\n\n\tChart.Animation = Chart.Element.extend({\n\t\tcurrentStep: null, // the current animation step\n\t\tnumSteps: 60, // default number of steps\n\t\teasing: '', // the easing to use for this animation\n\t\trender: null, // render function used by the animation service\n\n\t\tonAnimationProgress: null, // user specified callback to fire on each step of the animation\n\t\tonAnimationComplete: null // user specified callback to fire when the animation finishes\n\t});\n\n\tChart.animationService = {\n\t\tframeDuration: 17,\n\t\tanimations: [],\n\t\tdropFrames: 0,\n\t\trequest: null,\n\n\t\t/**\n\t\t * @function Chart.animationService.addAnimation\n\t\t * @param chartInstance {ChartController} the chart to animate\n\t\t * @param animationObject {IAnimation} the animation that we will animate\n\t\t * @param duration {Number} length of animation in ms\n\t\t * @param lazy {Boolean} if true, the chart is not marked as animating to enable more responsive interactions\n\t\t */\n\t\taddAnimation: function(chartInstance, animationObject, duration, lazy) {\n\t\t\tvar me = this;\n\n\t\t\tif (!lazy) {\n\t\t\t\tchartInstance.animating = true;\n\t\t\t}\n\n\t\t\tfor (var index = 0; index < me.animations.length; ++index) {\n\t\t\t\tif (me.animations[index].chartInstance === chartInstance) {\n\t\t\t\t\t// replacing an in progress animation\n\t\t\t\t\tme.animations[index].animationObject = animationObject;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tme.animations.push({\n\t\t\t\tchartInstance: chartInstance,\n\t\t\t\tanimationObject: animationObject\n\t\t\t});\n\n\t\t\t// If there are no animations queued, manually kickstart a digest, for lack of a better word\n\t\t\tif (me.animations.length === 1) {\n\t\t\t\tme.requestAnimationFrame();\n\t\t\t}\n\t\t},\n\t\t// Cancel the animation for a given chart instance\n\t\tcancelAnimation: function(chartInstance) {\n\t\t\tvar index = helpers.findIndex(this.animations, function(animationWrapper) {\n\t\t\t\treturn animationWrapper.chartInstance === chartInstance;\n\t\t\t});\n\n\t\t\tif (index !== -1) {\n\t\t\t\tthis.animations.splice(index, 1);\n\t\t\t\tchartInstance.animating = false;\n\t\t\t}\n\t\t},\n\t\trequestAnimationFrame: function() {\n\t\t\tvar me = this;\n\t\t\tif (me.request === null) {\n\t\t\t\t// Skip animation frame requests until the active one is executed.\n\t\t\t\t// This can happen when processing mouse events, e.g. 'mousemove'\n\t\t\t\t// and 'mouseout' events will trigger multiple renders.\n\t\t\t\tme.request = helpers.requestAnimFrame.call(window, function() {\n\t\t\t\t\tme.request = null;\n\t\t\t\t\tme.startDigest();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tstartDigest: function() {\n\t\t\tvar me = this;\n\n\t\t\tvar startTime = Date.now();\n\t\t\tvar framesToDrop = 0;\n\n\t\t\tif (me.dropFrames > 1) {\n\t\t\t\tframesToDrop = Math.floor(me.dropFrames);\n\t\t\t\tme.dropFrames = me.dropFrames % 1;\n\t\t\t}\n\n\t\t\tvar i = 0;\n\t\t\twhile (i < me.animations.length) {\n\t\t\t\tif (me.animations[i].animationObject.currentStep === null) {\n\t\t\t\t\tme.animations[i].animationObject.currentStep = 0;\n\t\t\t\t}\n\n\t\t\t\tme.animations[i].animationObject.currentStep += 1 + framesToDrop;\n\n\t\t\t\tif (me.animations[i].animationObject.currentStep > me.animations[i].animationObject.numSteps) {\n\t\t\t\t\tme.animations[i].animationObject.currentStep = me.animations[i].animationObject.numSteps;\n\t\t\t\t}\n\n\t\t\t\tme.animations[i].animationObject.render(me.animations[i].chartInstance, me.animations[i].animationObject);\n\t\t\t\tif (me.animations[i].animationObject.onAnimationProgress && me.animations[i].animationObject.onAnimationProgress.call) {\n\t\t\t\t\tme.animations[i].animationObject.onAnimationProgress.call(me.animations[i].chartInstance, me.animations[i]);\n\t\t\t\t}\n\n\t\t\t\tif (me.animations[i].animationObject.currentStep === me.animations[i].animationObject.numSteps) {\n\t\t\t\t\tif (me.animations[i].animationObject.onAnimationComplete && me.animations[i].animationObject.onAnimationComplete.call) {\n\t\t\t\t\t\tme.animations[i].animationObject.onAnimationComplete.call(me.animations[i].chartInstance, me.animations[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\t// executed the last frame. Remove the animation.\n\t\t\t\t\tme.animations[i].chartInstance.animating = false;\n\n\t\t\t\t\tme.animations.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\t++i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar endTime = Date.now();\n\t\t\tvar dropFrames = (endTime - startTime) / me.frameDuration;\n\n\t\t\tme.dropFrames += dropFrames;\n\n\t\t\t// Do we have more stuff to animate?\n\t\t\tif (me.animations.length > 0) {\n\t\t\t\tme.requestAnimationFrame();\n\t\t\t}\n\t\t}\n\t};\n};\n\n},{}],22:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\t// Global Chart canvas helpers object for drawing items to canvas\n\tvar helpers = Chart.canvasHelpers = {};\n\n\thelpers.drawPoint = function(ctx, pointStyle, radius, x, y) {\n\t\tvar type, edgeLength, xOffset, yOffset, height, size;\n\n\t\tif (typeof pointStyle === 'object') {\n\t\t\ttype = pointStyle.toString();\n\t\t\tif (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n\t\t\t\tctx.drawImage(pointStyle, x - pointStyle.width / 2, y - pointStyle.height / 2);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (isNaN(radius) || radius <= 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (pointStyle) {\n\t\t// Default includes circle\n\t\tdefault:\n\t\t\tctx.beginPath();\n\t\t\tctx.arc(x, y, radius, 0, Math.PI * 2);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t\tbreak;\n\t\tcase 'triangle':\n\t\t\tctx.beginPath();\n\t\t\tedgeLength = 3 * radius / Math.sqrt(3);\n\t\t\theight = edgeLength * Math.sqrt(3) / 2;\n\t\t\tctx.moveTo(x - edgeLength / 2, y + height / 3);\n\t\t\tctx.lineTo(x + edgeLength / 2, y + height / 3);\n\t\t\tctx.lineTo(x, y - 2 * height / 3);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t\tbreak;\n\t\tcase 'rect':\n\t\t\tsize = 1 / Math.SQRT2 * radius;\n\t\t\tctx.beginPath();\n\t\t\tctx.fillRect(x - size, y - size, 2 * size, 2 * size);\n\t\t\tctx.strokeRect(x - size, y - size, 2 * size, 2 * size);\n\t\t\tbreak;\n\t\tcase 'rectRot':\n\t\t\tsize = 1 / Math.SQRT2 * radius;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x - size, y);\n\t\t\tctx.lineTo(x, y + size);\n\t\t\tctx.lineTo(x + size, y);\n\t\t\tctx.lineTo(x, y - size);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t\tbreak;\n\t\tcase 'cross':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, y + radius);\n\t\t\tctx.lineTo(x, y - radius);\n\t\t\tctx.moveTo(x - radius, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'crossRot':\n\t\t\tctx.beginPath();\n\t\t\txOffset = Math.cos(Math.PI / 4) * radius;\n\t\t\tyOffset = Math.sin(Math.PI / 4) * radius;\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\n\t\t\tctx.moveTo(x - xOffset, y + yOffset);\n\t\t\tctx.lineTo(x + xOffset, y - yOffset);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'star':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, y + radius);\n\t\t\tctx.lineTo(x, y - radius);\n\t\t\tctx.moveTo(x - radius, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\txOffset = Math.cos(Math.PI / 4) * radius;\n\t\t\tyOffset = Math.sin(Math.PI / 4) * radius;\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\n\t\t\tctx.moveTo(x - xOffset, y + yOffset);\n\t\t\tctx.lineTo(x + xOffset, y - yOffset);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'line':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x - radius, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'dash':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\t}\n\n\t\tctx.stroke();\n\t};\n};\n\n},{}],23:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\t// Create a dictionary of chart types, to allow for extension of existing types\n\tChart.types = {};\n\n\t// Store a reference to each instance - allowing us to globally resize chart instances on window resize.\n\t// Destroy method on the chart will remove the instance of the chart from this reference.\n\tChart.instances = {};\n\n\t// Controllers available for dataset visualization eg. bar, line, slice, etc.\n\tChart.controllers = {};\n\n\t/**\n\t * The \"used\" size is the final value of a dimension property after all calculations have\n\t * been performed. This method uses the computed style of `element` but returns undefined\n\t * if the computed style is not expressed in pixels. That can happen in some cases where\n\t * `element` has a size relative to its parent and this last one is not yet displayed,\n\t * for example because of `display: none` on a parent node.\n\t * TODO(SB) Move this method in the upcoming core.platform class.\n\t * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n\t * @returns {Number} Size in pixels or undefined if unknown.\n\t */\n\tfunction readUsedSize(element, property) {\n\t\tvar value = helpers.getStyle(element, property);\n\t\tvar matches = value && value.match(/(\\d+)px/);\n\t\treturn matches? Number(matches[1]) : undefined;\n\t}\n\n\t/**\n\t * Initializes the canvas style and render size without modifying the canvas display size,\n\t * since responsiveness is handled by the controller.resize() method. The config is used\n\t * to determine the aspect ratio to apply in case no explicit height has been specified.\n\t * TODO(SB) Move this method in the upcoming core.platform class.\n\t */\n\tfunction initCanvas(canvas, config) {\n\t\tvar style = canvas.style;\n\n\t\t// NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\n\t\t// returns null or '' if no explicit value has been set to the canvas attribute.\n\t\tvar renderHeight = canvas.getAttribute('height');\n\t\tvar renderWidth = canvas.getAttribute('width');\n\n\t\t// Chart.js modifies some canvas values that we want to restore on destroy\n\t\tcanvas._chartjs = {\n\t\t\tinitial: {\n\t\t\t\theight: renderHeight,\n\t\t\t\twidth: renderWidth,\n\t\t\t\tstyle: {\n\t\t\t\t\tdisplay: style.display,\n\t\t\t\t\theight: style.height,\n\t\t\t\t\twidth: style.width\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// Force canvas to display as block to avoid extra space caused by inline\n\t\t// elements, which would interfere with the responsive resize process.\n\t\t// https://github.com/chartjs/Chart.js/issues/2538\n\t\tstyle.display = style.display || 'block';\n\n\t\tif (renderWidth === null || renderWidth === '') {\n\t\t\tvar displayWidth = readUsedSize(canvas, 'width');\n\t\t\tif (displayWidth !== undefined) {\n\t\t\t\tcanvas.width = displayWidth;\n\t\t\t}\n\t\t}\n\n\t\tif (renderHeight === null || renderHeight === '') {\n\t\t\tif (canvas.style.height === '') {\n\t\t\t\t// If no explicit render height and style height, let's apply the aspect ratio,\n\t\t\t\t// which one can be specified by the user but also by charts as default option\n\t\t\t\t// (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\n\t\t\t\tcanvas.height = canvas.width / (config.options.aspectRatio || 2);\n\t\t\t} else {\n\t\t\t\tvar displayHeight = readUsedSize(canvas, 'height');\n\t\t\t\tif (displayWidth !== undefined) {\n\t\t\t\t\tcanvas.height = displayHeight;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn canvas;\n\t}\n\n\t/**\n\t * Restores the canvas initial state, such as render/display sizes and style.\n\t * TODO(SB) Move this method in the upcoming core.platform class.\n\t */\n\tfunction releaseCanvas(canvas) {\n\t\tif (!canvas._chartjs) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar initial = canvas._chartjs.initial;\n\t\t['height', 'width'].forEach(function(prop) {\n\t\t\tvar value = initial[prop];\n\t\t\tif (value === undefined || value === null) {\n\t\t\t\tcanvas.removeAttribute(prop);\n\t\t\t} else {\n\t\t\t\tcanvas.setAttribute(prop, value);\n\t\t\t}\n\t\t});\n\n\t\thelpers.each(initial.style || {}, function(value, key) {\n\t\t\tcanvas.style[key] = value;\n\t\t});\n\n\t\t// The canvas render size might have been changed (and thus the state stack discarded),\n\t\t// we can't use save() and restore() to restore the initial state. So make sure that at\n\t\t// least the canvas context is reset to the default state by setting the canvas width.\n\t\t// https://www.w3.org/TR/2011/WD-html5-20110525/the-canvas-element.html\n\t\tcanvas.width = canvas.width;\n\n\t\tdelete canvas._chartjs;\n\t}\n\n\t/**\n\t * TODO(SB) Move this method in the upcoming core.platform class.\n\t */\n\tfunction acquireContext(item, config) {\n\t\tif (typeof item === 'string') {\n\t\t\titem = document.getElementById(item);\n\t\t} else if (item.length) {\n\t\t\t// Support for array based queries (such as jQuery)\n\t\t\titem = item[0];\n\t\t}\n\n\t\tif (item && item.canvas) {\n\t\t\t// Support for any object associated to a canvas (including a context2d)\n\t\t\titem = item.canvas;\n\t\t}\n\n\t\tif (item instanceof HTMLCanvasElement) {\n\t\t\t// To prevent canvas fingerprinting, some add-ons undefine the getContext\n\t\t\t// method, for example: https://github.com/kkapsner/CanvasBlocker\n\t\t\t// https://github.com/chartjs/Chart.js/issues/2807\n\t\t\tvar context = item.getContext && item.getContext('2d');\n\t\t\tif (context instanceof CanvasRenderingContext2D) {\n\t\t\t\tinitCanvas(item, config);\n\t\t\t\treturn context;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Initializes the given config with global and chart default values.\n\t */\n\tfunction initConfig(config) {\n\t\tconfig = config || {};\n\n\t\t// Do NOT use configMerge() for the data object because this method merges arrays\n\t\t// and so would change references to labels and datasets, preventing data updates.\n\t\tvar data = config.data = config.data || {};\n\t\tdata.datasets = data.datasets || [];\n\t\tdata.labels = data.labels || [];\n\n\t\tconfig.options = helpers.configMerge(\n\t\t\tChart.defaults.global,\n\t\t\tChart.defaults[config.type],\n\t\t\tconfig.options || {});\n\n\t\treturn config;\n\t}\n\n\t/**\n\t * @class Chart.Controller\n\t * The main controller of a chart.\n\t */\n\tChart.Controller = function(item, config, instance) {\n\t\tvar me = this;\n\n\t\tconfig = initConfig(config);\n\n\t\tvar context = acquireContext(item, config);\n\t\tvar canvas = context && context.canvas;\n\t\tvar height = canvas && canvas.height;\n\t\tvar width = canvas && canvas.width;\n\n\t\tinstance.ctx = context;\n\t\tinstance.canvas = canvas;\n\t\tinstance.config = config;\n\t\tinstance.width = width;\n\t\tinstance.height = height;\n\t\tinstance.aspectRatio = height? width / height : null;\n\n\t\tme.id = helpers.uid();\n\t\tme.chart = instance;\n\t\tme.config = config;\n\t\tme.options = config.options;\n\t\tme._bufferedRender = false;\n\n\t\t// Add the chart instance to the global namespace\n\t\tChart.instances[me.id] = me;\n\n\t\tObject.defineProperty(me, 'data', {\n\t\t\tget: function() {\n\t\t\t\treturn me.config.data;\n\t\t\t}\n\t\t});\n\n\t\tif (!context || !canvas) {\n\t\t\t// The given item is not a compatible context2d element, let's return before finalizing\n\t\t\t// the chart initialization but after setting basic chart / controller properties that\n\t\t\t// can help to figure out that the chart is not valid (e.g chart.canvas !== null);\n\t\t\t// https://github.com/chartjs/Chart.js/issues/2807\n\t\t\tconsole.error(\"Failed to create chart: can't acquire context from the given item\");\n\t\t\treturn me;\n\t\t}\n\n\t\thelpers.retinaScale(instance);\n\n\t\t// Responsiveness is currently based on the use of an iframe, however this method causes\n\t\t// performance issues and could be troublesome when used with ad blockers. So make sure\n\t\t// that the user is still able to create a chart without iframe when responsive is false.\n\t\t// See https://github.com/chartjs/Chart.js/issues/2210\n\t\tif (me.options.responsive) {\n\t\t\thelpers.addResizeListener(canvas.parentNode, function() {\n\t\t\t\tme.resize();\n\t\t\t});\n\n\t\t\t// Initial resize before chart draws (must be silent to preserve initial animations).\n\t\t\tme.resize(true);\n\t\t}\n\n\t\tme.initialize();\n\n\t\treturn me;\n\t};\n\n\thelpers.extend(Chart.Controller.prototype, /** @lends Chart.Controller */ {\n\t\tinitialize: function() {\n\t\t\tvar me = this;\n\n\t\t\t// Before init plugin notification\n\t\t\tChart.plugins.notify('beforeInit', [me]);\n\n\t\t\tme.bindEvents();\n\n\t\t\t// Make sure controllers are built first so that each dataset is bound to an axis before the scales\n\t\t\t// are built\n\t\t\tme.ensureScalesHaveIDs();\n\t\t\tme.buildOrUpdateControllers();\n\t\t\tme.buildScales();\n\t\t\tme.updateLayout();\n\t\t\tme.resetElements();\n\t\t\tme.initToolTip();\n\t\t\tme.update();\n\n\t\t\t// After init plugin notification\n\t\t\tChart.plugins.notify('afterInit', [me]);\n\n\t\t\treturn me;\n\t\t},\n\n\t\tclear: function() {\n\t\t\thelpers.clear(this.chart);\n\t\t\treturn this;\n\t\t},\n\n\t\tstop: function() {\n\t\t\t// Stops any current animation loop occurring\n\t\t\tChart.animationService.cancelAnimation(this);\n\t\t\treturn this;\n\t\t},\n\n\t\tresize: function(silent) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar options = me.options;\n\t\t\tvar canvas = chart.canvas;\n\t\t\tvar aspectRatio = (options.maintainAspectRatio && chart.aspectRatio) || null;\n\n\t\t\t// the canvas render width and height will be casted to integers so make sure that\n\t\t\t// the canvas display style uses the same integer values to avoid blurring effect.\n\t\t\tvar newWidth = Math.floor(helpers.getMaximumWidth(canvas));\n\t\t\tvar newHeight = Math.floor(aspectRatio? newWidth / aspectRatio : helpers.getMaximumHeight(canvas));\n\n\t\t\tif (chart.width === newWidth && chart.height === newHeight) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcanvas.width = chart.width = newWidth;\n\t\t\tcanvas.height = chart.height = newHeight;\n\t\t\tcanvas.style.width = newWidth + 'px';\n\t\t\tcanvas.style.height = newHeight + 'px';\n\n\t\t\thelpers.retinaScale(chart);\n\n\t\t\t// Notify any plugins about the resize\n\t\t\tvar newSize = {width: newWidth, height: newHeight};\n\t\t\tChart.plugins.notify('resize', [me, newSize]);\n\n\t\t\t// Notify of resize\n\t\t\tif (me.options.onResize) {\n\t\t\t\tme.options.onResize(me, newSize);\n\t\t\t}\n\n\t\t\tif (!silent) {\n\t\t\t\tme.stop();\n\t\t\t\tme.update(me.options.responsiveAnimationDuration);\n\t\t\t}\n\t\t},\n\n\t\tensureScalesHaveIDs: function() {\n\t\t\tvar options = this.options;\n\t\t\tvar scalesOptions = options.scales || {};\n\t\t\tvar scaleOptions = options.scale;\n\n\t\t\thelpers.each(scalesOptions.xAxes, function(xAxisOptions, index) {\n\t\t\t\txAxisOptions.id = xAxisOptions.id || ('x-axis-' + index);\n\t\t\t});\n\n\t\t\thelpers.each(scalesOptions.yAxes, function(yAxisOptions, index) {\n\t\t\t\tyAxisOptions.id = yAxisOptions.id || ('y-axis-' + index);\n\t\t\t});\n\n\t\t\tif (scaleOptions) {\n\t\t\t\tscaleOptions.id = scaleOptions.id || 'scale';\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Builds a map of scale ID to scale object for future lookup.\n\t\t */\n\t\tbuildScales: function() {\n\t\t\tvar me = this;\n\t\t\tvar options = me.options;\n\t\t\tvar scales = me.scales = {};\n\t\t\tvar items = [];\n\n\t\t\tif (options.scales) {\n\t\t\t\titems = items.concat(\n\t\t\t\t\t(options.scales.xAxes || []).map(function(xAxisOptions) {\n\t\t\t\t\t\treturn {options: xAxisOptions, dtype: 'category'};\n\t\t\t\t\t}),\n\t\t\t\t\t(options.scales.yAxes || []).map(function(yAxisOptions) {\n\t\t\t\t\t\treturn {options: yAxisOptions, dtype: 'linear'};\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (options.scale) {\n\t\t\t\titems.push({options: options.scale, dtype: 'radialLinear', isDefault: true});\n\t\t\t}\n\n\t\t\thelpers.each(items, function(item) {\n\t\t\t\tvar scaleOptions = item.options;\n\t\t\t\tvar scaleType = helpers.getValueOrDefault(scaleOptions.type, item.dtype);\n\t\t\t\tvar scaleClass = Chart.scaleService.getScaleConstructor(scaleType);\n\t\t\t\tif (!scaleClass) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar scale = new scaleClass({\n\t\t\t\t\tid: scaleOptions.id,\n\t\t\t\t\toptions: scaleOptions,\n\t\t\t\t\tctx: me.chart.ctx,\n\t\t\t\t\tchart: me\n\t\t\t\t});\n\n\t\t\t\tscales[scale.id] = scale;\n\n\t\t\t\t// TODO(SB): I think we should be able to remove this custom case (options.scale)\n\t\t\t\t// and consider it as a regular scale part of the \"scales\"\" map only! This would\n\t\t\t\t// make the logic easier and remove some useless? custom code.\n\t\t\t\tif (item.isDefault) {\n\t\t\t\t\tme.scale = scale;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tChart.scaleService.addScalesToLayout(this);\n\t\t},\n\n\t\tupdateLayout: function() {\n\t\t\tChart.layoutService.update(this, this.chart.width, this.chart.height);\n\t\t},\n\n\t\tbuildOrUpdateControllers: function() {\n\t\t\tvar me = this;\n\t\t\tvar types = [];\n\t\t\tvar newControllers = [];\n\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tvar meta = me.getDatasetMeta(datasetIndex);\n\t\t\t\tif (!meta.type) {\n\t\t\t\t\tmeta.type = dataset.type || me.config.type;\n\t\t\t\t}\n\n\t\t\t\ttypes.push(meta.type);\n\n\t\t\t\tif (meta.controller) {\n\t\t\t\t\tmeta.controller.updateIndex(datasetIndex);\n\t\t\t\t} else {\n\t\t\t\t\tmeta.controller = new Chart.controllers[meta.type](me, datasetIndex);\n\t\t\t\t\tnewControllers.push(meta.controller);\n\t\t\t\t}\n\t\t\t}, me);\n\n\t\t\tif (types.length > 1) {\n\t\t\t\tfor (var i = 1; i < types.length; i++) {\n\t\t\t\t\tif (types[i] !== types[i - 1]) {\n\t\t\t\t\t\tme.isCombo = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newControllers;\n\t\t},\n\n\t\t/**\n\t\t * Reset the elements of all datasets\n\t\t * @method resetElements\n\t\t * @private\n\t\t */\n\t\tresetElements: function() {\n\t\t\tvar me = this;\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tme.getDatasetMeta(datasetIndex).controller.reset();\n\t\t\t}, me);\n\t\t},\n\n\t\t/**\n\t\t* Resets the chart back to it's state before the initial animation\n\t\t* @method reset\n\t\t*/\n\t\treset: function() {\n\t\t\tthis.resetElements();\n\t\t\tthis.tooltip.initialize();\n\t\t},\n\n\t\tupdate: function(animationDuration, lazy) {\n\t\t\tvar me = this;\n\t\t\tChart.plugins.notify('beforeUpdate', [me]);\n\n\t\t\t// In case the entire data object changed\n\t\t\tme.tooltip._data = me.data;\n\n\t\t\t// Make sure dataset controllers are updated and new controllers are reset\n\t\t\tvar newControllers = me.buildOrUpdateControllers();\n\n\t\t\t// Make sure all dataset controllers have correct meta data counts\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tme.getDatasetMeta(datasetIndex).controller.buildOrUpdateElements();\n\t\t\t}, me);\n\n\t\t\tChart.layoutService.update(me, me.chart.width, me.chart.height);\n\n\t\t\t// Apply changes to the datasets that require the scales to have been calculated i.e BorderColor changes\n\t\t\tChart.plugins.notify('afterScaleUpdate', [me]);\n\n\t\t\t// Can only reset the new controllers after the scales have been updated\n\t\t\thelpers.each(newControllers, function(controller) {\n\t\t\t\tcontroller.reset();\n\t\t\t});\n\n\t\t\tme.updateDatasets();\n\n\t\t\t// Do this before render so that any plugins that need final scale updates can use it\n\t\t\tChart.plugins.notify('afterUpdate', [me]);\n\n\t\t\tif (me._bufferedRender) {\n\t\t\t\tme._bufferedRequest = {\n\t\t\t\t\tlazy: lazy,\n\t\t\t\t\tduration: animationDuration\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tme.render(animationDuration, lazy);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @method beforeDatasetsUpdate\n\t\t * @description Called before all datasets are updated. If a plugin returns false,\n\t\t * the datasets update will be cancelled until another chart update is triggered.\n\t\t * @param {Object} instance the chart instance being updated.\n\t\t * @returns {Boolean} false to cancel the datasets update.\n\t\t * @memberof Chart.PluginBase\n\t\t * @since version 2.1.5\n\t\t * @instance\n\t\t */\n\n\t\t/**\n\t\t * @method afterDatasetsUpdate\n\t\t * @description Called after all datasets have been updated. Note that this\n\t\t * extension will not be called if the datasets update has been cancelled.\n\t\t * @param {Object} instance the chart instance being updated.\n\t\t * @memberof Chart.PluginBase\n\t\t * @since version 2.1.5\n\t\t * @instance\n\t\t */\n\n\t\t/**\n\t\t * Updates all datasets unless a plugin returns false to the beforeDatasetsUpdate\n\t\t * extension, in which case no datasets will be updated and the afterDatasetsUpdate\n\t\t * notification will be skipped.\n\t\t * @protected\n\t\t * @instance\n\t\t */\n\t\tupdateDatasets: function() {\n\t\t\tvar me = this;\n\t\t\tvar i, ilen;\n\n\t\t\tif (Chart.plugins.notify('beforeDatasetsUpdate', [me])) {\n\t\t\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n\t\t\t\t\tme.getDatasetMeta(i).controller.update();\n\t\t\t\t}\n\n\t\t\t\tChart.plugins.notify('afterDatasetsUpdate', [me]);\n\t\t\t}\n\t\t},\n\n\t\trender: function(duration, lazy) {\n\t\t\tvar me = this;\n\t\t\tChart.plugins.notify('beforeRender', [me]);\n\n\t\t\tvar animationOptions = me.options.animation;\n\t\t\tif (animationOptions && ((typeof duration !== 'undefined' && duration !== 0) || (typeof duration === 'undefined' && animationOptions.duration !== 0))) {\n\t\t\t\tvar animation = new Chart.Animation();\n\t\t\t\tanimation.numSteps = (duration || animationOptions.duration) / 16.66; // 60 fps\n\t\t\t\tanimation.easing = animationOptions.easing;\n\n\t\t\t\t// render function\n\t\t\t\tanimation.render = function(chartInstance, animationObject) {\n\t\t\t\t\tvar easingFunction = helpers.easingEffects[animationObject.easing];\n\t\t\t\t\tvar stepDecimal = animationObject.currentStep / animationObject.numSteps;\n\t\t\t\t\tvar easeDecimal = easingFunction(stepDecimal);\n\n\t\t\t\t\tchartInstance.draw(easeDecimal, stepDecimal, animationObject.currentStep);\n\t\t\t\t};\n\n\t\t\t\t// user events\n\t\t\t\tanimation.onAnimationProgress = animationOptions.onProgress;\n\t\t\t\tanimation.onAnimationComplete = animationOptions.onComplete;\n\n\t\t\t\tChart.animationService.addAnimation(me, animation, duration, lazy);\n\t\t\t} else {\n\t\t\t\tme.draw();\n\t\t\t\tif (animationOptions && animationOptions.onComplete && animationOptions.onComplete.call) {\n\t\t\t\t\tanimationOptions.onComplete.call(me);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn me;\n\t\t},\n\n\t\tdraw: function(ease) {\n\t\t\tvar me = this;\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tme.clear();\n\n\t\t\tChart.plugins.notify('beforeDraw', [me, easingDecimal]);\n\n\t\t\t// Draw all the scales\n\t\t\thelpers.each(me.boxes, function(box) {\n\t\t\t\tbox.draw(me.chartArea);\n\t\t\t}, me);\n\t\t\tif (me.scale) {\n\t\t\t\tme.scale.draw();\n\t\t\t}\n\n\t\t\tChart.plugins.notify('beforeDatasetsDraw', [me, easingDecimal]);\n\n\t\t\t// Draw each dataset via its respective controller (reversed to support proper line stacking)\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tif (me.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\tme.getDatasetMeta(datasetIndex).controller.draw(ease);\n\t\t\t\t}\n\t\t\t}, me, true);\n\n\t\t\tChart.plugins.notify('afterDatasetsDraw', [me, easingDecimal]);\n\n\t\t\t// Finally draw the tooltip\n\t\t\tme.tooltip.transition(easingDecimal).draw();\n\n\t\t\tChart.plugins.notify('afterDraw', [me, easingDecimal]);\n\t\t},\n\n\t\t// Get the single element that was clicked on\n\t\t// @return : An object containing the dataset index and element index of the matching element. Also contains the rectangle that was draw\n\t\tgetElementAtEvent: function(e) {\n\t\t\treturn Chart.Interaction.modes.single(this, e);\n\t\t},\n\n\t\tgetElementsAtEvent: function(e) {\n\t\t\treturn Chart.Interaction.modes.label(this, e, {intersect: true});\n\t\t},\n\n\t\tgetElementsAtXAxis: function(e) {\n\t\t\treturn Chart.Interaction.modes['x-axis'](this, e, {intersect: true});\n\t\t},\n\n\t\tgetElementsAtEventForMode: function(e, mode, options) {\n\t\t\tvar method = Chart.Interaction.modes[mode];\n\t\t\tif (typeof method === 'function') {\n\t\t\t\treturn method(this, e, options);\n\t\t\t}\n\n\t\t\treturn [];\n\t\t},\n\n\t\tgetDatasetAtEvent: function(e) {\n\t\t\treturn Chart.Interaction.modes.dataset(this, e);\n\t\t},\n\n\t\tgetDatasetMeta: function(datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar dataset = me.data.datasets[datasetIndex];\n\t\t\tif (!dataset._meta) {\n\t\t\t\tdataset._meta = {};\n\t\t\t}\n\n\t\t\tvar meta = dataset._meta[me.id];\n\t\t\tif (!meta) {\n\t\t\t\tmeta = dataset._meta[me.id] = {\n\t\t\t\t\ttype: null,\n\t\t\t\t\tdata: [],\n\t\t\t\t\tdataset: null,\n\t\t\t\t\tcontroller: null,\n\t\t\t\t\thidden: null,\t\t\t// See isDatasetVisible() comment\n\t\t\t\t\txAxisID: null,\n\t\t\t\t\tyAxisID: null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn meta;\n\t\t},\n\n\t\tgetVisibleDatasetCount: function() {\n\t\t\tvar count = 0;\n\t\t\tfor (var i = 0, ilen = this.data.datasets.length; i<ilen; ++i) {\n\t\t\t\tif (this.isDatasetVisible(i)) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\n\t\tisDatasetVisible: function(datasetIndex) {\n\t\t\tvar meta = this.getDatasetMeta(datasetIndex);\n\n\t\t\t// meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\n\t\t\t// the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\n\t\t\treturn typeof meta.hidden === 'boolean'? !meta.hidden : !this.data.datasets[datasetIndex].hidden;\n\t\t},\n\n\t\tgenerateLegend: function() {\n\t\t\treturn this.options.legendCallback(this);\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tvar me = this;\n\t\t\tvar canvas = me.chart.canvas;\n\t\t\tvar meta, i, ilen;\n\n\t\t\tme.stop();\n\n\t\t\t// dataset controllers need to cleanup associated data\n\t\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n\t\t\t\tmeta = me.getDatasetMeta(i);\n\t\t\t\tif (meta.controller) {\n\t\t\t\t\tmeta.controller.destroy();\n\t\t\t\t\tmeta.controller = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (canvas) {\n\t\t\t\thelpers.unbindEvents(me, me.events);\n\t\t\t\thelpers.removeResizeListener(canvas.parentNode);\n\t\t\t\thelpers.clear(me.chart);\n\t\t\t\treleaseCanvas(canvas);\n\t\t\t\tme.chart.canvas = null;\n\t\t\t\tme.chart.ctx = null;\n\t\t\t}\n\n\t\t\tChart.plugins.notify('destroy', [me]);\n\n\t\t\tdelete Chart.instances[me.id];\n\t\t},\n\n\t\ttoBase64Image: function() {\n\t\t\treturn this.chart.canvas.toDataURL.apply(this.chart.canvas, arguments);\n\t\t},\n\n\t\tinitToolTip: function() {\n\t\t\tvar me = this;\n\t\t\tme.tooltip = new Chart.Tooltip({\n\t\t\t\t_chart: me.chart,\n\t\t\t\t_chartInstance: me,\n\t\t\t\t_data: me.data,\n\t\t\t\t_options: me.options.tooltips\n\t\t\t}, me);\n\t\t\tme.tooltip.initialize();\n\t\t},\n\n\t\tbindEvents: function() {\n\t\t\tvar me = this;\n\t\t\thelpers.bindEvents(me, me.options.events, function(evt) {\n\t\t\t\tme.eventHandler(evt);\n\t\t\t});\n\t\t},\n\n\t\tupdateHoverStyle: function(elements, mode, enabled) {\n\t\t\tvar method = enabled? 'setHoverStyle' : 'removeHoverStyle';\n\t\t\tvar element, i, ilen;\n\n\t\t\tfor (i=0, ilen=elements.length; i<ilen; ++i) {\n\t\t\t\telement = elements[i];\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.getDatasetMeta(element._datasetIndex).controller[method](element);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\teventHandler: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar legend = me.legend;\n\t\t\tvar tooltip = me.tooltip;\n\t\t\tvar hoverOptions = me.options.hover;\n\n\t\t\t// Buffer any update calls so that renders do not occur\n\t\t\tme._bufferedRender = true;\n\t\t\tme._bufferedRequest = null;\n\n\t\t\tvar changed = me.handleEvent(e);\n\t\t\tchanged |= legend && legend.handleEvent(e);\n\t\t\tchanged |= tooltip && tooltip.handleEvent(e);\n\n\t\t\tvar bufferedRequest = me._bufferedRequest;\n\t\t\tif (bufferedRequest) {\n\t\t\t\t// If we have an update that was triggered, we need to do a normal render\n\t\t\t\tme.render(bufferedRequest.duration, bufferedRequest.lazy);\n\t\t\t} else if (changed && !me.animating) {\n\t\t\t\t// If entering, leaving, or changing elements, animate the change via pivot\n\t\t\t\tme.stop();\n\n\t\t\t\t// We only need to render at this point. Updating will cause scales to be\n\t\t\t\t// recomputed generating flicker & using more memory than necessary.\n\t\t\t\tme.render(hoverOptions.animationDuration, true);\n\t\t\t}\n\n\t\t\tme._bufferedRender = false;\n\t\t\tme._bufferedRequest = null;\n\n\t\t\treturn me;\n\t\t},\n\n\t\t/**\n\t\t * Handle an event\n\t\t * @private\n\t\t * param e {Event} the event to handle\n\t\t * @return {Boolean} true if the chart needs to re-render\n\t\t */\n\t\thandleEvent: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar options = me.options || {};\n\t\t\tvar hoverOptions = options.hover;\n\t\t\tvar changed = false;\n\n\t\t\tme.lastActive = me.lastActive || [];\n\n\t\t\t// Find Active Elements for hover and tooltips\n\t\t\tif (e.type === 'mouseout') {\n\t\t\t\tme.active = [];\n\t\t\t} else {\n\t\t\t\tme.active = me.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions);\n\t\t\t}\n\n\t\t\t// On Hover hook\n\t\t\tif (hoverOptions.onHover) {\n\t\t\t\thoverOptions.onHover.call(me, me.active);\n\t\t\t}\n\n\t\t\tif (e.type === 'mouseup' || e.type === 'click') {\n\t\t\t\tif (options.onClick) {\n\t\t\t\t\toptions.onClick.call(me, e, me.active);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove styling for last active (even if it may still be active)\n\t\t\tif (me.lastActive.length) {\n\t\t\t\tme.updateHoverStyle(me.lastActive, hoverOptions.mode, false);\n\t\t\t}\n\n\t\t\t// Built in hover styling\n\t\t\tif (me.active.length && hoverOptions.mode) {\n\t\t\t\tme.updateHoverStyle(me.active, hoverOptions.mode, true);\n\t\t\t}\n\n\t\t\tchanged = !helpers.arrayEquals(me.active, me.lastActive);\n\n\t\t\t// Remember Last Actives\n\t\t\tme.lastActive = me.active;\n\n\t\t\treturn changed;\n\t\t}\n\t});\n};\n\n},{}],24:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tvar arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\n\n\t/**\n\t * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\n\t * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\n\t * called on the 'onData*' callbacks (e.g. onDataPush, etc.) with same arguments.\n\t */\n\tfunction listenArrayEvents(array, listener) {\n\t\tif (array._chartjs) {\n\t\t\tarray._chartjs.listeners.push(listener);\n\t\t\treturn;\n\t\t}\n\n\t\tObject.defineProperty(array, '_chartjs', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: {\n\t\t\t\tlisteners: [listener]\n\t\t\t}\n\t\t});\n\n\t\tarrayEvents.forEach(function(key) {\n\t\t\tvar method = 'onData' + key.charAt(0).toUpperCase() + key.slice(1);\n\t\t\tvar base = array[key];\n\n\t\t\tObject.defineProperty(array, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: false,\n\t\t\t\tvalue: function() {\n\t\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\t\tvar res = base.apply(this, args);\n\n\t\t\t\t\thelpers.each(array._chartjs.listeners, function(object) {\n\t\t\t\t\t\tif (typeof object[method] === 'function') {\n\t\t\t\t\t\t\tobject[method].apply(object, args);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Removes the given array event listener and cleanup extra attached properties (such as\n\t * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\n\t */\n\tfunction unlistenArrayEvents(array, listener) {\n\t\tvar stub = array._chartjs;\n\t\tif (!stub) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar listeners = stub.listeners;\n\t\tvar index = listeners.indexOf(listener);\n\t\tif (index !== -1) {\n\t\t\tlisteners.splice(index, 1);\n\t\t}\n\n\t\tif (listeners.length > 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tarrayEvents.forEach(function(key) {\n\t\t\tdelete array[key];\n\t\t});\n\n\t\tdelete array._chartjs;\n\t}\n\n\t// Base class for all dataset controllers (line, bar, etc)\n\tChart.DatasetController = function(chart, datasetIndex) {\n\t\tthis.initialize(chart, datasetIndex);\n\t};\n\n\thelpers.extend(Chart.DatasetController.prototype, {\n\n\t\t/**\n\t\t * Element type used to generate a meta dataset (e.g. Chart.element.Line).\n\t\t * @type {Chart.core.element}\n\t\t */\n\t\tdatasetElementType: null,\n\n\t\t/**\n\t\t * Element type used to generate a meta data (e.g. Chart.element.Point).\n\t\t * @type {Chart.core.element}\n\t\t */\n\t\tdataElementType: null,\n\n\t\tinitialize: function(chart, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tme.chart = chart;\n\t\t\tme.index = datasetIndex;\n\t\t\tme.linkScales();\n\t\t\tme.addElements();\n\t\t},\n\n\t\tupdateIndex: function(datasetIndex) {\n\t\t\tthis.index = datasetIndex;\n\t\t},\n\n\t\tlinkScales: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar dataset = me.getDataset();\n\n\t\t\tif (meta.xAxisID === null) {\n\t\t\t\tmeta.xAxisID = dataset.xAxisID || me.chart.options.scales.xAxes[0].id;\n\t\t\t}\n\t\t\tif (meta.yAxisID === null) {\n\t\t\t\tmeta.yAxisID = dataset.yAxisID || me.chart.options.scales.yAxes[0].id;\n\t\t\t}\n\t\t},\n\n\t\tgetDataset: function() {\n\t\t\treturn this.chart.data.datasets[this.index];\n\t\t},\n\n\t\tgetMeta: function() {\n\t\t\treturn this.chart.getDatasetMeta(this.index);\n\t\t},\n\n\t\tgetScaleForId: function(scaleID) {\n\t\t\treturn this.chart.scales[scaleID];\n\t\t},\n\n\t\treset: function() {\n\t\t\tthis.update(true);\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tdestroy: function() {\n\t\t\tif (this._data) {\n\t\t\t\tunlistenArrayEvents(this._data, this);\n\t\t\t}\n\t\t},\n\n\t\tcreateMetaDataset: function() {\n\t\t\tvar me = this;\n\t\t\tvar type = me.datasetElementType;\n\t\t\treturn type && new type({\n\t\t\t\t_chart: me.chart.chart,\n\t\t\t\t_datasetIndex: me.index\n\t\t\t});\n\t\t},\n\n\t\tcreateMetaData: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar type = me.dataElementType;\n\t\t\treturn type && new type({\n\t\t\t\t_chart: me.chart.chart,\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index\n\t\t\t});\n\t\t},\n\n\t\taddElements: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar data = me.getDataset().data || [];\n\t\t\tvar metaData = meta.data;\n\t\t\tvar i, ilen;\n\n\t\t\tfor (i=0, ilen=data.length; i<ilen; ++i) {\n\t\t\t\tmetaData[i] = metaData[i] || me.createMetaData(i);\n\t\t\t}\n\n\t\t\tmeta.dataset = meta.dataset || me.createMetaDataset();\n\t\t},\n\n\t\taddElementAndReset: function(index) {\n\t\t\tvar element = this.createMetaData(index);\n\t\t\tthis.getMeta().data.splice(index, 0, element);\n\t\t\tthis.updateElement(element, index, true);\n\t\t},\n\n\t\tbuildOrUpdateElements: function() {\n\t\t\tvar me = this;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar data = dataset.data || (dataset.data = []);\n\n\t\t\t// In order to correctly handle data addition/deletion animation (an thus simulate\n\t\t\t// real-time charts), we need to monitor these data modifications and synchronize\n\t\t\t// the internal meta data accordingly.\n\t\t\tif (me._data !== data) {\n\t\t\t\tif (me._data) {\n\t\t\t\t\t// This case happens when the user replaced the data array instance.\n\t\t\t\t\tunlistenArrayEvents(me._data, me);\n\t\t\t\t}\n\n\t\t\t\tlistenArrayEvents(data, me);\n\t\t\t\tme._data = data;\n\t\t\t}\n\n\t\t\t// Re-sync meta data in case the user replaced the data array or if we missed\n\t\t\t// any updates and so make sure that we handle number of datapoints changing.\n\t\t\tme.resyncElements();\n\t\t},\n\n\t\tupdate: helpers.noop,\n\n\t\tdraw: function(ease) {\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tvar i, len;\n\t\t\tvar metaData = this.getMeta().data;\n\t\t\tfor (i = 0, len = metaData.length; i < len; ++i) {\n\t\t\t\tmetaData[i].transition(easingDecimal).draw();\n\t\t\t}\n\t\t},\n\n\t\tremoveHoverStyle: function(element, elementOpts) {\n\t\t\tvar dataset = this.chart.data.datasets[element._datasetIndex],\n\t\t\t\tindex = element._index,\n\t\t\t\tcustom = element.custom || {},\n\t\t\t\tvalueOrDefault = helpers.getValueAtIndexOrDefault,\n\t\t\t\tmodel = element._model;\n\n\t\t\tmodel.backgroundColor = custom.backgroundColor ? custom.backgroundColor : valueOrDefault(dataset.backgroundColor, index, elementOpts.backgroundColor);\n\t\t\tmodel.borderColor = custom.borderColor ? custom.borderColor : valueOrDefault(dataset.borderColor, index, elementOpts.borderColor);\n\t\t\tmodel.borderWidth = custom.borderWidth ? custom.borderWidth : valueOrDefault(dataset.borderWidth, index, elementOpts.borderWidth);\n\t\t},\n\n\t\tsetHoverStyle: function(element) {\n\t\t\tvar dataset = this.chart.data.datasets[element._datasetIndex],\n\t\t\t\tindex = element._index,\n\t\t\t\tcustom = element.custom || {},\n\t\t\t\tvalueOrDefault = helpers.getValueAtIndexOrDefault,\n\t\t\t\tgetHoverColor = helpers.getHoverColor,\n\t\t\t\tmodel = element._model;\n\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : valueOrDefault(dataset.hoverBackgroundColor, index, getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : valueOrDefault(dataset.hoverBorderColor, index, getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : valueOrDefault(dataset.hoverBorderWidth, index, model.borderWidth);\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tresyncElements: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar data = me.getDataset().data;\n\t\t\tvar numMeta = meta.data.length;\n\t\t\tvar numData = data.length;\n\n\t\t\tif (numData < numMeta) {\n\t\t\t\tmeta.data.splice(numData, numMeta - numData);\n\t\t\t} else if (numData > numMeta) {\n\t\t\t\tme.insertElements(numMeta, numData - numMeta);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tinsertElements: function(start, count) {\n\t\t\tfor (var i=0; i<count; ++i) {\n\t\t\t\tthis.addElementAndReset(start + i);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataPush: function() {\n\t\t\tthis.insertElements(this.getDataset().data.length-1, arguments.length);\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataPop: function() {\n\t\t\tthis.getMeta().data.pop();\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataShift: function() {\n\t\t\tthis.getMeta().data.shift();\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataSplice: function(start, count) {\n\t\t\tthis.getMeta().data.splice(start, count);\n\t\t\tthis.insertElements(start, arguments.length - 2);\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataUnshift: function() {\n\t\t\tthis.insertElements(0, arguments.length);\n\t\t}\n\t});\n\n\tChart.DatasetController.extend = helpers.inherits;\n};\n\n},{}],25:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.elements = {};\n\n\tChart.Element = function(configuration) {\n\t\thelpers.extend(this, configuration);\n\t\tthis.initialize.apply(this, arguments);\n\t};\n\n\thelpers.extend(Chart.Element.prototype, {\n\n\t\tinitialize: function() {\n\t\t\tthis.hidden = false;\n\t\t},\n\n\t\tpivot: function() {\n\t\t\tvar me = this;\n\t\t\tif (!me._view) {\n\t\t\t\tme._view = helpers.clone(me._model);\n\t\t\t}\n\t\t\tme._start = helpers.clone(me._view);\n\t\t\treturn me;\n\t\t},\n\n\t\ttransition: function(ease) {\n\t\t\tvar me = this;\n\n\t\t\tif (!me._view) {\n\t\t\t\tme._view = helpers.clone(me._model);\n\t\t\t}\n\n\t\t\t// No animation -> No Transition\n\t\t\tif (ease === 1) {\n\t\t\t\tme._view = me._model;\n\t\t\t\tme._start = null;\n\t\t\t\treturn me;\n\t\t\t}\n\n\t\t\tif (!me._start) {\n\t\t\t\tme.pivot();\n\t\t\t}\n\n\t\t\thelpers.each(me._model, function(value, key) {\n\n\t\t\t\tif (key[0] === '_') {\n\t\t\t\t\t// Only non-underscored properties\n\t\t\t\t// Init if doesn't exist\n\t\t\t\t} else if (!me._view.hasOwnProperty(key)) {\n\t\t\t\t\tif (typeof value === 'number' && !isNaN(me._view[key])) {\n\t\t\t\t\t\tme._view[key] = value * ease;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tme._view[key] = value;\n\t\t\t\t\t}\n\t\t\t\t// No unnecessary computations\n\t\t\t\t} else if (value === me._view[key]) {\n\t\t\t\t\t// It's the same! Woohoo!\n\t\t\t\t// Color transitions if possible\n\t\t\t\t} else if (typeof value === 'string') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar color = helpers.color(me._model[key]).mix(helpers.color(me._start[key]), ease);\n\t\t\t\t\t\tme._view[key] = color.rgbString();\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tme._view[key] = value;\n\t\t\t\t\t}\n\t\t\t\t// Number transitions\n\t\t\t\t} else if (typeof value === 'number') {\n\t\t\t\t\tvar startVal = me._start[key] !== undefined && isNaN(me._start[key]) === false ? me._start[key] : 0;\n\t\t\t\t\tme._view[key] = ((me._model[key] - startVal) * ease) + startVal;\n\t\t\t\t// Everything else\n\t\t\t\t} else {\n\t\t\t\t\tme._view[key] = value;\n\t\t\t\t}\n\t\t\t}, me);\n\n\t\t\treturn me;\n\t\t},\n\n\t\ttooltipPosition: function() {\n\t\t\treturn {\n\t\t\t\tx: this._model.x,\n\t\t\t\ty: this._model.y\n\t\t\t};\n\t\t},\n\n\t\thasValue: function() {\n\t\t\treturn helpers.isNumber(this._model.x) && helpers.isNumber(this._model.y);\n\t\t}\n\t});\n\n\tChart.Element.extend = helpers.inherits;\n\n};\n\n},{}],26:[function(require,module,exports){\n/* global window: false */\n/* global document: false */\n'use strict';\n\nvar color = require(3);\n\nmodule.exports = function(Chart) {\n\t// Global Chart helpers object for utility methods and classes\n\tvar helpers = Chart.helpers = {};\n\n\t// -- Basic js utility methods\n\thelpers.each = function(loopable, callback, self, reverse) {\n\t\t// Check to see if null or undefined firstly.\n\t\tvar i, len;\n\t\tif (helpers.isArray(loopable)) {\n\t\t\tlen = loopable.length;\n\t\t\tif (reverse) {\n\t\t\t\tfor (i = len - 1; i >= 0; i--) {\n\t\t\t\t\tcallback.call(self, loopable[i], i);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\tcallback.call(self, loopable[i], i);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (typeof loopable === 'object') {\n\t\t\tvar keys = Object.keys(loopable);\n\t\t\tlen = keys.length;\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tcallback.call(self, loopable[keys[i]], keys[i]);\n\t\t\t}\n\t\t}\n\t};\n\thelpers.clone = function(obj) {\n\t\tvar objClone = {};\n\t\thelpers.each(obj, function(value, key) {\n\t\t\tif (helpers.isArray(value)) {\n\t\t\t\tobjClone[key] = value.slice(0);\n\t\t\t} else if (typeof value === 'object' && value !== null) {\n\t\t\t\tobjClone[key] = helpers.clone(value);\n\t\t\t} else {\n\t\t\t\tobjClone[key] = value;\n\t\t\t}\n\t\t});\n\t\treturn objClone;\n\t};\n\thelpers.extend = function(base) {\n\t\tvar setFn = function(value, key) {\n\t\t\tbase[key] = value;\n\t\t};\n\t\tfor (var i = 1, ilen = arguments.length; i < ilen; i++) {\n\t\t\thelpers.each(arguments[i], setFn);\n\t\t}\n\t\treturn base;\n\t};\n\t// Need a special merge function to chart configs since they are now grouped\n\thelpers.configMerge = function(_base) {\n\t\tvar base = helpers.clone(_base);\n\t\thelpers.each(Array.prototype.slice.call(arguments, 1), function(extension) {\n\t\t\thelpers.each(extension, function(value, key) {\n\t\t\t\tvar baseHasProperty = base.hasOwnProperty(key);\n\t\t\t\tvar baseVal = baseHasProperty ? base[key] : {};\n\n\t\t\t\tif (key === 'scales') {\n\t\t\t\t\t// Scale config merging is complex. Add our own function here for that\n\t\t\t\t\tbase[key] = helpers.scaleMerge(baseVal, value);\n\t\t\t\t} else if (key === 'scale') {\n\t\t\t\t\t// Used in polar area & radar charts since there is only one scale\n\t\t\t\t\tbase[key] = helpers.configMerge(baseVal, Chart.scaleService.getScaleDefaults(value.type), value);\n\t\t\t\t} else if (baseHasProperty\n\t\t\t\t\t\t&& typeof baseVal === 'object'\n\t\t\t\t\t\t&& !helpers.isArray(baseVal)\n\t\t\t\t\t\t&& baseVal !== null\n\t\t\t\t\t\t&& typeof value === 'object'\n\t\t\t\t\t\t&& !helpers.isArray(value)) {\n\t\t\t\t\t// If we are overwriting an object with an object, do a merge of the properties.\n\t\t\t\t\tbase[key] = helpers.configMerge(baseVal, value);\n\t\t\t\t} else {\n\t\t\t\t\t// can just overwrite the value in this case\n\t\t\t\t\tbase[key] = value;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn base;\n\t};\n\thelpers.scaleMerge = function(_base, extension) {\n\t\tvar base = helpers.clone(_base);\n\n\t\thelpers.each(extension, function(value, key) {\n\t\t\tif (key === 'xAxes' || key === 'yAxes') {\n\t\t\t\t// These properties are arrays of items\n\t\t\t\tif (base.hasOwnProperty(key)) {\n\t\t\t\t\thelpers.each(value, function(valueObj, index) {\n\t\t\t\t\t\tvar axisType = helpers.getValueOrDefault(valueObj.type, key === 'xAxes' ? 'category' : 'linear');\n\t\t\t\t\t\tvar axisDefaults = Chart.scaleService.getScaleDefaults(axisType);\n\t\t\t\t\t\tif (index >= base[key].length || !base[key][index].type) {\n\t\t\t\t\t\t\tbase[key].push(helpers.configMerge(axisDefaults, valueObj));\n\t\t\t\t\t\t} else if (valueObj.type && valueObj.type !== base[key][index].type) {\n\t\t\t\t\t\t\t// Type changed. Bring in the new defaults before we bring in valueObj so that valueObj can override the correct scale defaults\n\t\t\t\t\t\t\tbase[key][index] = helpers.configMerge(base[key][index], axisDefaults, valueObj);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Type is the same\n\t\t\t\t\t\t\tbase[key][index] = helpers.configMerge(base[key][index], valueObj);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tbase[key] = [];\n\t\t\t\t\thelpers.each(value, function(valueObj) {\n\t\t\t\t\t\tvar axisType = helpers.getValueOrDefault(valueObj.type, key === 'xAxes' ? 'category' : 'linear');\n\t\t\t\t\t\tbase[key].push(helpers.configMerge(Chart.scaleService.getScaleDefaults(axisType), valueObj));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (base.hasOwnProperty(key) && typeof base[key] === 'object' && base[key] !== null && typeof value === 'object') {\n\t\t\t\t// If we are overwriting an object with an object, do a merge of the properties.\n\t\t\t\tbase[key] = helpers.configMerge(base[key], value);\n\n\t\t\t} else {\n\t\t\t\t// can just overwrite the value in this case\n\t\t\t\tbase[key] = value;\n\t\t\t}\n\t\t});\n\n\t\treturn base;\n\t};\n\thelpers.getValueAtIndexOrDefault = function(value, index, defaultValue) {\n\t\tif (value === undefined || value === null) {\n\t\t\treturn defaultValue;\n\t\t}\n\n\t\tif (helpers.isArray(value)) {\n\t\t\treturn index < value.length ? value[index] : defaultValue;\n\t\t}\n\n\t\treturn value;\n\t};\n\thelpers.getValueOrDefault = function(value, defaultValue) {\n\t\treturn value === undefined ? defaultValue : value;\n\t};\n\thelpers.indexOf = Array.prototype.indexOf?\n\t\tfunction(array, item) {\n\t\t\treturn array.indexOf(item);\n\t\t}:\n\t\tfunction(array, item) {\n\t\t\tfor (var i = 0, ilen = array.length; i < ilen; ++i) {\n\t\t\t\tif (array[i] === item) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\thelpers.where = function(collection, filterCallback) {\n\t\tif (helpers.isArray(collection) && Array.prototype.filter) {\n\t\t\treturn collection.filter(filterCallback);\n\t\t}\n\t\tvar filtered = [];\n\n\t\thelpers.each(collection, function(item) {\n\t\t\tif (filterCallback(item)) {\n\t\t\t\tfiltered.push(item);\n\t\t\t}\n\t\t});\n\n\t\treturn filtered;\n\t};\n\thelpers.findIndex = Array.prototype.findIndex?\n\t\tfunction(array, callback, scope) {\n\t\t\treturn array.findIndex(callback, scope);\n\t\t} :\n\t\tfunction(array, callback, scope) {\n\t\t\tscope = scope === undefined? array : scope;\n\t\t\tfor (var i = 0, ilen = array.length; i < ilen; ++i) {\n\t\t\t\tif (callback.call(scope, array[i], i, array)) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\thelpers.findNextWhere = function(arrayToSearch, filterCallback, startIndex) {\n\t\t// Default to start of the array\n\t\tif (startIndex === undefined || startIndex === null) {\n\t\t\tstartIndex = -1;\n\t\t}\n\t\tfor (var i = startIndex + 1; i < arrayToSearch.length; i++) {\n\t\t\tvar currentItem = arrayToSearch[i];\n\t\t\tif (filterCallback(currentItem)) {\n\t\t\t\treturn currentItem;\n\t\t\t}\n\t\t}\n\t};\n\thelpers.findPreviousWhere = function(arrayToSearch, filterCallback, startIndex) {\n\t\t// Default to end of the array\n\t\tif (startIndex === undefined || startIndex === null) {\n\t\t\tstartIndex = arrayToSearch.length;\n\t\t}\n\t\tfor (var i = startIndex - 1; i >= 0; i--) {\n\t\t\tvar currentItem = arrayToSearch[i];\n\t\t\tif (filterCallback(currentItem)) {\n\t\t\t\treturn currentItem;\n\t\t\t}\n\t\t}\n\t};\n\thelpers.inherits = function(extensions) {\n\t\t// Basic javascript inheritance based on the model created in Backbone.js\n\t\tvar me = this;\n\t\tvar ChartElement = (extensions && extensions.hasOwnProperty('constructor')) ? extensions.constructor : function() {\n\t\t\treturn me.apply(this, arguments);\n\t\t};\n\n\t\tvar Surrogate = function() {\n\t\t\tthis.constructor = ChartElement;\n\t\t};\n\t\tSurrogate.prototype = me.prototype;\n\t\tChartElement.prototype = new Surrogate();\n\n\t\tChartElement.extend = helpers.inherits;\n\n\t\tif (extensions) {\n\t\t\thelpers.extend(ChartElement.prototype, extensions);\n\t\t}\n\n\t\tChartElement.__super__ = me.prototype;\n\n\t\treturn ChartElement;\n\t};\n\thelpers.noop = function() {};\n\thelpers.uid = (function() {\n\t\tvar id = 0;\n\t\treturn function() {\n\t\t\treturn id++;\n\t\t};\n\t}());\n\t// -- Math methods\n\thelpers.isNumber = function(n) {\n\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t};\n\thelpers.almostEquals = function(x, y, epsilon) {\n\t\treturn Math.abs(x - y) < epsilon;\n\t};\n\thelpers.max = function(array) {\n\t\treturn array.reduce(function(max, value) {\n\t\t\tif (!isNaN(value)) {\n\t\t\t\treturn Math.max(max, value);\n\t\t\t}\n\t\t\treturn max;\n\t\t}, Number.NEGATIVE_INFINITY);\n\t};\n\thelpers.min = function(array) {\n\t\treturn array.reduce(function(min, value) {\n\t\t\tif (!isNaN(value)) {\n\t\t\t\treturn Math.min(min, value);\n\t\t\t}\n\t\t\treturn min;\n\t\t}, Number.POSITIVE_INFINITY);\n\t};\n\thelpers.sign = Math.sign?\n\t\tfunction(x) {\n\t\t\treturn Math.sign(x);\n\t\t} :\n\t\tfunction(x) {\n\t\t\tx = +x; // convert to a number\n\t\t\tif (x === 0 || isNaN(x)) {\n\t\t\t\treturn x;\n\t\t\t}\n\t\t\treturn x > 0 ? 1 : -1;\n\t\t};\n\thelpers.log10 = Math.log10?\n\t\tfunction(x) {\n\t\t\treturn Math.log10(x);\n\t\t} :\n\t\tfunction(x) {\n\t\t\treturn Math.log(x) / Math.LN10;\n\t\t};\n\thelpers.toRadians = function(degrees) {\n\t\treturn degrees * (Math.PI / 180);\n\t};\n\thelpers.toDegrees = function(radians) {\n\t\treturn radians * (180 / Math.PI);\n\t};\n\t// Gets the angle from vertical upright to the point about a centre.\n\thelpers.getAngleFromPoint = function(centrePoint, anglePoint) {\n\t\tvar distanceFromXCenter = anglePoint.x - centrePoint.x,\n\t\t\tdistanceFromYCenter = anglePoint.y - centrePoint.y,\n\t\t\tradialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n\t\tvar angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n\t\tif (angle < (-0.5 * Math.PI)) {\n\t\t\tangle += 2.0 * Math.PI; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n\t\t}\n\n\t\treturn {\n\t\t\tangle: angle,\n\t\t\tdistance: radialDistanceFromCenter\n\t\t};\n\t};\n\thelpers.distanceBetweenPoints = function(pt1, pt2) {\n\t\treturn Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n\t};\n\thelpers.aliasPixel = function(pixelWidth) {\n\t\treturn (pixelWidth % 2 === 0) ? 0 : 0.5;\n\t};\n\thelpers.splineCurve = function(firstPoint, middlePoint, afterPoint, t) {\n\t\t// Props to Rob Spencer at scaled innovation for his post on splining between points\n\t\t// http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\n\t\t// This function must also respect \"skipped\" points\n\n\t\tvar previous = firstPoint.skip ? middlePoint : firstPoint,\n\t\t\tcurrent = middlePoint,\n\t\t\tnext = afterPoint.skip ? middlePoint : afterPoint;\n\n\t\tvar d01 = Math.sqrt(Math.pow(current.x - previous.x, 2) + Math.pow(current.y - previous.y, 2));\n\t\tvar d12 = Math.sqrt(Math.pow(next.x - current.x, 2) + Math.pow(next.y - current.y, 2));\n\n\t\tvar s01 = d01 / (d01 + d12);\n\t\tvar s12 = d12 / (d01 + d12);\n\n\t\t// If all points are the same, s01 & s02 will be inf\n\t\ts01 = isNaN(s01) ? 0 : s01;\n\t\ts12 = isNaN(s12) ? 0 : s12;\n\n\t\tvar fa = t * s01; // scaling factor for triangle Ta\n\t\tvar fb = t * s12;\n\n\t\treturn {\n\t\t\tprevious: {\n\t\t\t\tx: current.x - fa * (next.x - previous.x),\n\t\t\t\ty: current.y - fa * (next.y - previous.y)\n\t\t\t},\n\t\t\tnext: {\n\t\t\t\tx: current.x + fb * (next.x - previous.x),\n\t\t\t\ty: current.y + fb * (next.y - previous.y)\n\t\t\t}\n\t\t};\n\t};\n\thelpers.EPSILON = Number.EPSILON || 1e-14;\n\thelpers.splineCurveMonotone = function(points) {\n\t\t// This function calculates Bzier control points in a similar way than |splineCurve|,\n\t\t// but preserves monotonicity of the provided data and ensures no local extremums are added\n\t\t// between the dataset discrete points due to the interpolation.\n\t\t// See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n\n\t\tvar pointsWithTangents = (points || []).map(function(point) {\n\t\t\treturn {\n\t\t\t\tmodel: point._model,\n\t\t\t\tdeltaK: 0,\n\t\t\t\tmK: 0\n\t\t\t};\n\t\t});\n\n\t\t// Calculate slopes (deltaK) and initialize tangents (mK)\n\t\tvar pointsLen = pointsWithTangents.length;\n\t\tvar i, pointBefore, pointCurrent, pointAfter;\n\t\tfor (i = 0; i < pointsLen; ++i) {\n\t\t\tpointCurrent = pointsWithTangents[i];\n\t\t\tif (pointCurrent.model.skip) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\n\t\t\t\tpointCurrent.deltaK = (pointAfter.model.y - pointCurrent.model.y) / (pointAfter.model.x - pointCurrent.model.x);\n\t\t\t}\n\n\t\t\tif (!pointBefore || pointBefore.model.skip) {\n\t\t\t\tpointCurrent.mK = pointCurrent.deltaK;\n\t\t\t} else if (!pointAfter || pointAfter.model.skip) {\n\t\t\t\tpointCurrent.mK = pointBefore.deltaK;\n\t\t\t} else if (this.sign(pointBefore.deltaK) !== this.sign(pointCurrent.deltaK)) {\n\t\t\t\tpointCurrent.mK = 0;\n\t\t\t} else {\n\t\t\t\tpointCurrent.mK = (pointBefore.deltaK + pointCurrent.deltaK) / 2;\n\t\t\t}\n\t\t}\n\n\t\t// Adjust tangents to ensure monotonic properties\n\t\tvar alphaK, betaK, tauK, squaredMagnitude;\n\t\tfor (i = 0; i < pointsLen - 1; ++i) {\n\t\t\tpointCurrent = pointsWithTangents[i];\n\t\t\tpointAfter = pointsWithTangents[i + 1];\n\t\t\tif (pointCurrent.model.skip || pointAfter.model.skip) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (helpers.almostEquals(pointCurrent.deltaK, 0, this.EPSILON)) {\n\t\t\t\tpointCurrent.mK = pointAfter.mK = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\talphaK = pointCurrent.mK / pointCurrent.deltaK;\n\t\t\tbetaK = pointAfter.mK / pointCurrent.deltaK;\n\t\t\tsquaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n\t\t\tif (squaredMagnitude <= 9) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ttauK = 3 / Math.sqrt(squaredMagnitude);\n\t\t\tpointCurrent.mK = alphaK * tauK * pointCurrent.deltaK;\n\t\t\tpointAfter.mK = betaK * tauK * pointCurrent.deltaK;\n\t\t}\n\n\t\t// Compute control points\n\t\tvar deltaX;\n\t\tfor (i = 0; i < pointsLen; ++i) {\n\t\t\tpointCurrent = pointsWithTangents[i];\n\t\t\tif (pointCurrent.model.skip) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\n\t\t\tif (pointBefore && !pointBefore.model.skip) {\n\t\t\t\tdeltaX = (pointCurrent.model.x - pointBefore.model.x) / 3;\n\t\t\t\tpointCurrent.model.controlPointPreviousX = pointCurrent.model.x - deltaX;\n\t\t\t\tpointCurrent.model.controlPointPreviousY = pointCurrent.model.y - deltaX * pointCurrent.mK;\n\t\t\t}\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\n\t\t\t\tdeltaX = (pointAfter.model.x - pointCurrent.model.x) / 3;\n\t\t\t\tpointCurrent.model.controlPointNextX = pointCurrent.model.x + deltaX;\n\t\t\t\tpointCurrent.model.controlPointNextY = pointCurrent.model.y + deltaX * pointCurrent.mK;\n\t\t\t}\n\t\t}\n\t};\n\thelpers.nextItem = function(collection, index, loop) {\n\t\tif (loop) {\n\t\t\treturn index >= collection.length - 1 ? collection[0] : collection[index + 1];\n\t\t}\n\t\treturn index >= collection.length - 1 ? collection[collection.length - 1] : collection[index + 1];\n\t};\n\thelpers.previousItem = function(collection, index, loop) {\n\t\tif (loop) {\n\t\t\treturn index <= 0 ? collection[collection.length - 1] : collection[index - 1];\n\t\t}\n\t\treturn index <= 0 ? collection[0] : collection[index - 1];\n\t};\n\t// Implementation of the nice number algorithm used in determining where axis labels will go\n\thelpers.niceNum = function(range, round) {\n\t\tvar exponent = Math.floor(helpers.log10(range));\n\t\tvar fraction = range / Math.pow(10, exponent);\n\t\tvar niceFraction;\n\n\t\tif (round) {\n\t\t\tif (fraction < 1.5) {\n\t\t\t\tniceFraction = 1;\n\t\t\t} else if (fraction < 3) {\n\t\t\t\tniceFraction = 2;\n\t\t\t} else if (fraction < 7) {\n\t\t\t\tniceFraction = 5;\n\t\t\t} else {\n\t\t\t\tniceFraction = 10;\n\t\t\t}\n\t\t} else if (fraction <= 1.0) {\n\t\t\tniceFraction = 1;\n\t\t} else if (fraction <= 2) {\n\t\t\tniceFraction = 2;\n\t\t} else if (fraction <= 5) {\n\t\t\tniceFraction = 5;\n\t\t} else {\n\t\t\tniceFraction = 10;\n\t\t}\n\n\t\treturn niceFraction * Math.pow(10, exponent);\n\t};\n\t// Easing functions adapted from Robert Penner's easing equations\n\t// http://www.robertpenner.com/easing/\n\tvar easingEffects = helpers.easingEffects = {\n\t\tlinear: function(t) {\n\t\t\treturn t;\n\t\t},\n\t\teaseInQuad: function(t) {\n\t\t\treturn t * t;\n\t\t},\n\t\teaseOutQuad: function(t) {\n\t\t\treturn -1 * t * (t - 2);\n\t\t},\n\t\teaseInOutQuad: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t;\n\t\t\t}\n\t\t\treturn -1 / 2 * ((--t) * (t - 2) - 1);\n\t\t},\n\t\teaseInCubic: function(t) {\n\t\t\treturn t * t * t;\n\t\t},\n\t\teaseOutCubic: function(t) {\n\t\t\treturn 1 * ((t = t / 1 - 1) * t * t + 1);\n\t\t},\n\t\teaseInOutCubic: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t * t;\n\t\t\t}\n\t\t\treturn 1 / 2 * ((t -= 2) * t * t + 2);\n\t\t},\n\t\teaseInQuart: function(t) {\n\t\t\treturn t * t * t * t;\n\t\t},\n\t\teaseOutQuart: function(t) {\n\t\t\treturn -1 * ((t = t / 1 - 1) * t * t * t - 1);\n\t\t},\n\t\teaseInOutQuart: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t * t * t;\n\t\t\t}\n\t\t\treturn -1 / 2 * ((t -= 2) * t * t * t - 2);\n\t\t},\n\t\teaseInQuint: function(t) {\n\t\t\treturn 1 * (t /= 1) * t * t * t * t;\n\t\t},\n\t\teaseOutQuint: function(t) {\n\t\t\treturn 1 * ((t = t / 1 - 1) * t * t * t * t + 1);\n\t\t},\n\t\teaseInOutQuint: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t * t * t * t;\n\t\t\t}\n\t\t\treturn 1 / 2 * ((t -= 2) * t * t * t * t + 2);\n\t\t},\n\t\teaseInSine: function(t) {\n\t\t\treturn -1 * Math.cos(t / 1 * (Math.PI / 2)) + 1;\n\t\t},\n\t\teaseOutSine: function(t) {\n\t\t\treturn 1 * Math.sin(t / 1 * (Math.PI / 2));\n\t\t},\n\t\teaseInOutSine: function(t) {\n\t\t\treturn -1 / 2 * (Math.cos(Math.PI * t / 1) - 1);\n\t\t},\n\t\teaseInExpo: function(t) {\n\t\t\treturn (t === 0) ? 1 : 1 * Math.pow(2, 10 * (t / 1 - 1));\n\t\t},\n\t\teaseOutExpo: function(t) {\n\t\t\treturn (t === 1) ? 1 : 1 * (-Math.pow(2, -10 * t / 1) + 1);\n\t\t},\n\t\teaseInOutExpo: function(t) {\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (t === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * Math.pow(2, 10 * (t - 1));\n\t\t\t}\n\t\t\treturn 1 / 2 * (-Math.pow(2, -10 * --t) + 2);\n\t\t},\n\t\teaseInCirc: function(t) {\n\t\t\tif (t >= 1) {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t\treturn -1 * (Math.sqrt(1 - (t /= 1) * t) - 1);\n\t\t},\n\t\teaseOutCirc: function(t) {\n\t\t\treturn 1 * Math.sqrt(1 - (t = t / 1 - 1) * t);\n\t\t},\n\t\teaseInOutCirc: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn -1 / 2 * (Math.sqrt(1 - t * t) - 1);\n\t\t\t}\n\t\t\treturn 1 / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n\t\t},\n\t\teaseInElastic: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tvar p = 0;\n\t\t\tvar a = 1;\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif ((t /= 1) === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!p) {\n\t\t\t\tp = 1 * 0.3;\n\t\t\t}\n\t\t\tif (a < Math.abs(1)) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t}\n\t\t\treturn -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));\n\t\t},\n\t\teaseOutElastic: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tvar p = 0;\n\t\t\tvar a = 1;\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif ((t /= 1) === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!p) {\n\t\t\t\tp = 1 * 0.3;\n\t\t\t}\n\t\t\tif (a < Math.abs(1)) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t}\n\t\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) + 1;\n\t\t},\n\t\teaseInOutElastic: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tvar p = 0;\n\t\t\tvar a = 1;\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif ((t /= 1 / 2) === 2) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!p) {\n\t\t\t\tp = 1 * (0.3 * 1.5);\n\t\t\t}\n\t\t\tif (a < Math.abs(1)) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t}\n\t\t\tif (t < 1) {\n\t\t\t\treturn -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));\n\t\t\t}\n\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) * 0.5 + 1;\n\t\t},\n\t\teaseInBack: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\treturn 1 * (t /= 1) * t * ((s + 1) * t - s);\n\t\t},\n\t\teaseOutBack: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\treturn 1 * ((t = t / 1 - 1) * t * ((s + 1) * t + s) + 1);\n\t\t},\n\t\teaseInOutBack: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * (t * t * (((s *= (1.525)) + 1) * t - s));\n\t\t\t}\n\t\t\treturn 1 / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n\t\t},\n\t\teaseInBounce: function(t) {\n\t\t\treturn 1 - easingEffects.easeOutBounce(1 - t);\n\t\t},\n\t\teaseOutBounce: function(t) {\n\t\t\tif ((t /= 1) < (1 / 2.75)) {\n\t\t\t\treturn 1 * (7.5625 * t * t);\n\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\treturn 1 * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75);\n\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\treturn 1 * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375);\n\t\t\t}\n\t\t\treturn 1 * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375);\n\t\t},\n\t\teaseInOutBounce: function(t) {\n\t\t\tif (t < 1 / 2) {\n\t\t\t\treturn easingEffects.easeInBounce(t * 2) * 0.5;\n\t\t\t}\n\t\t\treturn easingEffects.easeOutBounce(t * 2 - 1) * 0.5 + 1 * 0.5;\n\t\t}\n\t};\n\t// Request animation polyfill - http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\n\thelpers.requestAnimFrame = (function() {\n\t\treturn window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\twindow.oRequestAnimationFrame ||\n\t\t\twindow.msRequestAnimationFrame ||\n\t\t\tfunction(callback) {\n\t\t\t\treturn window.setTimeout(callback, 1000 / 60);\n\t\t\t};\n\t}());\n\thelpers.cancelAnimFrame = (function() {\n\t\treturn window.cancelAnimationFrame ||\n\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\twindow.mozCancelAnimationFrame ||\n\t\t\twindow.oCancelAnimationFrame ||\n\t\t\twindow.msCancelAnimationFrame ||\n\t\t\tfunction(callback) {\n\t\t\t\treturn window.clearTimeout(callback, 1000 / 60);\n\t\t\t};\n\t}());\n\t// -- DOM methods\n\thelpers.getRelativePosition = function(evt, chart) {\n\t\tvar mouseX, mouseY;\n\t\tvar e = evt.originalEvent || evt,\n\t\t\tcanvas = evt.currentTarget || evt.srcElement,\n\t\t\tboundingRect = canvas.getBoundingClientRect();\n\n\t\tvar touches = e.touches;\n\t\tif (touches && touches.length > 0) {\n\t\t\tmouseX = touches[0].clientX;\n\t\t\tmouseY = touches[0].clientY;\n\n\t\t} else {\n\t\t\tmouseX = e.clientX;\n\t\t\tmouseY = e.clientY;\n\t\t}\n\n\t\t// Scale mouse coordinates into canvas coordinates\n\t\t// by following the pattern laid out by 'jerryj' in the comments of\n\t\t// http://www.html5canvastutorials.com/advanced/html5-canvas-mouse-coordinates/\n\t\tvar paddingLeft = parseFloat(helpers.getStyle(canvas, 'padding-left'));\n\t\tvar paddingTop = parseFloat(helpers.getStyle(canvas, 'padding-top'));\n\t\tvar paddingRight = parseFloat(helpers.getStyle(canvas, 'padding-right'));\n\t\tvar paddingBottom = parseFloat(helpers.getStyle(canvas, 'padding-bottom'));\n\t\tvar width = boundingRect.right - boundingRect.left - paddingLeft - paddingRight;\n\t\tvar height = boundingRect.bottom - boundingRect.top - paddingTop - paddingBottom;\n\n\t\t// We divide by the current device pixel ratio, because the canvas is scaled up by that amount in each direction. However\n\t\t// the backend model is in unscaled coordinates. Since we are going to deal with our model coordinates, we go back here\n\t\tmouseX = Math.round((mouseX - boundingRect.left - paddingLeft) / (width) * canvas.width / chart.currentDevicePixelRatio);\n\t\tmouseY = Math.round((mouseY - boundingRect.top - paddingTop) / (height) * canvas.height / chart.currentDevicePixelRatio);\n\n\t\treturn {\n\t\t\tx: mouseX,\n\t\t\ty: mouseY\n\t\t};\n\n\t};\n\thelpers.addEvent = function(node, eventType, method) {\n\t\tif (node.addEventListener) {\n\t\t\tnode.addEventListener(eventType, method);\n\t\t} else if (node.attachEvent) {\n\t\t\tnode.attachEvent('on' + eventType, method);\n\t\t} else {\n\t\t\tnode['on' + eventType] = method;\n\t\t}\n\t};\n\thelpers.removeEvent = function(node, eventType, handler) {\n\t\tif (node.removeEventListener) {\n\t\t\tnode.removeEventListener(eventType, handler, false);\n\t\t} else if (node.detachEvent) {\n\t\t\tnode.detachEvent('on' + eventType, handler);\n\t\t} else {\n\t\t\tnode['on' + eventType] = helpers.noop;\n\t\t}\n\t};\n\thelpers.bindEvents = function(chartInstance, arrayOfEvents, handler) {\n\t\t// Create the events object if it's not already present\n\t\tvar events = chartInstance.events = chartInstance.events || {};\n\n\t\thelpers.each(arrayOfEvents, function(eventName) {\n\t\t\tevents[eventName] = function() {\n\t\t\t\thandler.apply(chartInstance, arguments);\n\t\t\t};\n\t\t\thelpers.addEvent(chartInstance.chart.canvas, eventName, events[eventName]);\n\t\t});\n\t};\n\thelpers.unbindEvents = function(chartInstance, arrayOfEvents) {\n\t\tvar canvas = chartInstance.chart.canvas;\n\t\thelpers.each(arrayOfEvents, function(handler, eventName) {\n\t\t\thelpers.removeEvent(canvas, eventName, handler);\n\t\t});\n\t};\n\n\t// Private helper function to convert max-width/max-height values that may be percentages into a number\n\tfunction parseMaxStyle(styleValue, node, parentProperty) {\n\t\tvar valueInPixels;\n\t\tif (typeof(styleValue) === 'string') {\n\t\t\tvalueInPixels = parseInt(styleValue, 10);\n\n\t\t\tif (styleValue.indexOf('%') !== -1) {\n\t\t\t\t// percentage * size in dimension\n\t\t\t\tvalueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n\t\t\t}\n\t\t} else {\n\t\t\tvalueInPixels = styleValue;\n\t\t}\n\n\t\treturn valueInPixels;\n\t}\n\n\t/**\n\t * Returns if the given value contains an effective constraint.\n\t * @private\n\t */\n\tfunction isConstrainedValue(value) {\n\t\treturn value !== undefined && value !== null && value !== 'none';\n\t}\n\n\t// Private helper to get a constraint dimension\n\t// @param domNode : the node to check the constraint on\n\t// @param maxStyle : the style that defines the maximum for the direction we are using (maxWidth / maxHeight)\n\t// @param percentageProperty : property of parent to use when calculating width as a percentage\n\t// @see http://www.nathanaeljones.com/blog/2013/reading-max-width-cross-browser\n\tfunction getConstraintDimension(domNode, maxStyle, percentageProperty) {\n\t\tvar view = document.defaultView;\n\t\tvar parentNode = domNode.parentNode;\n\t\tvar constrainedNode = view.getComputedStyle(domNode)[maxStyle];\n\t\tvar constrainedContainer = view.getComputedStyle(parentNode)[maxStyle];\n\t\tvar hasCNode = isConstrainedValue(constrainedNode);\n\t\tvar hasCContainer = isConstrainedValue(constrainedContainer);\n\t\tvar infinity = Number.POSITIVE_INFINITY;\n\n\t\tif (hasCNode || hasCContainer) {\n\t\t\treturn Math.min(\n\t\t\t\thasCNode? parseMaxStyle(constrainedNode, domNode, percentageProperty) : infinity,\n\t\t\t\thasCContainer? parseMaxStyle(constrainedContainer, parentNode, percentageProperty) : infinity);\n\t\t}\n\n\t\treturn 'none';\n\t}\n\t// returns Number or undefined if no constraint\n\thelpers.getConstraintWidth = function(domNode) {\n\t\treturn getConstraintDimension(domNode, 'max-width', 'clientWidth');\n\t};\n\t// returns Number or undefined if no constraint\n\thelpers.getConstraintHeight = function(domNode) {\n\t\treturn getConstraintDimension(domNode, 'max-height', 'clientHeight');\n\t};\n\thelpers.getMaximumWidth = function(domNode) {\n\t\tvar container = domNode.parentNode;\n\t\tvar paddingLeft = parseInt(helpers.getStyle(container, 'padding-left'), 10);\n\t\tvar paddingRight = parseInt(helpers.getStyle(container, 'padding-right'), 10);\n\t\tvar w = container.clientWidth - paddingLeft - paddingRight;\n\t\tvar cw = helpers.getConstraintWidth(domNode);\n\t\treturn isNaN(cw)? w : Math.min(w, cw);\n\t};\n\thelpers.getMaximumHeight = function(domNode) {\n\t\tvar container = domNode.parentNode;\n\t\tvar paddingTop = parseInt(helpers.getStyle(container, 'padding-top'), 10);\n\t\tvar paddingBottom = parseInt(helpers.getStyle(container, 'padding-bottom'), 10);\n\t\tvar h = container.clientHeight - paddingTop - paddingBottom;\n\t\tvar ch = helpers.getConstraintHeight(domNode);\n\t\treturn isNaN(ch)? h : Math.min(h, ch);\n\t};\n\thelpers.getStyle = function(el, property) {\n\t\treturn el.currentStyle ?\n\t\t\tel.currentStyle[property] :\n\t\t\tdocument.defaultView.getComputedStyle(el, null).getPropertyValue(property);\n\t};\n\thelpers.retinaScale = function(chart) {\n\t\tvar pixelRatio = chart.currentDevicePixelRatio = window.devicePixelRatio || 1;\n\t\tif (pixelRatio === 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar canvas = chart.canvas;\n\t\tvar height = chart.height;\n\t\tvar width = chart.width;\n\n\t\tcanvas.height = height * pixelRatio;\n\t\tcanvas.width = width * pixelRatio;\n\t\tchart.ctx.scale(pixelRatio, pixelRatio);\n\n\t\t// If no style has been set on the canvas, the render size is used as display size,\n\t\t// making the chart visually bigger, so let's enforce it to the \"correct\" values.\n\t\t// See https://github.com/chartjs/Chart.js/issues/3575\n\t\tcanvas.style.height = height + 'px';\n\t\tcanvas.style.width = width + 'px';\n\t};\n\t// -- Canvas methods\n\thelpers.clear = function(chart) {\n\t\tchart.ctx.clearRect(0, 0, chart.width, chart.height);\n\t};\n\thelpers.fontString = function(pixelSize, fontStyle, fontFamily) {\n\t\treturn fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n\t};\n\thelpers.longestText = function(ctx, font, arrayOfThings, cache) {\n\t\tcache = cache || {};\n\t\tvar data = cache.data = cache.data || {};\n\t\tvar gc = cache.garbageCollect = cache.garbageCollect || [];\n\n\t\tif (cache.font !== font) {\n\t\t\tdata = cache.data = {};\n\t\t\tgc = cache.garbageCollect = [];\n\t\t\tcache.font = font;\n\t\t}\n\n\t\tctx.font = font;\n\t\tvar longest = 0;\n\t\thelpers.each(arrayOfThings, function(thing) {\n\t\t\t// Undefined strings and arrays should not be measured\n\t\t\tif (thing !== undefined && thing !== null && helpers.isArray(thing) !== true) {\n\t\t\t\tlongest = helpers.measureText(ctx, data, gc, longest, thing);\n\t\t\t} else if (helpers.isArray(thing)) {\n\t\t\t\t// if it is an array lets measure each element\n\t\t\t\t// to do maybe simplify this function a bit so we can do this more recursively?\n\t\t\t\thelpers.each(thing, function(nestedThing) {\n\t\t\t\t\t// Undefined strings and arrays should not be measured\n\t\t\t\t\tif (nestedThing !== undefined && nestedThing !== null && !helpers.isArray(nestedThing)) {\n\t\t\t\t\t\tlongest = helpers.measureText(ctx, data, gc, longest, nestedThing);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tvar gcLen = gc.length / 2;\n\t\tif (gcLen > arrayOfThings.length) {\n\t\t\tfor (var i = 0; i < gcLen; i++) {\n\t\t\t\tdelete data[gc[i]];\n\t\t\t}\n\t\t\tgc.splice(0, gcLen);\n\t\t}\n\t\treturn longest;\n\t};\n\thelpers.measureText = function(ctx, data, gc, longest, string) {\n\t\tvar textWidth = data[string];\n\t\tif (!textWidth) {\n\t\t\ttextWidth = data[string] = ctx.measureText(string).width;\n\t\t\tgc.push(string);\n\t\t}\n\t\tif (textWidth > longest) {\n\t\t\tlongest = textWidth;\n\t\t}\n\t\treturn longest;\n\t};\n\thelpers.numberOfLabelLines = function(arrayOfThings) {\n\t\tvar numberOfLines = 1;\n\t\thelpers.each(arrayOfThings, function(thing) {\n\t\t\tif (helpers.isArray(thing)) {\n\t\t\t\tif (thing.length > numberOfLines) {\n\t\t\t\t\tnumberOfLines = thing.length;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn numberOfLines;\n\t};\n\thelpers.drawRoundedRectangle = function(ctx, x, y, width, height, radius) {\n\t\tctx.beginPath();\n\t\tctx.moveTo(x + radius, y);\n\t\tctx.lineTo(x + width - radius, y);\n\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n\t\tctx.lineTo(x + width, y + height - radius);\n\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n\t\tctx.lineTo(x + radius, y + height);\n\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n\t\tctx.lineTo(x, y + radius);\n\t\tctx.quadraticCurveTo(x, y, x + radius, y);\n\t\tctx.closePath();\n\t};\n\thelpers.color = function(c) {\n\t\tif (!color) {\n\t\t\tconsole.error('Color.js not found!');\n\t\t\treturn c;\n\t\t}\n\n\t\t/* global CanvasGradient */\n\t\tif (c instanceof CanvasGradient) {\n\t\t\treturn color(Chart.defaults.global.defaultColor);\n\t\t}\n\n\t\treturn color(c);\n\t};\n\thelpers.addResizeListener = function(node, callback) {\n\t\tvar iframe = document.createElement('iframe');\n\t\tiframe.className = 'chartjs-hidden-iframe';\n\t\tiframe.style.cssText =\n\t\t\t'display:block;'+\n\t\t\t'overflow:hidden;'+\n\t\t\t'border:0;'+\n\t\t\t'margin:0;'+\n\t\t\t'top:0;'+\n\t\t\t'left:0;'+\n\t\t\t'bottom:0;'+\n\t\t\t'right:0;'+\n\t\t\t'height:100%;'+\n\t\t\t'width:100%;'+\n\t\t\t'position:absolute;'+\n\t\t\t'pointer-events:none;'+\n\t\t\t'z-index:-1;';\n\n\t\t// Prevent the iframe to gain focus on tab.\n\t\t// https://github.com/chartjs/Chart.js/issues/3090\n\t\tiframe.tabIndex = -1;\n\n\t\t// Let's keep track of this added iframe and thus avoid DOM query when removing it.\n\t\tvar stub = node._chartjs = {\n\t\t\tresizer: iframe,\n\t\t\tticking: false\n\t\t};\n\n\t\t// Throttle the callback notification until the next animation frame.\n\t\tvar notify = function() {\n\t\t\tif (!stub.ticking) {\n\t\t\t\tstub.ticking = true;\n\t\t\t\thelpers.requestAnimFrame.call(window, function() {\n\t\t\t\t\tif (stub.resizer) {\n\t\t\t\t\t\tstub.ticking = false;\n\t\t\t\t\t\treturn callback();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t// If the iframe is re-attached to the DOM, the resize listener is removed because the\n\t\t// content is reloaded, so make sure to install the handler after the iframe is loaded.\n\t\t// https://github.com/chartjs/Chart.js/issues/3521\n\t\thelpers.addEvent(iframe, 'load', function() {\n\t\t\thelpers.addEvent(iframe.contentWindow || iframe, 'resize', notify);\n\n\t\t\t// The iframe size might have changed while loading, which can also\n\t\t\t// happen if the size has been changed while detached from the DOM.\n\t\t\tnotify();\n\t\t});\n\n\t\tnode.insertBefore(iframe, node.firstChild);\n\t};\n\thelpers.removeResizeListener = function(node) {\n\t\tif (!node || !node._chartjs) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar iframe = node._chartjs.resizer;\n\t\tif (iframe) {\n\t\t\tiframe.parentNode.removeChild(iframe);\n\t\t\tnode._chartjs.resizer = null;\n\t\t}\n\n\t\tdelete node._chartjs;\n\t};\n\thelpers.isArray = Array.isArray?\n\t\tfunction(obj) {\n\t\t\treturn Array.isArray(obj);\n\t\t} :\n\t\tfunction(obj) {\n\t\t\treturn Object.prototype.toString.call(obj) === '[object Array]';\n\t\t};\n\t// ! @see http://stackoverflow.com/a/14853974\n\thelpers.arrayEquals = function(a0, a1) {\n\t\tvar i, ilen, v0, v1;\n\n\t\tif (!a0 || !a1 || a0.length !== a1.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (i = 0, ilen=a0.length; i < ilen; ++i) {\n\t\t\tv0 = a0[i];\n\t\t\tv1 = a1[i];\n\n\t\t\tif (v0 instanceof Array && v1 instanceof Array) {\n\t\t\t\tif (!helpers.arrayEquals(v0, v1)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else if (v0 !== v1) {\n\t\t\t\t// NOTE: two different object instances will never be equal: {x:20} != {x:20}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n\thelpers.callCallback = function(fn, args, _tArg) {\n\t\tif (fn && typeof fn.call === 'function') {\n\t\t\tfn.apply(_tArg, args);\n\t\t}\n\t};\n\thelpers.getHoverColor = function(colorValue) {\n\t\t/* global CanvasPattern */\n\t\treturn (colorValue instanceof CanvasPattern) ?\n\t\t\tcolorValue :\n\t\t\thelpers.color(colorValue).saturate(0.5).darken(0.1).rgbString();\n\t};\n};\n\n},{\"3\":3}],27:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\tvar helpers = Chart.helpers;\n\n\t/**\n\t * Helper function to traverse all of the visible elements in the chart\n\t * @param chart {chart} the chart\n\t * @param handler {Function} the callback to execute for each visible item\n\t */\n\tfunction parseVisibleItems(chart, handler) {\n\t\tvar datasets = chart.data.datasets;\n\t\tvar meta, i, j, ilen, jlen;\n\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; ++i) {\n\t\t\tif (!chart.isDatasetVisible(i)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tmeta = chart.getDatasetMeta(i);\n\t\t\tfor (j = 0, jlen = meta.data.length; j < jlen; ++j) {\n\t\t\t\tvar element = meta.data[j];\n\t\t\t\tif (!element._view.skip) {\n\t\t\t\t\thandler(element);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Helper function to get the items that intersect the event position\n\t * @param items {ChartElement[]} elements to filter\n\t * @param position {Point} the point to be nearest to\n\t * @return {ChartElement[]} the nearest items\n\t */\n\tfunction getIntersectItems(chart, position) {\n\t\tvar elements = [];\n\n\t\tparseVisibleItems(chart, function(element) {\n\t\t\tif (element.inRange(position.x, position.y)) {\n\t\t\t\telements.push(element);\n\t\t\t}\n\t\t});\n\n\t\treturn elements;\n\t}\n\n\t/**\n\t * Helper function to get the items nearest to the event position considering all visible items in teh chart\n\t * @param chart {Chart} the chart to look at elements from\n\t * @param position {Point} the point to be nearest to\n\t * @param intersect {Boolean} if true, only consider items that intersect the position\n\t * @param distanceMetric {Function} Optional function to provide the distance between\n\t * @return {ChartElement[]} the nearest items\n\t */\n\tfunction getNearestItems(chart, position, intersect, distanceMetric) {\n\t\tvar minDistance = Number.POSITIVE_INFINITY;\n\t\tvar nearestItems = [];\n\n\t\tif (!distanceMetric) {\n\t\t\tdistanceMetric = helpers.distanceBetweenPoints;\n\t\t}\n\n\t\tparseVisibleItems(chart, function(element) {\n\t\t\tif (intersect && !element.inRange(position.x, position.y)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar center = element.getCenterPoint();\n\t\t\tvar distance = distanceMetric(position, center);\n\n\t\t\tif (distance < minDistance) {\n\t\t\t\tnearestItems = [element];\n\t\t\t\tminDistance = distance;\n\t\t\t} else if (distance === minDistance) {\n\t\t\t\t// Can have multiple items at the same distance in which case we sort by size\n\t\t\t\tnearestItems.push(element);\n\t\t\t}\n\t\t});\n\n\t\treturn nearestItems;\n\t}\n\n\tfunction indexMode(chart, e, options) {\n\t\tvar position = helpers.getRelativePosition(e, chart.chart);\n\t\tvar distanceMetric = function(pt1, pt2) {\n\t\t\treturn Math.abs(pt1.x - pt2.x);\n\t\t};\n\t\tvar items = options.intersect ? getIntersectItems(chart, position) : getNearestItems(chart, position, false, distanceMetric);\n\t\tvar elements = [];\n\n\t\tif (!items.length) {\n\t\t\treturn [];\n\t\t}\n\n\t\tchart.data.datasets.forEach(function(dataset, datasetIndex) {\n\t\t\tif (chart.isDatasetVisible(datasetIndex)) {\n\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex),\n\t\t\t\t\telement = meta.data[items[0]._index];\n\n\t\t\t\t// don't count items that are skipped (null data)\n\t\t\t\tif (element && !element._view.skip) {\n\t\t\t\t\telements.push(element);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn elements;\n\t}\n\n\t/**\n\t * @interface IInteractionOptions\n\t */\n\t/**\n\t * If true, only consider items that intersect the point\n\t * @name IInterfaceOptions#boolean\n\t * @type Boolean\n\t */\n\n\t/**\n\t * @namespace Chart.Interaction\n\t * Contains interaction related functions\n\t */\n\tChart.Interaction = {\n\t\t// Helper function for different modes\n\t\tmodes: {\n\t\t\tsingle: function(chart, e) {\n\t\t\t\tvar position = helpers.getRelativePosition(e, chart.chart);\n\t\t\t\tvar elements = [];\n\n\t\t\t\tparseVisibleItems(chart, function(element) {\n\t\t\t\t\tif (element.inRange(position.x, position.y)) {\n\t\t\t\t\t\telements.push(element);\n\t\t\t\t\t\treturn elements;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn elements.slice(0, 1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @function Chart.Interaction.modes.label\n\t\t\t * @deprecated since version 2.4.0\n\t\t\t */\n\t\t\tlabel: indexMode,\n\n\t\t\t/**\n\t\t\t * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t\t * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item\n\t\t\t * @function Chart.Interaction.modes.index\n\t\t\t * @since v2.4.0\n\t\t\t * @param chart {chart} the chart we are returning items from\n\t\t\t * @param e {Event} the event we are find things at\n\t\t\t * @param options {IInteractionOptions} options to use during interaction\n\t\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\n\t\t\t */\n\t\t\tindex: indexMode,\n\n\t\t\t/**\n\t\t\t * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t\t * If the options.intersect is false, we find the nearest item and return the items in that dataset\n\t\t\t * @function Chart.Interaction.modes.dataset\n\t\t\t * @param chart {chart} the chart we are returning items from\n\t\t\t * @param e {Event} the event we are find things at\n\t\t\t * @param options {IInteractionOptions} options to use during interaction\n\t\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\n\t\t\t */\n\t\t\tdataset: function(chart, e, options) {\n\t\t\t\tvar position = helpers.getRelativePosition(e, chart.chart);\n\t\t\t\tvar items = options.intersect ? getIntersectItems(chart, position) : getNearestItems(chart, position, false);\n\n\t\t\t\tif (items.length > 0) {\n\t\t\t\t\titems = chart.getDatasetMeta(items[0]._datasetIndex).data;\n\t\t\t\t}\n\n\t\t\t\treturn items;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @function Chart.Interaction.modes.x-axis\n\t\t\t * @deprecated since version 2.4.0. Use index mode and intersect == true\n\t\t\t */\n\t\t\t'x-axis': function(chart, e) {\n\t\t\t\treturn indexMode(chart, e, true);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Point mode returns all elements that hit test based on the event position\n\t\t\t * of the event\n\t\t\t * @function Chart.Interaction.modes.intersect\n\t\t\t * @param chart {chart} the chart we are returning items from\n\t\t\t * @param e {Event} the event we are find things at\n\t\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\n\t\t\t */\n\t\t\tpoint: function(chart, e) {\n\t\t\t\tvar position = helpers.getRelativePosition(e, chart.chart);\n\t\t\t\treturn getIntersectItems(chart, position);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * nearest mode returns the element closest to the point\n\t\t\t * @function Chart.Interaction.modes.intersect\n\t\t\t * @param chart {chart} the chart we are returning items from\n\t\t\t * @param e {Event} the event we are find things at\n\t\t\t * @param options {IInteractionOptions} options to use\n\t\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\n\t\t\t */\n\t\t\tnearest: function(chart, e, options) {\n\t\t\t\tvar position = helpers.getRelativePosition(e, chart.chart);\n\t\t\t\tvar nearestItems = getNearestItems(chart, position, options.intersect);\n\n\t\t\t\t// We have multiple items at the same distance from the event. Now sort by smallest\n\t\t\t\tif (nearestItems.length > 1) {\n\t\t\t\t\tnearestItems.sort(function(a, b) {\n\t\t\t\t\t\tvar sizeA = a.getArea();\n\t\t\t\t\t\tvar sizeB = b.getArea();\n\t\t\t\t\t\tvar ret = sizeA - sizeB;\n\n\t\t\t\t\t\tif (ret === 0) {\n\t\t\t\t\t\t\t// if equal sort by dataset index\n\t\t\t\t\t\t\tret = a._datasetIndex - b._datasetIndex;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Return only 1 item\n\t\t\t\treturn nearestItems.slice(0, 1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * x mode returns the elements that hit-test at the current x coordinate\n\t\t\t * @function Chart.Interaction.modes.x\n\t\t\t * @param chart {chart} the chart we are returning items from\n\t\t\t * @param e {Event} the event we are find things at\n\t\t\t * @param options {IInteractionOptions} options to use\n\t\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\n\t\t\t */\n\t\t\tx: function(chart, e, options) {\n\t\t\t\tvar position = helpers.getRelativePosition(e, chart.chart);\n\t\t\t\tvar items = [];\n\t\t\t\tvar intersectsItem = false;\n\n\t\t\t\tparseVisibleItems(chart, function(element) {\n\t\t\t\t\tif (element.inXRange(position.x)) {\n\t\t\t\t\t\titems.push(element);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (element.inRange(position.x, position.y)) {\n\t\t\t\t\t\tintersectsItem = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// If we want to trigger on an intersect and we don't have any items\n\t\t\t\t// that intersect the position, return nothing\n\t\t\t\tif (options.intersect && !intersectsItem) {\n\t\t\t\t\titems = [];\n\t\t\t\t}\n\t\t\t\treturn items;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * y mode returns the elements that hit-test at the current y coordinate\n\t\t\t * @function Chart.Interaction.modes.y\n\t\t\t * @param chart {chart} the chart we are returning items from\n\t\t\t * @param e {Event} the event we are find things at\n\t\t\t * @param options {IInteractionOptions} options to use\n\t\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\n\t\t\t */\n\t\t\ty: function(chart, e, options) {\n\t\t\t\tvar position = helpers.getRelativePosition(e, chart.chart);\n\t\t\t\tvar items = [];\n\t\t\t\tvar intersectsItem = false;\n\n\t\t\t\tparseVisibleItems(chart, function(element) {\n\t\t\t\t\tif (element.inYRange(position.y)) {\n\t\t\t\t\t\titems.push(element);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (element.inRange(position.x, position.y)) {\n\t\t\t\t\t\tintersectsItem = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// If we want to trigger on an intersect and we don't have any items\n\t\t\t\t// that intersect the position, return nothing\n\t\t\t\tif (options.intersect && !intersectsItem) {\n\t\t\t\t\titems = [];\n\t\t\t\t}\n\t\t\t\treturn items;\n\t\t\t}\n\t\t}\n\t};\n};\n\n},{}],28:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function() {\n\n\t// Occupy the global variable of Chart, and create a simple base class\n\tvar Chart = function(item, config) {\n\t\tthis.controller = new Chart.Controller(item, config, this);\n\t\treturn this.controller;\n\t};\n\n\t// Globally expose the defaults to allow for user updating/changing\n\tChart.defaults = {\n\t\tglobal: {\n\t\t\tresponsive: true,\n\t\t\tresponsiveAnimationDuration: 0,\n\t\t\tmaintainAspectRatio: true,\n\t\t\tevents: ['mousemove', 'mouseout', 'click', 'touchstart', 'touchmove'],\n\t\t\thover: {\n\t\t\t\tonHover: null,\n\t\t\t\tmode: 'nearest',\n\t\t\t\tintersect: true,\n\t\t\t\tanimationDuration: 400\n\t\t\t},\n\t\t\tonClick: null,\n\t\t\tdefaultColor: 'rgba(0,0,0,0.1)',\n\t\t\tdefaultFontColor: '#666',\n\t\t\tdefaultFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\t\t\tdefaultFontSize: 12,\n\t\t\tdefaultFontStyle: 'normal',\n\t\t\tshowLines: true,\n\n\t\t\t// Element defaults defined in element extensions\n\t\t\telements: {},\n\n\t\t\t// Legend callback string\n\t\t\tlegendCallback: function(chart) {\n\t\t\t\tvar text = [];\n\t\t\t\ttext.push('<ul class=\"' + chart.id + '-legend\">');\n\t\t\t\tfor (var i = 0; i < chart.data.datasets.length; i++) {\n\t\t\t\t\ttext.push('<li><span style=\"background-color:' + chart.data.datasets[i].backgroundColor + '\"></span>');\n\t\t\t\t\tif (chart.data.datasets[i].label) {\n\t\t\t\t\t\ttext.push(chart.data.datasets[i].label);\n\t\t\t\t\t}\n\t\t\t\t\ttext.push('</li>');\n\t\t\t\t}\n\t\t\t\ttext.push('</ul>');\n\n\t\t\t\treturn text.join('');\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.Chart = Chart;\n\n\treturn Chart;\n};\n\n},{}],29:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\t// The layout service is very self explanatory.  It's responsible for the layout within a chart.\n\t// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\n\t// It is this service's responsibility of carrying out that layout.\n\tChart.layoutService = {\n\t\tdefaults: {},\n\n\t\t// Register a box to a chartInstance. A box is simply a reference to an object that requires layout. eg. Scales, Legend, Plugins.\n\t\taddBox: function(chartInstance, box) {\n\t\t\tif (!chartInstance.boxes) {\n\t\t\t\tchartInstance.boxes = [];\n\t\t\t}\n\t\t\tchartInstance.boxes.push(box);\n\t\t},\n\n\t\tremoveBox: function(chartInstance, box) {\n\t\t\tif (!chartInstance.boxes) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tchartInstance.boxes.splice(chartInstance.boxes.indexOf(box), 1);\n\t\t},\n\n\t\t// The most important function\n\t\tupdate: function(chartInstance, width, height) {\n\n\t\t\tif (!chartInstance) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar layoutOptions = chartInstance.options.layout;\n\t\t\tvar padding = layoutOptions ? layoutOptions.padding : null;\n\n\t\t\tvar leftPadding = 0;\n\t\t\tvar rightPadding = 0;\n\t\t\tvar topPadding = 0;\n\t\t\tvar bottomPadding = 0;\n\n\t\t\tif (!isNaN(padding)) {\n\t\t\t\t// options.layout.padding is a number. assign to all\n\t\t\t\tleftPadding = padding;\n\t\t\t\trightPadding = padding;\n\t\t\t\ttopPadding = padding;\n\t\t\t\tbottomPadding = padding;\n\t\t\t} else {\n\t\t\t\tleftPadding = padding.left || 0;\n\t\t\t\trightPadding = padding.right || 0;\n\t\t\t\ttopPadding = padding.top || 0;\n\t\t\t\tbottomPadding = padding.bottom || 0;\n\t\t\t}\n\n\t\t\tvar leftBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'left';\n\t\t\t});\n\t\t\tvar rightBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'right';\n\t\t\t});\n\t\t\tvar topBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'top';\n\t\t\t});\n\t\t\tvar bottomBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'bottom';\n\t\t\t});\n\n\t\t\t// Boxes that overlay the chartarea such as the radialLinear scale\n\t\t\tvar chartAreaBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'chartArea';\n\t\t\t});\n\n\t\t\t// Ensure that full width boxes are at the very top / bottom\n\t\t\ttopBoxes.sort(function(a, b) {\n\t\t\t\treturn (b.options.fullWidth ? 1 : 0) - (a.options.fullWidth ? 1 : 0);\n\t\t\t});\n\t\t\tbottomBoxes.sort(function(a, b) {\n\t\t\t\treturn (a.options.fullWidth ? 1 : 0) - (b.options.fullWidth ? 1 : 0);\n\t\t\t});\n\n\t\t\t// Essentially we now have any number of boxes on each of the 4 sides.\n\t\t\t// Our canvas looks like the following.\n\t\t\t// The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\n\t\t\t// B1 is the bottom axis\n\t\t\t// There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\n\t\t\t// These locations are single-box locations only, when trying to register a chartArea location that is already taken,\n\t\t\t// an error will be thrown.\n\t\t\t//\n\t\t\t// |----------------------------------------------------|\n\t\t\t// |                  T1 (Full Width)                   |\n\t\t\t// |----------------------------------------------------|\n\t\t\t// |    |    |                 T2                  |    |\n\t\t\t// |    |----|-------------------------------------|----|\n\t\t\t// |    |    | C1 |                           | C2 |    |\n\t\t\t// |    |    |----|                           |----|    |\n\t\t\t// |    |    |                                     |    |\n\t\t\t// | L1 | L2 |           ChartArea (C0)            | R1 |\n\t\t\t// |    |    |                                     |    |\n\t\t\t// |    |    |----|                           |----|    |\n\t\t\t// |    |    | C3 |                           | C4 |    |\n\t\t\t// |    |----|-------------------------------------|----|\n\t\t\t// |    |    |                 B1                  |    |\n\t\t\t// |----------------------------------------------------|\n\t\t\t// |                  B2 (Full Width)                   |\n\t\t\t// |----------------------------------------------------|\n\t\t\t//\n\t\t\t// What we do to find the best sizing, we do the following\n\t\t\t// 1. Determine the minimum size of the chart area.\n\t\t\t// 2. Split the remaining width equally between each vertical axis\n\t\t\t// 3. Split the remaining height equally between each horizontal axis\n\t\t\t// 4. Give each layout the maximum size it can be. The layout will return it's minimum size\n\t\t\t// 5. Adjust the sizes of each axis based on it's minimum reported size.\n\t\t\t// 6. Refit each axis\n\t\t\t// 7. Position each axis in the final location\n\t\t\t// 8. Tell the chart the final location of the chart area\n\t\t\t// 9. Tell any axes that overlay the chart area the positions of the chart area\n\n\t\t\t// Step 1\n\t\t\tvar chartWidth = width - leftPadding - rightPadding;\n\t\t\tvar chartHeight = height - topPadding - bottomPadding;\n\t\t\tvar chartAreaWidth = chartWidth / 2; // min 50%\n\t\t\tvar chartAreaHeight = chartHeight / 2; // min 50%\n\n\t\t\t// Step 2\n\t\t\tvar verticalBoxWidth = (width - chartAreaWidth) / (leftBoxes.length + rightBoxes.length);\n\n\t\t\t// Step 3\n\t\t\tvar horizontalBoxHeight = (height - chartAreaHeight) / (topBoxes.length + bottomBoxes.length);\n\n\t\t\t// Step 4\n\t\t\tvar maxChartAreaWidth = chartWidth;\n\t\t\tvar maxChartAreaHeight = chartHeight;\n\t\t\tvar minBoxSizes = [];\n\n\t\t\tfunction getMinimumBoxSize(box) {\n\t\t\t\tvar minSize;\n\t\t\t\tvar isHorizontal = box.isHorizontal();\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tminSize = box.update(box.options.fullWidth ? chartWidth : maxChartAreaWidth, horizontalBoxHeight);\n\t\t\t\t\tmaxChartAreaHeight -= minSize.height;\n\t\t\t\t} else {\n\t\t\t\t\tminSize = box.update(verticalBoxWidth, chartAreaHeight);\n\t\t\t\t\tmaxChartAreaWidth -= minSize.width;\n\t\t\t\t}\n\n\t\t\t\tminBoxSizes.push({\n\t\t\t\t\thorizontal: isHorizontal,\n\t\t\t\t\tminSize: minSize,\n\t\t\t\t\tbox: box\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thelpers.each(leftBoxes.concat(rightBoxes, topBoxes, bottomBoxes), getMinimumBoxSize);\n\n\t\t\t// At this point, maxChartAreaHeight and maxChartAreaWidth are the size the chart area could\n\t\t\t// be if the axes are drawn at their minimum sizes.\n\n\t\t\t// Steps 5 & 6\n\t\t\tvar totalLeftBoxesWidth = leftPadding;\n\t\t\tvar totalRightBoxesWidth = rightPadding;\n\t\t\tvar totalTopBoxesHeight = topPadding;\n\t\t\tvar totalBottomBoxesHeight = bottomPadding;\n\n\t\t\t// Function to fit a box\n\t\t\tfunction fitBox(box) {\n\t\t\t\tvar minBoxSize = helpers.findNextWhere(minBoxSizes, function(minBox) {\n\t\t\t\t\treturn minBox.box === box;\n\t\t\t\t});\n\n\t\t\t\tif (minBoxSize) {\n\t\t\t\t\tif (box.isHorizontal()) {\n\t\t\t\t\t\tvar scaleMargin = {\n\t\t\t\t\t\t\tleft: totalLeftBoxesWidth,\n\t\t\t\t\t\t\tright: totalRightBoxesWidth,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tbottom: 0\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Don't use min size here because of label rotation. When the labels are rotated, their rotation highly depends\n\t\t\t\t\t\t// on the margin. Sometimes they need to increase in size slightly\n\t\t\t\t\t\tbox.update(box.options.fullWidth ? chartWidth : maxChartAreaWidth, chartHeight / 2, scaleMargin);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbox.update(minBoxSize.minSize.width, maxChartAreaHeight);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update, and calculate the left and right margins for the horizontal boxes\n\t\t\thelpers.each(leftBoxes.concat(rightBoxes), fitBox);\n\n\t\t\thelpers.each(leftBoxes, function(box) {\n\t\t\t\ttotalLeftBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\thelpers.each(rightBoxes, function(box) {\n\t\t\t\ttotalRightBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\t// Set the Left and Right margins for the horizontal boxes\n\t\t\thelpers.each(topBoxes.concat(bottomBoxes), fitBox);\n\n\t\t\t// Figure out how much margin is on the top and bottom of the vertical boxes\n\t\t\thelpers.each(topBoxes, function(box) {\n\t\t\t\ttotalTopBoxesHeight += box.height;\n\t\t\t});\n\n\t\t\thelpers.each(bottomBoxes, function(box) {\n\t\t\t\ttotalBottomBoxesHeight += box.height;\n\t\t\t});\n\n\t\t\tfunction finalFitVerticalBox(box) {\n\t\t\t\tvar minBoxSize = helpers.findNextWhere(minBoxSizes, function(minSize) {\n\t\t\t\t\treturn minSize.box === box;\n\t\t\t\t});\n\n\t\t\t\tvar scaleMargin = {\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\ttop: totalTopBoxesHeight,\n\t\t\t\t\tbottom: totalBottomBoxesHeight\n\t\t\t\t};\n\n\t\t\t\tif (minBoxSize) {\n\t\t\t\t\tbox.update(minBoxSize.minSize.width, maxChartAreaHeight, scaleMargin);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Let the left layout know the final margin\n\t\t\thelpers.each(leftBoxes.concat(rightBoxes), finalFitVerticalBox);\n\n\t\t\t// Recalculate because the size of each layout might have changed slightly due to the margins (label rotation for instance)\n\t\t\ttotalLeftBoxesWidth = leftPadding;\n\t\t\ttotalRightBoxesWidth = rightPadding;\n\t\t\ttotalTopBoxesHeight = topPadding;\n\t\t\ttotalBottomBoxesHeight = bottomPadding;\n\n\t\t\thelpers.each(leftBoxes, function(box) {\n\t\t\t\ttotalLeftBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\thelpers.each(rightBoxes, function(box) {\n\t\t\t\ttotalRightBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\thelpers.each(topBoxes, function(box) {\n\t\t\t\ttotalTopBoxesHeight += box.height;\n\t\t\t});\n\t\t\thelpers.each(bottomBoxes, function(box) {\n\t\t\t\ttotalBottomBoxesHeight += box.height;\n\t\t\t});\n\n\t\t\t// Figure out if our chart area changed. This would occur if the dataset layout label rotation\n\t\t\t// changed due to the application of the margins in step 6. Since we can only get bigger, this is safe to do\n\t\t\t// without calling `fit` again\n\t\t\tvar newMaxChartAreaHeight = height - totalTopBoxesHeight - totalBottomBoxesHeight;\n\t\t\tvar newMaxChartAreaWidth = width - totalLeftBoxesWidth - totalRightBoxesWidth;\n\n\t\t\tif (newMaxChartAreaWidth !== maxChartAreaWidth || newMaxChartAreaHeight !== maxChartAreaHeight) {\n\t\t\t\thelpers.each(leftBoxes, function(box) {\n\t\t\t\t\tbox.height = newMaxChartAreaHeight;\n\t\t\t\t});\n\n\t\t\t\thelpers.each(rightBoxes, function(box) {\n\t\t\t\t\tbox.height = newMaxChartAreaHeight;\n\t\t\t\t});\n\n\t\t\t\thelpers.each(topBoxes, function(box) {\n\t\t\t\t\tif (!box.options.fullWidth) {\n\t\t\t\t\t\tbox.width = newMaxChartAreaWidth;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\thelpers.each(bottomBoxes, function(box) {\n\t\t\t\t\tif (!box.options.fullWidth) {\n\t\t\t\t\t\tbox.width = newMaxChartAreaWidth;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tmaxChartAreaHeight = newMaxChartAreaHeight;\n\t\t\t\tmaxChartAreaWidth = newMaxChartAreaWidth;\n\t\t\t}\n\n\t\t\t// Step 7 - Position the boxes\n\t\t\tvar left = leftPadding;\n\t\t\tvar top = topPadding;\n\n\t\t\tfunction placeBox(box) {\n\t\t\t\tif (box.isHorizontal()) {\n\t\t\t\t\tbox.left = box.options.fullWidth ? leftPadding : totalLeftBoxesWidth;\n\t\t\t\t\tbox.right = box.options.fullWidth ? width - rightPadding : totalLeftBoxesWidth + maxChartAreaWidth;\n\t\t\t\t\tbox.top = top;\n\t\t\t\t\tbox.bottom = top + box.height;\n\n\t\t\t\t\t// Move to next point\n\t\t\t\t\ttop = box.bottom;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbox.left = left;\n\t\t\t\t\tbox.right = left + box.width;\n\t\t\t\t\tbox.top = totalTopBoxesHeight;\n\t\t\t\t\tbox.bottom = totalTopBoxesHeight + maxChartAreaHeight;\n\n\t\t\t\t\t// Move to next point\n\t\t\t\t\tleft = box.right;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\thelpers.each(leftBoxes.concat(topBoxes), placeBox);\n\n\t\t\t// Account for chart width and height\n\t\t\tleft += maxChartAreaWidth;\n\t\t\ttop += maxChartAreaHeight;\n\n\t\t\thelpers.each(rightBoxes, placeBox);\n\t\t\thelpers.each(bottomBoxes, placeBox);\n\n\t\t\t// Step 8\n\t\t\tchartInstance.chartArea = {\n\t\t\t\tleft: totalLeftBoxesWidth,\n\t\t\t\ttop: totalTopBoxesHeight,\n\t\t\t\tright: totalLeftBoxesWidth + maxChartAreaWidth,\n\t\t\t\tbottom: totalTopBoxesHeight + maxChartAreaHeight\n\t\t\t};\n\n\t\t\t// Step 9\n\t\t\thelpers.each(chartAreaBoxes, function(box) {\n\t\t\t\tbox.left = chartInstance.chartArea.left;\n\t\t\t\tbox.top = chartInstance.chartArea.top;\n\t\t\t\tbox.right = chartInstance.chartArea.right;\n\t\t\t\tbox.bottom = chartInstance.chartArea.bottom;\n\n\t\t\t\tbox.update(maxChartAreaWidth, maxChartAreaHeight);\n\t\t\t});\n\t\t}\n\t};\n};\n\n},{}],30:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar noop = helpers.noop;\n\n\tChart.defaults.global.legend = {\n\n\t\tdisplay: true,\n\t\tposition: 'top',\n\t\tfullWidth: true, // marks that this box should take the full width of the canvas (pushing down other boxes)\n\t\treverse: false,\n\n\t\t// a callback that will handle\n\t\tonClick: function(e, legendItem) {\n\t\t\tvar index = legendItem.datasetIndex;\n\t\t\tvar ci = this.chart;\n\t\t\tvar meta = ci.getDatasetMeta(index);\n\n\t\t\t// See controller.isDatasetVisible comment\n\t\t\tmeta.hidden = meta.hidden === null? !ci.data.datasets[index].hidden : null;\n\n\t\t\t// We hid a dataset ... rerender the chart\n\t\t\tci.update();\n\t\t},\n\n\t\tonHover: null,\n\n\t\tlabels: {\n\t\t\tboxWidth: 40,\n\t\t\tpadding: 10,\n\t\t\t// Generates labels shown in the legend\n\t\t\t// Valid properties to return:\n\t\t\t// text : text to display\n\t\t\t// fillStyle : fill of coloured box\n\t\t\t// strokeStyle: stroke of coloured box\n\t\t\t// hidden : if this legend item refers to a hidden item\n\t\t\t// lineCap : cap style for line\n\t\t\t// lineDash\n\t\t\t// lineDashOffset :\n\t\t\t// lineJoin :\n\t\t\t// lineWidth :\n\t\t\tgenerateLabels: function(chart) {\n\t\t\t\tvar data = chart.data;\n\t\t\t\treturn helpers.isArray(data.datasets) ? data.datasets.map(function(dataset, i) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttext: dataset.label,\n\t\t\t\t\t\tfillStyle: (!helpers.isArray(dataset.backgroundColor) ? dataset.backgroundColor : dataset.backgroundColor[0]),\n\t\t\t\t\t\thidden: !chart.isDatasetVisible(i),\n\t\t\t\t\t\tlineCap: dataset.borderCapStyle,\n\t\t\t\t\t\tlineDash: dataset.borderDash,\n\t\t\t\t\t\tlineDashOffset: dataset.borderDashOffset,\n\t\t\t\t\t\tlineJoin: dataset.borderJoinStyle,\n\t\t\t\t\t\tlineWidth: dataset.borderWidth,\n\t\t\t\t\t\tstrokeStyle: dataset.borderColor,\n\t\t\t\t\t\tpointStyle: dataset.pointStyle,\n\n\t\t\t\t\t\t// Below is extra data used for toggling the datasets\n\t\t\t\t\t\tdatasetIndex: i\n\t\t\t\t\t};\n\t\t\t\t}, this) : [];\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Helper function to get the box width based on the usePointStyle option\n\t * @param labelopts {Object} the label options on the legend\n\t * @param fontSize {Number} the label font size\n\t * @return {Number} width of the color box area\n\t */\n\tfunction getBoxWidth(labelOpts, fontSize) {\n\t\treturn labelOpts.usePointStyle ?\n\t\t\tfontSize * Math.SQRT2 :\n\t\t\tlabelOpts.boxWidth;\n\t}\n\n\tChart.Legend = Chart.Element.extend({\n\n\t\tinitialize: function(config) {\n\t\t\thelpers.extend(this, config);\n\n\t\t\t// Contains hit boxes for each dataset (in dataset order)\n\t\t\tthis.legendHitBoxes = [];\n\n\t\t\t// Are we in doughnut mode which has a different data type\n\t\t\tthis.doughnutMode = false;\n\t\t},\n\n\t\t// These methods are ordered by lifecycle. Utilities then follow.\n\t\t// Any function defined here is inherited by all legend types.\n\t\t// Any function can be extended by the legend type\n\n\t\tbeforeUpdate: noop,\n\t\tupdate: function(maxWidth, maxHeight, margins) {\n\t\t\tvar me = this;\n\n\t\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n\t\t\tme.beforeUpdate();\n\n\t\t\t// Absorb the master measurements\n\t\t\tme.maxWidth = maxWidth;\n\t\t\tme.maxHeight = maxHeight;\n\t\t\tme.margins = margins;\n\n\t\t\t// Dimensions\n\t\t\tme.beforeSetDimensions();\n\t\t\tme.setDimensions();\n\t\t\tme.afterSetDimensions();\n\t\t\t// Labels\n\t\t\tme.beforeBuildLabels();\n\t\t\tme.buildLabels();\n\t\t\tme.afterBuildLabels();\n\n\t\t\t// Fit\n\t\t\tme.beforeFit();\n\t\t\tme.fit();\n\t\t\tme.afterFit();\n\t\t\t//\n\t\t\tme.afterUpdate();\n\n\t\t\treturn me.minSize;\n\t\t},\n\t\tafterUpdate: noop,\n\n\t\t//\n\n\t\tbeforeSetDimensions: noop,\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.width = me.maxWidth;\n\t\t\t\tme.left = 0;\n\t\t\t\tme.right = me.width;\n\t\t\t} else {\n\t\t\t\tme.height = me.maxHeight;\n\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.top = 0;\n\t\t\t\tme.bottom = me.height;\n\t\t\t}\n\n\t\t\t// Reset padding\n\t\t\tme.paddingLeft = 0;\n\t\t\tme.paddingTop = 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingBottom = 0;\n\n\t\t\t// Reset minSize\n\t\t\tme.minSize = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\t\t},\n\t\tafterSetDimensions: noop,\n\n\t\t//\n\n\t\tbeforeBuildLabels: noop,\n\t\tbuildLabels: function() {\n\t\t\tvar me = this;\n\t\t\tme.legendItems = me.options.labels.generateLabels.call(me, me.chart);\n\t\t\tif (me.options.reverse) {\n\t\t\t\tme.legendItems.reverse();\n\t\t\t}\n\t\t},\n\t\tafterBuildLabels: noop,\n\n\t\t//\n\n\t\tbeforeFit: noop,\n\t\tfit: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar labelOpts = opts.labels;\n\t\t\tvar display = opts.display;\n\n\t\t\tvar ctx = me.ctx;\n\n\t\t\tvar globalDefault = Chart.defaults.global,\n\t\t\t\titemOrDefault = helpers.getValueOrDefault,\n\t\t\t\tfontSize = itemOrDefault(labelOpts.fontSize, globalDefault.defaultFontSize),\n\t\t\t\tfontStyle = itemOrDefault(labelOpts.fontStyle, globalDefault.defaultFontStyle),\n\t\t\t\tfontFamily = itemOrDefault(labelOpts.fontFamily, globalDefault.defaultFontFamily),\n\t\t\t\tlabelFont = helpers.fontString(fontSize, fontStyle, fontFamily);\n\n\t\t\t// Reset hit boxes\n\t\t\tvar hitboxes = me.legendHitBoxes = [];\n\n\t\t\tvar minSize = me.minSize;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tif (isHorizontal) {\n\t\t\t\tminSize.width = me.maxWidth; // fill all the width\n\t\t\t\tminSize.height = display ? 10 : 0;\n\t\t\t} else {\n\t\t\t\tminSize.width = display ? 10 : 0;\n\t\t\t\tminSize.height = me.maxHeight; // fill all the height\n\t\t\t}\n\n\t\t\t// Increase sizes here\n\t\t\tif (display) {\n\t\t\t\tctx.font = labelFont;\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t// Labels\n\n\t\t\t\t\t// Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\n\t\t\t\t\tvar lineWidths = me.lineWidths = [0];\n\t\t\t\t\tvar totalHeight = me.legendItems.length ? fontSize + (labelOpts.padding) : 0;\n\n\t\t\t\t\tctx.textAlign = 'left';\n\t\t\t\t\tctx.textBaseline = 'top';\n\n\t\t\t\t\thelpers.each(me.legendItems, function(legendItem, i) {\n\t\t\t\t\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\n\t\t\t\t\t\tvar width = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\n\t\t\t\t\t\tif (lineWidths[lineWidths.length - 1] + width + labelOpts.padding >= me.width) {\n\t\t\t\t\t\t\ttotalHeight += fontSize + (labelOpts.padding);\n\t\t\t\t\t\t\tlineWidths[lineWidths.length] = me.left;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\n\t\t\t\t\t\thitboxes[i] = {\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\theight: fontSize\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tlineWidths[lineWidths.length - 1] += width + labelOpts.padding;\n\t\t\t\t\t});\n\n\t\t\t\t\tminSize.height += totalHeight;\n\n\t\t\t\t} else {\n\t\t\t\t\tvar vPadding = labelOpts.padding;\n\t\t\t\t\tvar columnWidths = me.columnWidths = [];\n\t\t\t\t\tvar totalWidth = labelOpts.padding;\n\t\t\t\t\tvar currentColWidth = 0;\n\t\t\t\t\tvar currentColHeight = 0;\n\t\t\t\t\tvar itemHeight = fontSize + vPadding;\n\n\t\t\t\t\thelpers.each(me.legendItems, function(legendItem, i) {\n\t\t\t\t\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\n\t\t\t\t\t\tvar itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\n\t\t\t\t\t\t// If too tall, go to new column\n\t\t\t\t\t\tif (currentColHeight + itemHeight > minSize.height) {\n\t\t\t\t\t\t\ttotalWidth += currentColWidth + labelOpts.padding;\n\t\t\t\t\t\t\tcolumnWidths.push(currentColWidth); // previous column width\n\n\t\t\t\t\t\t\tcurrentColWidth = 0;\n\t\t\t\t\t\t\tcurrentColHeight = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Get max width\n\t\t\t\t\t\tcurrentColWidth = Math.max(currentColWidth, itemWidth);\n\t\t\t\t\t\tcurrentColHeight += itemHeight;\n\n\t\t\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\n\t\t\t\t\t\thitboxes[i] = {\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\twidth: itemWidth,\n\t\t\t\t\t\t\theight: fontSize\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\n\t\t\t\t\ttotalWidth += currentColWidth;\n\t\t\t\t\tcolumnWidths.push(currentColWidth);\n\t\t\t\t\tminSize.width += totalWidth;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tme.width = minSize.width;\n\t\t\tme.height = minSize.height;\n\t\t},\n\t\tafterFit: noop,\n\n\t\t// Shared Methods\n\t\tisHorizontal: function() {\n\t\t\treturn this.options.position === 'top' || this.options.position === 'bottom';\n\t\t},\n\n\t\t// Actually draw the legend on the canvas\n\t\tdraw: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar labelOpts = opts.labels;\n\t\t\tvar globalDefault = Chart.defaults.global,\n\t\t\t\tlineDefault = globalDefault.elements.line,\n\t\t\t\tlegendWidth = me.width,\n\t\t\t\tlineWidths = me.lineWidths;\n\n\t\t\tif (opts.display) {\n\t\t\t\tvar ctx = me.ctx,\n\t\t\t\t\tcursor,\n\t\t\t\t\titemOrDefault = helpers.getValueOrDefault,\n\t\t\t\t\tfontColor = itemOrDefault(labelOpts.fontColor, globalDefault.defaultFontColor),\n\t\t\t\t\tfontSize = itemOrDefault(labelOpts.fontSize, globalDefault.defaultFontSize),\n\t\t\t\t\tfontStyle = itemOrDefault(labelOpts.fontStyle, globalDefault.defaultFontStyle),\n\t\t\t\t\tfontFamily = itemOrDefault(labelOpts.fontFamily, globalDefault.defaultFontFamily),\n\t\t\t\t\tlabelFont = helpers.fontString(fontSize, fontStyle, fontFamily);\n\n\t\t\t\t// Canvas setup\n\t\t\t\tctx.textAlign = 'left';\n\t\t\t\tctx.textBaseline = 'top';\n\t\t\t\tctx.lineWidth = 0.5;\n\t\t\t\tctx.strokeStyle = fontColor; // for strikethrough effect\n\t\t\t\tctx.fillStyle = fontColor; // render in correct colour\n\t\t\t\tctx.font = labelFont;\n\n\t\t\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize),\n\t\t\t\t\thitboxes = me.legendHitBoxes;\n\n\t\t\t\t// current position\n\t\t\t\tvar drawLegendBox = function(x, y, legendItem) {\n\t\t\t\t\tif (isNaN(boxWidth) || boxWidth <= 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set the ctx for the box\n\t\t\t\t\tctx.save();\n\n\t\t\t\t\tctx.fillStyle = itemOrDefault(legendItem.fillStyle, globalDefault.defaultColor);\n\t\t\t\t\tctx.lineCap = itemOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);\n\t\t\t\t\tctx.lineDashOffset = itemOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);\n\t\t\t\t\tctx.lineJoin = itemOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);\n\t\t\t\t\tctx.lineWidth = itemOrDefault(legendItem.lineWidth, lineDefault.borderWidth);\n\t\t\t\t\tctx.strokeStyle = itemOrDefault(legendItem.strokeStyle, globalDefault.defaultColor);\n\t\t\t\t\tvar isLineWidthZero = (itemOrDefault(legendItem.lineWidth, lineDefault.borderWidth) === 0);\n\n\t\t\t\t\tif (ctx.setLineDash) {\n\t\t\t\t\t\t// IE 9 and 10 do not support line dash\n\t\t\t\t\t\tctx.setLineDash(itemOrDefault(legendItem.lineDash, lineDefault.borderDash));\n\t\t\t\t\t}\n\n\t\t\t\t\tif (opts.labels && opts.labels.usePointStyle) {\n\t\t\t\t\t\t// Recalculate x and y for drawPoint() because its expecting\n\t\t\t\t\t\t// x and y to be center of figure (instead of top left)\n\t\t\t\t\t\tvar radius = fontSize * Math.SQRT2 / 2;\n\t\t\t\t\t\tvar offSet = radius / Math.SQRT2;\n\t\t\t\t\t\tvar centerX = x + offSet;\n\t\t\t\t\t\tvar centerY = y + offSet;\n\n\t\t\t\t\t\t// Draw pointStyle as legend symbol\n\t\t\t\t\t\tChart.canvasHelpers.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Draw box as legend symbol\n\t\t\t\t\t\tif (!isLineWidthZero) {\n\t\t\t\t\t\t\tctx.strokeRect(x, y, boxWidth, fontSize);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tctx.fillRect(x, y, boxWidth, fontSize);\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.restore();\n\t\t\t\t};\n\t\t\t\tvar fillText = function(x, y, legendItem, textWidth) {\n\t\t\t\t\tctx.fillText(legendItem.text, boxWidth + (fontSize / 2) + x, y);\n\n\t\t\t\t\tif (legendItem.hidden) {\n\t\t\t\t\t\t// Strikethrough the text if hidden\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.lineWidth = 2;\n\t\t\t\t\t\tctx.moveTo(boxWidth + (fontSize / 2) + x, y + (fontSize / 2));\n\t\t\t\t\t\tctx.lineTo(boxWidth + (fontSize / 2) + x + textWidth, y + (fontSize / 2));\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Horizontal\n\t\t\t\tvar isHorizontal = me.isHorizontal();\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tcursor = {\n\t\t\t\t\t\tx: me.left + ((legendWidth - lineWidths[0]) / 2),\n\t\t\t\t\t\ty: me.top + labelOpts.padding,\n\t\t\t\t\t\tline: 0\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tcursor = {\n\t\t\t\t\t\tx: me.left + labelOpts.padding,\n\t\t\t\t\t\ty: me.top + labelOpts.padding,\n\t\t\t\t\t\tline: 0\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tvar itemHeight = fontSize + labelOpts.padding;\n\t\t\t\thelpers.each(me.legendItems, function(legendItem, i) {\n\t\t\t\t\tvar textWidth = ctx.measureText(legendItem.text).width,\n\t\t\t\t\t\twidth = boxWidth + (fontSize / 2) + textWidth,\n\t\t\t\t\t\tx = cursor.x,\n\t\t\t\t\t\ty = cursor.y;\n\n\t\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t\tif (x + width >= legendWidth) {\n\t\t\t\t\t\t\ty = cursor.y += itemHeight;\n\t\t\t\t\t\t\tcursor.line++;\n\t\t\t\t\t\t\tx = cursor.x = me.left + ((legendWidth - lineWidths[cursor.line]) / 2);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (y + itemHeight > me.bottom) {\n\t\t\t\t\t\tx = cursor.x = x + me.columnWidths[cursor.line] + labelOpts.padding;\n\t\t\t\t\t\ty = cursor.y = me.top;\n\t\t\t\t\t\tcursor.line++;\n\t\t\t\t\t}\n\n\t\t\t\t\tdrawLegendBox(x, y, legendItem);\n\n\t\t\t\t\thitboxes[i].left = x;\n\t\t\t\t\thitboxes[i].top = y;\n\n\t\t\t\t\t// Fill the actual label\n\t\t\t\t\tfillText(x, y, legendItem, textWidth);\n\n\t\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t\tcursor.x += width + (labelOpts.padding);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcursor.y += itemHeight;\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Handle an event\n\t\t * @private\n\t\t * @param e {Event} the event to handle\n\t\t * @return {Boolean} true if a change occured\n\t\t */\n\t\thandleEvent: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar type = e.type === 'mouseup' ? 'click' : e.type;\n\t\t\tvar changed = false;\n\n\t\t\tif (type === 'mousemove') {\n\t\t\t\tif (!opts.onHover) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else if (type === 'click') {\n\t\t\t\tif (!opts.onClick) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar position = helpers.getRelativePosition(e, me.chart.chart),\n\t\t\t\tx = position.x,\n\t\t\t\ty = position.y;\n\n\t\t\tif (x >= me.left && x <= me.right && y >= me.top && y <= me.bottom) {\n\t\t\t\t// See if we are touching one of the dataset boxes\n\t\t\t\tvar lh = me.legendHitBoxes;\n\t\t\t\tfor (var i = 0; i < lh.length; ++i) {\n\t\t\t\t\tvar hitBox = lh[i];\n\n\t\t\t\t\tif (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\n\t\t\t\t\t\t// Touching an element\n\t\t\t\t\t\tif (type === 'click') {\n\t\t\t\t\t\t\topts.onClick.call(me, e, me.legendItems[i]);\n\t\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else if (type === 'mousemove') {\n\t\t\t\t\t\t\topts.onHover.call(me, e, me.legendItems[i]);\n\t\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn changed;\n\t\t}\n\t});\n\n\t// Register the legend plugin\n\tChart.plugins.register({\n\t\tbeforeInit: function(chartInstance) {\n\t\t\tvar opts = chartInstance.options;\n\t\t\tvar legendOpts = opts.legend;\n\n\t\t\tif (legendOpts) {\n\t\t\t\tchartInstance.legend = new Chart.Legend({\n\t\t\t\t\tctx: chartInstance.chart.ctx,\n\t\t\t\t\toptions: legendOpts,\n\t\t\t\t\tchart: chartInstance\n\t\t\t\t});\n\n\t\t\t\tChart.layoutService.addBox(chartInstance, chartInstance.legend);\n\t\t\t}\n\t\t}\n\t});\n};\n\n},{}],31:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar noop = Chart.helpers.noop;\n\n\t/**\n\t * The plugin service singleton\n\t * @namespace Chart.plugins\n\t * @since 2.1.0\n\t */\n\tChart.plugins = {\n\t\t_plugins: [],\n\n\t\t/**\n\t\t * Registers the given plugin(s) if not already registered.\n\t\t * @param {Array|Object} plugins plugin instance(s).\n\t\t */\n\t\tregister: function(plugins) {\n\t\t\tvar p = this._plugins;\n\t\t\t([]).concat(plugins).forEach(function(plugin) {\n\t\t\t\tif (p.indexOf(plugin) === -1) {\n\t\t\t\t\tp.push(plugin);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Unregisters the given plugin(s) only if registered.\n\t\t * @param {Array|Object} plugins plugin instance(s).\n\t\t */\n\t\tunregister: function(plugins) {\n\t\t\tvar p = this._plugins;\n\t\t\t([]).concat(plugins).forEach(function(plugin) {\n\t\t\t\tvar idx = p.indexOf(plugin);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tp.splice(idx, 1);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Remove all registered plugins.\n\t\t * @since 2.1.5\n\t\t */\n\t\tclear: function() {\n\t\t\tthis._plugins = [];\n\t\t},\n\n\t\t/**\n\t\t * Returns the number of registered plugins?\n\t\t * @returns {Number}\n\t\t * @since 2.1.5\n\t\t */\n\t\tcount: function() {\n\t\t\treturn this._plugins.length;\n\t\t},\n\n\t\t/**\n\t\t * Returns all registered plugin instances.\n\t\t * @returns {Array} array of plugin objects.\n\t\t * @since 2.1.5\n\t\t */\n\t\tgetAll: function() {\n\t\t\treturn this._plugins;\n\t\t},\n\n\t\t/**\n\t\t * Calls registered plugins on the specified extension, with the given args. This\n\t\t * method immediately returns as soon as a plugin explicitly returns false. The\n\t\t * returned value can be used, for instance, to interrupt the current action.\n\t\t * @param {String} extension the name of the plugin method to call (e.g. 'beforeUpdate').\n\t\t * @param {Array} [args] extra arguments to apply to the extension call.\n\t\t * @returns {Boolean} false if any of the plugins return false, else returns true.\n\t\t */\n\t\tnotify: function(extension, args) {\n\t\t\tvar plugins = this._plugins;\n\t\t\tvar ilen = plugins.length;\n\t\t\tvar i, plugin;\n\n\t\t\tfor (i=0; i<ilen; ++i) {\n\t\t\t\tplugin = plugins[i];\n\t\t\t\tif (typeof plugin[extension] === 'function') {\n\t\t\t\t\tif (plugin[extension].apply(plugin, args || []) === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t};\n\n\t/**\n\t * Plugin extension methods.\n\t * @interface Chart.PluginBase\n\t * @since 2.1.0\n\t */\n\tChart.PluginBase = Chart.Element.extend({\n\t\t// Called at start of chart init\n\t\tbeforeInit: noop,\n\n\t\t// Called at end of chart init\n\t\tafterInit: noop,\n\n\t\t// Called at start of update\n\t\tbeforeUpdate: noop,\n\n\t\t// Called at end of update\n\t\tafterUpdate: noop,\n\n\t\t// Called at start of draw\n\t\tbeforeDraw: noop,\n\n\t\t// Called at end of draw\n\t\tafterDraw: noop,\n\n\t\t// Called during destroy\n\t\tdestroy: noop\n\t});\n\n\t/**\n\t * Provided for backward compatibility, use Chart.plugins instead\n\t * @namespace Chart.pluginService\n\t * @deprecated since version 2.1.5\n\t * @todo remove me at version 3\n\t */\n\tChart.pluginService = Chart.plugins;\n};\n\n},{}],32:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.scale = {\n\t\tdisplay: true,\n\t\tposition: 'left',\n\n\t\t// grid line settings\n\t\tgridLines: {\n\t\t\tdisplay: true,\n\t\t\tcolor: 'rgba(0, 0, 0, 0.1)',\n\t\t\tlineWidth: 1,\n\t\t\tdrawBorder: true,\n\t\t\tdrawOnChartArea: true,\n\t\t\tdrawTicks: true,\n\t\t\ttickMarkLength: 10,\n\t\t\tzeroLineWidth: 1,\n\t\t\tzeroLineColor: 'rgba(0,0,0,0.25)',\n\t\t\toffsetGridLines: false,\n\t\t\tborderDash: [],\n\t\t\tborderDashOffset: 0.0\n\t\t},\n\n\t\t// scale label\n\t\tscaleLabel: {\n\t\t\t// actual label\n\t\t\tlabelString: '',\n\n\t\t\t// display property\n\t\t\tdisplay: false\n\t\t},\n\n\t\t// label settings\n\t\tticks: {\n\t\t\tbeginAtZero: false,\n\t\t\tminRotation: 0,\n\t\t\tmaxRotation: 50,\n\t\t\tmirror: false,\n\t\t\tpadding: 10,\n\t\t\treverse: false,\n\t\t\tdisplay: true,\n\t\t\tautoSkip: true,\n\t\t\tautoSkipPadding: 0,\n\t\t\tlabelOffset: 0,\n\t\t\t// We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\n\t\t\tcallback: Chart.Ticks.formatters.values\n\t\t}\n\t};\n\n\tChart.Scale = Chart.Element.extend({\n\n\t\t// These methods are ordered by lifecycle. Utilities then follow.\n\t\t// Any function defined here is inherited by all scale types.\n\t\t// Any function can be extended by the scale type\n\n\t\tbeforeUpdate: function() {\n\t\t\thelpers.callCallback(this.options.beforeUpdate, [this]);\n\t\t},\n\t\tupdate: function(maxWidth, maxHeight, margins) {\n\t\t\tvar me = this;\n\n\t\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n\t\t\tme.beforeUpdate();\n\n\t\t\t// Absorb the master measurements\n\t\t\tme.maxWidth = maxWidth;\n\t\t\tme.maxHeight = maxHeight;\n\t\t\tme.margins = helpers.extend({\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0\n\t\t\t}, margins);\n\n\t\t\t// Dimensions\n\t\t\tme.beforeSetDimensions();\n\t\t\tme.setDimensions();\n\t\t\tme.afterSetDimensions();\n\n\t\t\t// Data min/max\n\t\t\tme.beforeDataLimits();\n\t\t\tme.determineDataLimits();\n\t\t\tme.afterDataLimits();\n\n\t\t\t// Ticks\n\t\t\tme.beforeBuildTicks();\n\t\t\tme.buildTicks();\n\t\t\tme.afterBuildTicks();\n\n\t\t\tme.beforeTickToLabelConversion();\n\t\t\tme.convertTicksToLabels();\n\t\t\tme.afterTickToLabelConversion();\n\n\t\t\t// Tick Rotation\n\t\t\tme.beforeCalculateTickRotation();\n\t\t\tme.calculateTickRotation();\n\t\t\tme.afterCalculateTickRotation();\n\t\t\t// Fit\n\t\t\tme.beforeFit();\n\t\t\tme.fit();\n\t\t\tme.afterFit();\n\t\t\t//\n\t\t\tme.afterUpdate();\n\n\t\t\treturn me.minSize;\n\n\t\t},\n\t\tafterUpdate: function() {\n\t\t\thelpers.callCallback(this.options.afterUpdate, [this]);\n\t\t},\n\n\t\t//\n\n\t\tbeforeSetDimensions: function() {\n\t\t\thelpers.callCallback(this.options.beforeSetDimensions, [this]);\n\t\t},\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.width = me.maxWidth;\n\t\t\t\tme.left = 0;\n\t\t\t\tme.right = me.width;\n\t\t\t} else {\n\t\t\t\tme.height = me.maxHeight;\n\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.top = 0;\n\t\t\t\tme.bottom = me.height;\n\t\t\t}\n\n\t\t\t// Reset padding\n\t\t\tme.paddingLeft = 0;\n\t\t\tme.paddingTop = 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingBottom = 0;\n\t\t},\n\t\tafterSetDimensions: function() {\n\t\t\thelpers.callCallback(this.options.afterSetDimensions, [this]);\n\t\t},\n\n\t\t// Data limits\n\t\tbeforeDataLimits: function() {\n\t\t\thelpers.callCallback(this.options.beforeDataLimits, [this]);\n\t\t},\n\t\tdetermineDataLimits: helpers.noop,\n\t\tafterDataLimits: function() {\n\t\t\thelpers.callCallback(this.options.afterDataLimits, [this]);\n\t\t},\n\n\t\t//\n\t\tbeforeBuildTicks: function() {\n\t\t\thelpers.callCallback(this.options.beforeBuildTicks, [this]);\n\t\t},\n\t\tbuildTicks: helpers.noop,\n\t\tafterBuildTicks: function() {\n\t\t\thelpers.callCallback(this.options.afterBuildTicks, [this]);\n\t\t},\n\n\t\tbeforeTickToLabelConversion: function() {\n\t\t\thelpers.callCallback(this.options.beforeTickToLabelConversion, [this]);\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\t// Convert ticks to strings\n\t\t\tvar tickOpts = me.options.ticks;\n\t\t\tme.ticks = me.ticks.map(tickOpts.userCallback || tickOpts.callback);\n\t\t},\n\t\tafterTickToLabelConversion: function() {\n\t\t\thelpers.callCallback(this.options.afterTickToLabelConversion, [this]);\n\t\t},\n\n\t\t//\n\n\t\tbeforeCalculateTickRotation: function() {\n\t\t\thelpers.callCallback(this.options.beforeCalculateTickRotation, [this]);\n\t\t},\n\t\tcalculateTickRotation: function() {\n\t\t\tvar me = this;\n\t\t\tvar context = me.ctx;\n\t\t\tvar globalDefaults = Chart.defaults.global;\n\t\t\tvar optionTicks = me.options.ticks;\n\n\t\t\t// Get the width of each grid by calculating the difference\n\t\t\t// between x offsets between 0 and 1.\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(optionTicks.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar tickFontStyle = helpers.getValueOrDefault(optionTicks.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar tickFontFamily = helpers.getValueOrDefault(optionTicks.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\t\t\tcontext.font = tickLabelFont;\n\n\t\t\tvar firstWidth = context.measureText(me.ticks[0]).width;\n\t\t\tvar lastWidth = context.measureText(me.ticks[me.ticks.length - 1]).width;\n\t\t\tvar firstRotated;\n\n\t\t\tme.labelRotation = optionTicks.minRotation || 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingLeft = 0;\n\n\t\t\tif (me.options.display) {\n\t\t\t\tif (me.isHorizontal()) {\n\t\t\t\t\tme.paddingRight = lastWidth / 2 + 3;\n\t\t\t\t\tme.paddingLeft = firstWidth / 2 + 3;\n\n\t\t\t\t\tif (!me.longestTextCache) {\n\t\t\t\t\t\tme.longestTextCache = {};\n\t\t\t\t\t}\n\t\t\t\t\tvar originalLabelWidth = helpers.longestText(context, tickLabelFont, me.ticks, me.longestTextCache);\n\t\t\t\t\tvar labelWidth = originalLabelWidth;\n\t\t\t\t\tvar cosRotation;\n\t\t\t\t\tvar sinRotation;\n\n\t\t\t\t\t// Allow 3 pixels x2 padding either side for label readability\n\t\t\t\t\t// only the index matters for a dataset scale, but we want a consistent interface between scales\n\t\t\t\t\tvar tickWidth = me.getPixelForTick(1) - me.getPixelForTick(0) - 6;\n\n\t\t\t\t\t// Max label rotation can be set or default to 90 - also act as a loop counter\n\t\t\t\t\twhile (labelWidth > tickWidth && me.labelRotation < optionTicks.maxRotation) {\n\t\t\t\t\t\tcosRotation = Math.cos(helpers.toRadians(me.labelRotation));\n\t\t\t\t\t\tsinRotation = Math.sin(helpers.toRadians(me.labelRotation));\n\n\t\t\t\t\t\tfirstRotated = cosRotation * firstWidth;\n\n\t\t\t\t\t\t// We're right aligning the text now.\n\t\t\t\t\t\tif (firstRotated + tickFontSize / 2 > me.yLabelWidth) {\n\t\t\t\t\t\t\tme.paddingLeft = firstRotated + tickFontSize / 2;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tme.paddingRight = tickFontSize / 2;\n\n\t\t\t\t\t\tif (sinRotation * originalLabelWidth > me.maxHeight) {\n\t\t\t\t\t\t\t// go back one step\n\t\t\t\t\t\t\tme.labelRotation--;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tme.labelRotation++;\n\t\t\t\t\t\tlabelWidth = cosRotation * originalLabelWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (me.margins) {\n\t\t\t\tme.paddingLeft = Math.max(me.paddingLeft - me.margins.left, 0);\n\t\t\t\tme.paddingRight = Math.max(me.paddingRight - me.margins.right, 0);\n\t\t\t}\n\t\t},\n\t\tafterCalculateTickRotation: function() {\n\t\t\thelpers.callCallback(this.options.afterCalculateTickRotation, [this]);\n\t\t},\n\n\t\t//\n\n\t\tbeforeFit: function() {\n\t\t\thelpers.callCallback(this.options.beforeFit, [this]);\n\t\t},\n\t\tfit: function() {\n\t\t\tvar me = this;\n\t\t\t// Reset\n\t\t\tvar minSize = me.minSize = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\n\t\t\tvar opts = me.options;\n\t\t\tvar globalDefaults = Chart.defaults.global;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar scaleLabelOpts = opts.scaleLabel;\n\t\t\tvar gridLineOpts = opts.gridLines;\n\t\t\tvar display = opts.display;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar tickFontStyle = helpers.getValueOrDefault(tickOpts.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar tickFontFamily = helpers.getValueOrDefault(tickOpts.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\n\t\t\tvar scaleLabelFontSize = helpers.getValueOrDefault(scaleLabelOpts.fontSize, globalDefaults.defaultFontSize);\n\n\t\t\tvar tickMarkLength = opts.gridLines.tickMarkLength;\n\n\t\t\t// Width\n\t\t\tif (isHorizontal) {\n\t\t\t\t// subtract the margins to line up with the chartArea if we are a full width scale\n\t\t\t\tminSize.width = me.isFullWidth() ? me.maxWidth - me.margins.left - me.margins.right : me.maxWidth;\n\t\t\t} else {\n\t\t\t\tminSize.width = display && gridLineOpts.drawTicks ? tickMarkLength : 0;\n\t\t\t}\n\n\t\t\t// height\n\t\t\tif (isHorizontal) {\n\t\t\t\tminSize.height = display && gridLineOpts.drawTicks ? tickMarkLength : 0;\n\t\t\t} else {\n\t\t\t\tminSize.height = me.maxHeight; // fill all the height\n\t\t\t}\n\n\t\t\t// Are we showing a title for the scale?\n\t\t\tif (scaleLabelOpts.display && display) {\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tminSize.height += (scaleLabelFontSize * 1.5);\n\t\t\t\t} else {\n\t\t\t\t\tminSize.width += (scaleLabelFontSize * 1.5);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tickOpts.display && display) {\n\t\t\t\t// Don't bother fitting the ticks if we are not showing them\n\t\t\t\tif (!me.longestTextCache) {\n\t\t\t\t\tme.longestTextCache = {};\n\t\t\t\t}\n\n\t\t\t\tvar largestTextWidth = helpers.longestText(me.ctx, tickLabelFont, me.ticks, me.longestTextCache);\n\t\t\t\tvar tallestLabelHeightInLines = helpers.numberOfLabelLines(me.ticks);\n\t\t\t\tvar lineSpace = tickFontSize * 0.5;\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t// A horizontal axis is more constrained by the height.\n\t\t\t\t\tme.longestLabelWidth = largestTextWidth;\n\n\t\t\t\t\t// TODO - improve this calculation\n\t\t\t\t\tvar labelHeight = (Math.sin(helpers.toRadians(me.labelRotation)) * me.longestLabelWidth) + (tickFontSize * tallestLabelHeightInLines) + (lineSpace * tallestLabelHeightInLines);\n\n\t\t\t\t\tminSize.height = Math.min(me.maxHeight, minSize.height + labelHeight);\n\t\t\t\t\tme.ctx.font = tickLabelFont;\n\n\t\t\t\t\tvar firstLabelWidth = me.ctx.measureText(me.ticks[0]).width;\n\t\t\t\t\tvar lastLabelWidth = me.ctx.measureText(me.ticks[me.ticks.length - 1]).width;\n\n\t\t\t\t\t// Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned which means that the right padding is dominated\n\t\t\t\t\t// by the font height\n\t\t\t\t\tvar cosRotation = Math.cos(helpers.toRadians(me.labelRotation));\n\t\t\t\t\tvar sinRotation = Math.sin(helpers.toRadians(me.labelRotation));\n\t\t\t\t\tme.paddingLeft = me.labelRotation !== 0 ? (cosRotation * firstLabelWidth) + 3 : firstLabelWidth / 2 + 3; // add 3 px to move away from canvas edges\n\t\t\t\t\tme.paddingRight = me.labelRotation !== 0 ? (sinRotation * (tickFontSize / 2)) + 3 : lastLabelWidth / 2 + 3; // when rotated\n\t\t\t\t} else {\n\t\t\t\t\t// A vertical axis is more constrained by the width. Labels are the dominant factor here, so get that length first\n\t\t\t\t\tvar maxLabelWidth = me.maxWidth - minSize.width;\n\n\t\t\t\t\t// Account for padding\n\t\t\t\t\tvar mirror = tickOpts.mirror;\n\t\t\t\t\tif (!mirror) {\n\t\t\t\t\t\tlargestTextWidth += me.options.ticks.padding;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// If mirrored text is on the inside so don't expand\n\t\t\t\t\t\tlargestTextWidth = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (largestTextWidth < maxLabelWidth) {\n\t\t\t\t\t\t// We don't need all the room\n\t\t\t\t\t\tminSize.width += largestTextWidth;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Expand to max size\n\t\t\t\t\t\tminSize.width = me.maxWidth;\n\t\t\t\t\t}\n\n\t\t\t\t\tme.paddingTop = tickFontSize / 2;\n\t\t\t\t\tme.paddingBottom = tickFontSize / 2;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (me.margins) {\n\t\t\t\tme.paddingLeft = Math.max(me.paddingLeft - me.margins.left, 0);\n\t\t\t\tme.paddingTop = Math.max(me.paddingTop - me.margins.top, 0);\n\t\t\t\tme.paddingRight = Math.max(me.paddingRight - me.margins.right, 0);\n\t\t\t\tme.paddingBottom = Math.max(me.paddingBottom - me.margins.bottom, 0);\n\t\t\t}\n\n\t\t\tme.width = minSize.width;\n\t\t\tme.height = minSize.height;\n\n\t\t},\n\t\tafterFit: function() {\n\t\t\thelpers.callCallback(this.options.afterFit, [this]);\n\t\t},\n\n\t\t// Shared Methods\n\t\tisHorizontal: function() {\n\t\t\treturn this.options.position === 'top' || this.options.position === 'bottom';\n\t\t},\n\t\tisFullWidth: function() {\n\t\t\treturn (this.options.fullWidth);\n\t\t},\n\n\t\t// Get the correct value. NaN bad inputs, If the value type is object get the x or y based on whether we are horizontal or not\n\t\tgetRightValue: function(rawValue) {\n\t\t\t// Null and undefined values first\n\t\t\tif (rawValue === null || typeof(rawValue) === 'undefined') {\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\t// isNaN(object) returns true, so make sure NaN is checking for a number; Discard Infinite values\n\t\t\tif (typeof(rawValue) === 'number' && !isFinite(rawValue)) {\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\t// If it is in fact an object, dive in one more level\n\t\t\tif (typeof(rawValue) === 'object') {\n\t\t\t\tif ((rawValue instanceof Date) || (rawValue.isValid)) {\n\t\t\t\t\treturn rawValue;\n\t\t\t\t}\n\t\t\t\treturn this.getRightValue(this.isHorizontal() ? rawValue.x : rawValue.y);\n\t\t\t}\n\n\t\t\t// Value is good, return it\n\t\t\treturn rawValue;\n\t\t},\n\n\t\t// Used to get the value to display in the tooltip for the data at the given index\n\t\t// function getLabelForIndex(index, datasetIndex)\n\t\tgetLabelForIndex: helpers.noop,\n\n\t\t// Used to get data value locations.  Value can either be an index or a numerical value\n\t\tgetPixelForValue: helpers.noop,\n\n\t\t// Used to get the data value from a given pixel. This is the inverse of getPixelForValue\n\t\tgetValueForPixel: helpers.noop,\n\n\t\t// Used for tick location, should\n\t\tgetPixelForTick: function(index, includeOffset) {\n\t\t\tvar me = this;\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tvar innerWidth = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\tvar tickWidth = innerWidth / Math.max((me.ticks.length - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);\n\t\t\t\tvar pixel = (tickWidth * index) + me.paddingLeft;\n\n\t\t\t\tif (includeOffset) {\n\t\t\t\t\tpixel += tickWidth / 2;\n\t\t\t\t}\n\n\t\t\t\tvar finalVal = me.left + Math.round(pixel);\n\t\t\t\tfinalVal += me.isFullWidth() ? me.margins.left : 0;\n\t\t\t\treturn finalVal;\n\t\t\t}\n\t\t\tvar innerHeight = me.height - (me.paddingTop + me.paddingBottom);\n\t\t\treturn me.top + (index * (innerHeight / (me.ticks.length - 1)));\n\t\t},\n\n\t\t// Utility for getting the pixel location of a percentage of scale\n\t\tgetPixelForDecimal: function(decimal /* , includeOffset*/) {\n\t\t\tvar me = this;\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tvar innerWidth = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\tvar valueOffset = (innerWidth * decimal) + me.paddingLeft;\n\n\t\t\t\tvar finalVal = me.left + Math.round(valueOffset);\n\t\t\t\tfinalVal += me.isFullWidth() ? me.margins.left : 0;\n\t\t\t\treturn finalVal;\n\t\t\t}\n\t\t\treturn me.top + (decimal * me.height);\n\t\t},\n\n\t\tgetBasePixel: function() {\n\t\t\tvar me = this;\n\t\t\tvar min = me.min;\n\t\t\tvar max = me.max;\n\n\t\t\treturn me.getPixelForValue(\n\t\t\t\tme.beginAtZero? 0:\n\t\t\t\tmin < 0 && max < 0? max :\n\t\t\t\tmin > 0 && max > 0? min :\n\t\t\t\t0);\n\t\t},\n\n\t\t// Actually draw the scale on the canvas\n\t\t// @param {rectangle} chartArea : the area of the chart to draw full grid lines on\n\t\tdraw: function(chartArea) {\n\t\t\tvar me = this;\n\t\t\tvar options = me.options;\n\t\t\tif (!options.display) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar context = me.ctx;\n\t\t\tvar globalDefaults = Chart.defaults.global;\n\t\t\tvar optionTicks = options.ticks;\n\t\t\tvar gridLines = options.gridLines;\n\t\t\tvar scaleLabel = options.scaleLabel;\n\n\t\t\tvar isRotated = me.labelRotation !== 0;\n\t\t\tvar skipRatio;\n\t\t\tvar useAutoskipper = optionTicks.autoSkip;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\t// figure out the maximum number of gridlines to show\n\t\t\tvar maxTicks;\n\t\t\tif (optionTicks.maxTicksLimit) {\n\t\t\t\tmaxTicks = optionTicks.maxTicksLimit;\n\t\t\t}\n\n\t\t\tvar tickFontColor = helpers.getValueOrDefault(optionTicks.fontColor, globalDefaults.defaultFontColor);\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(optionTicks.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar tickFontStyle = helpers.getValueOrDefault(optionTicks.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar tickFontFamily = helpers.getValueOrDefault(optionTicks.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\t\t\tvar tl = gridLines.tickMarkLength;\n\t\t\tvar borderDash = helpers.getValueOrDefault(gridLines.borderDash, globalDefaults.borderDash);\n\t\t\tvar borderDashOffset = helpers.getValueOrDefault(gridLines.borderDashOffset, globalDefaults.borderDashOffset);\n\n\t\t\tvar scaleLabelFontColor = helpers.getValueOrDefault(scaleLabel.fontColor, globalDefaults.defaultFontColor);\n\t\t\tvar scaleLabelFontSize = helpers.getValueOrDefault(scaleLabel.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar scaleLabelFontStyle = helpers.getValueOrDefault(scaleLabel.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar scaleLabelFontFamily = helpers.getValueOrDefault(scaleLabel.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar scaleLabelFont = helpers.fontString(scaleLabelFontSize, scaleLabelFontStyle, scaleLabelFontFamily);\n\n\t\t\tvar labelRotationRadians = helpers.toRadians(me.labelRotation);\n\t\t\tvar cosRotation = Math.cos(labelRotationRadians);\n\t\t\tvar longestRotatedLabel = me.longestLabelWidth * cosRotation;\n\n\t\t\t// Make sure we draw text in the correct color and font\n\t\t\tcontext.fillStyle = tickFontColor;\n\n\t\t\tvar itemsToDraw = [];\n\n\t\t\tif (isHorizontal) {\n\t\t\t\tskipRatio = false;\n\n\t\t\t\t// Only calculate the skip ratio with the half width of longestRotateLabel if we got an actual rotation\n\t\t\t\t// See #2584\n\t\t\t\tif (isRotated) {\n\t\t\t\t\tlongestRotatedLabel /= 2;\n\t\t\t\t}\n\n\t\t\t\tif ((longestRotatedLabel + optionTicks.autoSkipPadding) * me.ticks.length > (me.width - (me.paddingLeft + me.paddingRight))) {\n\t\t\t\t\tskipRatio = 1 + Math.floor(((longestRotatedLabel + optionTicks.autoSkipPadding) * me.ticks.length) / (me.width - (me.paddingLeft + me.paddingRight)));\n\t\t\t\t}\n\n\t\t\t\t// if they defined a max number of optionTicks,\n\t\t\t\t// increase skipRatio until that number is met\n\t\t\t\tif (maxTicks && me.ticks.length > maxTicks) {\n\t\t\t\t\twhile (!skipRatio || me.ticks.length / (skipRatio || 1) > maxTicks) {\n\t\t\t\t\t\tif (!skipRatio) {\n\t\t\t\t\t\t\tskipRatio = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tskipRatio += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!useAutoskipper) {\n\t\t\t\t\tskipRatio = false;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tvar xTickStart = options.position === 'right' ? me.left : me.right - tl;\n\t\t\tvar xTickEnd = options.position === 'right' ? me.left + tl : me.right;\n\t\t\tvar yTickStart = options.position === 'bottom' ? me.top : me.bottom - tl;\n\t\t\tvar yTickEnd = options.position === 'bottom' ? me.top + tl : me.bottom;\n\n\t\t\thelpers.each(me.ticks, function(label, index) {\n\t\t\t\t// If the callback returned a null or undefined value, do not draw this line\n\t\t\t\tif (label === undefined || label === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar isLastTick = me.ticks.length === index + 1;\n\n\t\t\t\t// Since we always show the last tick,we need may need to hide the last shown one before\n\t\t\t\tvar shouldSkip = (skipRatio > 1 && index % skipRatio > 0) || (index % skipRatio === 0 && index + skipRatio >= me.ticks.length);\n\t\t\t\tif (shouldSkip && !isLastTick || (label === undefined || label === null)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar lineWidth, lineColor;\n\t\t\t\tif (index === (typeof me.zeroLineIndex !== 'undefined' ? me.zeroLineIndex : 0)) {\n\t\t\t\t\t// Draw the first index specially\n\t\t\t\t\tlineWidth = gridLines.zeroLineWidth;\n\t\t\t\t\tlineColor = gridLines.zeroLineColor;\n\t\t\t\t} else {\n\t\t\t\t\tlineWidth = helpers.getValueAtIndexOrDefault(gridLines.lineWidth, index);\n\t\t\t\t\tlineColor = helpers.getValueAtIndexOrDefault(gridLines.color, index);\n\t\t\t\t}\n\n\t\t\t\t// Common properties\n\t\t\t\tvar tx1, ty1, tx2, ty2, x1, y1, x2, y2, labelX, labelY;\n\t\t\t\tvar textAlign = 'middle';\n\t\t\t\tvar textBaseline = 'middle';\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tif (!isRotated) {\n\t\t\t\t\t\ttextBaseline = options.position === 'top' ? 'bottom' : 'top';\n\t\t\t\t\t}\n\n\t\t\t\t\ttextAlign = isRotated ? 'right' : 'center';\n\n\t\t\t\t\tvar xLineValue = me.getPixelForTick(index) + helpers.aliasPixel(lineWidth); // xvalues for grid lines\n\t\t\t\t\tlabelX = me.getPixelForTick(index, gridLines.offsetGridLines) + optionTicks.labelOffset; // x values for optionTicks (need to consider offsetLabel option)\n\t\t\t\t\tlabelY = (isRotated) ? me.top + 12 : options.position === 'top' ? me.bottom - tl : me.top + tl;\n\n\t\t\t\t\ttx1 = tx2 = x1 = x2 = xLineValue;\n\t\t\t\t\tty1 = yTickStart;\n\t\t\t\t\tty2 = yTickEnd;\n\t\t\t\t\ty1 = chartArea.top;\n\t\t\t\t\ty2 = chartArea.bottom;\n\t\t\t\t} else {\n\t\t\t\t\tif (options.position === 'left') {\n\t\t\t\t\t\tif (optionTicks.mirror) {\n\t\t\t\t\t\t\tlabelX = me.right + optionTicks.padding;\n\t\t\t\t\t\t\ttextAlign = 'left';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlabelX = me.right - optionTicks.padding;\n\t\t\t\t\t\t\ttextAlign = 'right';\n\t\t\t\t\t\t}\n\t\t\t\t\t// right side\n\t\t\t\t\t} else if (optionTicks.mirror) {\n\t\t\t\t\t\tlabelX = me.left - optionTicks.padding;\n\t\t\t\t\t\ttextAlign = 'right';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlabelX = me.left + optionTicks.padding;\n\t\t\t\t\t\ttextAlign = 'left';\n\t\t\t\t\t}\n\n\t\t\t\t\tvar yLineValue = me.getPixelForTick(index); // xvalues for grid lines\n\t\t\t\t\tyLineValue += helpers.aliasPixel(lineWidth);\n\t\t\t\t\tlabelY = me.getPixelForTick(index, gridLines.offsetGridLines);\n\n\t\t\t\t\ttx1 = xTickStart;\n\t\t\t\t\ttx2 = xTickEnd;\n\t\t\t\t\tx1 = chartArea.left;\n\t\t\t\t\tx2 = chartArea.right;\n\t\t\t\t\tty1 = ty2 = y1 = y2 = yLineValue;\n\t\t\t\t}\n\n\t\t\t\titemsToDraw.push({\n\t\t\t\t\ttx1: tx1,\n\t\t\t\t\tty1: ty1,\n\t\t\t\t\ttx2: tx2,\n\t\t\t\t\tty2: ty2,\n\t\t\t\t\tx1: x1,\n\t\t\t\t\ty1: y1,\n\t\t\t\t\tx2: x2,\n\t\t\t\t\ty2: y2,\n\t\t\t\t\tlabelX: labelX,\n\t\t\t\t\tlabelY: labelY,\n\t\t\t\t\tglWidth: lineWidth,\n\t\t\t\t\tglColor: lineColor,\n\t\t\t\t\tglBorderDash: borderDash,\n\t\t\t\t\tglBorderDashOffset: borderDashOffset,\n\t\t\t\t\trotation: -1 * labelRotationRadians,\n\t\t\t\t\tlabel: label,\n\t\t\t\t\ttextBaseline: textBaseline,\n\t\t\t\t\ttextAlign: textAlign\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Draw all of the tick labels, tick marks, and grid lines at the correct places\n\t\t\thelpers.each(itemsToDraw, function(itemToDraw) {\n\t\t\t\tif (gridLines.display) {\n\t\t\t\t\tcontext.save();\n\t\t\t\t\tcontext.lineWidth = itemToDraw.glWidth;\n\t\t\t\t\tcontext.strokeStyle = itemToDraw.glColor;\n\t\t\t\t\tif (context.setLineDash) {\n\t\t\t\t\t\tcontext.setLineDash(itemToDraw.glBorderDash);\n\t\t\t\t\t\tcontext.lineDashOffset = itemToDraw.glBorderDashOffset;\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext.beginPath();\n\n\t\t\t\t\tif (gridLines.drawTicks) {\n\t\t\t\t\t\tcontext.moveTo(itemToDraw.tx1, itemToDraw.ty1);\n\t\t\t\t\t\tcontext.lineTo(itemToDraw.tx2, itemToDraw.ty2);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (gridLines.drawOnChartArea) {\n\t\t\t\t\t\tcontext.moveTo(itemToDraw.x1, itemToDraw.y1);\n\t\t\t\t\t\tcontext.lineTo(itemToDraw.x2, itemToDraw.y2);\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext.stroke();\n\t\t\t\t\tcontext.restore();\n\t\t\t\t}\n\n\t\t\t\tif (optionTicks.display) {\n\t\t\t\t\tcontext.save();\n\t\t\t\t\tcontext.translate(itemToDraw.labelX, itemToDraw.labelY);\n\t\t\t\t\tcontext.rotate(itemToDraw.rotation);\n\t\t\t\t\tcontext.font = tickLabelFont;\n\t\t\t\t\tcontext.textBaseline = itemToDraw.textBaseline;\n\t\t\t\t\tcontext.textAlign = itemToDraw.textAlign;\n\n\t\t\t\t\tvar label = itemToDraw.label;\n\t\t\t\t\tif (helpers.isArray(label)) {\n\t\t\t\t\t\tfor (var i = 0, y = -(label.length - 1)*tickFontSize*0.75; i < label.length; ++i) {\n\t\t\t\t\t\t\t// We just make sure the multiline element is a string here..\n\t\t\t\t\t\t\tcontext.fillText('' + label[i], 0, y);\n\t\t\t\t\t\t\t// apply same lineSpacing as calculated @ L#320\n\t\t\t\t\t\t\ty += (tickFontSize * 1.5);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.fillText(label, 0, 0);\n\t\t\t\t\t}\n\t\t\t\t\tcontext.restore();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (scaleLabel.display) {\n\t\t\t\t// Draw the scale label\n\t\t\t\tvar scaleLabelX;\n\t\t\t\tvar scaleLabelY;\n\t\t\t\tvar rotation = 0;\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tscaleLabelX = me.left + ((me.right - me.left) / 2); // midpoint of the width\n\t\t\t\t\tscaleLabelY = options.position === 'bottom' ? me.bottom - (scaleLabelFontSize / 2) : me.top + (scaleLabelFontSize / 2);\n\t\t\t\t} else {\n\t\t\t\t\tvar isLeft = options.position === 'left';\n\t\t\t\t\tscaleLabelX = isLeft ? me.left + (scaleLabelFontSize / 2) : me.right - (scaleLabelFontSize / 2);\n\t\t\t\t\tscaleLabelY = me.top + ((me.bottom - me.top) / 2);\n\t\t\t\t\trotation = isLeft ? -0.5 * Math.PI : 0.5 * Math.PI;\n\t\t\t\t}\n\n\t\t\t\tcontext.save();\n\t\t\t\tcontext.translate(scaleLabelX, scaleLabelY);\n\t\t\t\tcontext.rotate(rotation);\n\t\t\t\tcontext.textAlign = 'center';\n\t\t\t\tcontext.textBaseline = 'middle';\n\t\t\t\tcontext.fillStyle = scaleLabelFontColor; // render in correct colour\n\t\t\t\tcontext.font = scaleLabelFont;\n\t\t\t\tcontext.fillText(scaleLabel.labelString, 0, 0);\n\t\t\t\tcontext.restore();\n\t\t\t}\n\n\t\t\tif (gridLines.drawBorder) {\n\t\t\t\t// Draw the line at the edge of the axis\n\t\t\t\tcontext.lineWidth = helpers.getValueAtIndexOrDefault(gridLines.lineWidth, 0);\n\t\t\t\tcontext.strokeStyle = helpers.getValueAtIndexOrDefault(gridLines.color, 0);\n\t\t\t\tvar x1 = me.left,\n\t\t\t\t\tx2 = me.right,\n\t\t\t\t\ty1 = me.top,\n\t\t\t\t\ty2 = me.bottom;\n\n\t\t\t\tvar aliasPixel = helpers.aliasPixel(context.lineWidth);\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\ty1 = y2 = options.position === 'top' ? me.bottom : me.top;\n\t\t\t\t\ty1 += aliasPixel;\n\t\t\t\t\ty2 += aliasPixel;\n\t\t\t\t} else {\n\t\t\t\t\tx1 = x2 = options.position === 'left' ? me.right : me.left;\n\t\t\t\t\tx1 += aliasPixel;\n\t\t\t\t\tx2 += aliasPixel;\n\t\t\t\t}\n\n\t\t\t\tcontext.beginPath();\n\t\t\t\tcontext.moveTo(x1, y1);\n\t\t\t\tcontext.lineTo(x2, y2);\n\t\t\t\tcontext.stroke();\n\t\t\t}\n\t\t}\n\t});\n};\n\n},{}],33:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.scaleService = {\n\t\t// Scale registration object. Extensions can register new scale types (such as log or DB scales) and then\n\t\t// use the new chart options to grab the correct scale\n\t\tconstructors: {},\n\t\t// Use a registration function so that we can move to an ES6 map when we no longer need to support\n\t\t// old browsers\n\n\t\t// Scale config defaults\n\t\tdefaults: {},\n\t\tregisterScaleType: function(type, scaleConstructor, defaults) {\n\t\t\tthis.constructors[type] = scaleConstructor;\n\t\t\tthis.defaults[type] = helpers.clone(defaults);\n\t\t},\n\t\tgetScaleConstructor: function(type) {\n\t\t\treturn this.constructors.hasOwnProperty(type) ? this.constructors[type] : undefined;\n\t\t},\n\t\tgetScaleDefaults: function(type) {\n\t\t\t// Return the scale defaults merged with the global settings so that we always use the latest ones\n\t\t\treturn this.defaults.hasOwnProperty(type) ? helpers.scaleMerge(Chart.defaults.scale, this.defaults[type]) : {};\n\t\t},\n\t\tupdateScaleDefaults: function(type, additions) {\n\t\t\tvar defaults = this.defaults;\n\t\t\tif (defaults.hasOwnProperty(type)) {\n\t\t\t\tdefaults[type] = helpers.extend(defaults[type], additions);\n\t\t\t}\n\t\t},\n\t\taddScalesToLayout: function(chartInstance) {\n\t\t\t// Adds each scale to the chart.boxes array to be sized accordingly\n\t\t\thelpers.each(chartInstance.scales, function(scale) {\n\t\t\t\tChart.layoutService.addBox(chartInstance, scale);\n\t\t\t});\n\t\t}\n\t};\n};\n\n},{}],34:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\t/**\n\t * Namespace to hold static tick generation functions\n\t * @namespace Chart.Ticks\n\t */\n\tChart.Ticks = {\n\t\t/**\n\t\t * Namespace to hold generators for different types of ticks\n\t\t * @namespace Chart.Ticks.generators\n\t\t */\n\t\tgenerators: {\n\t\t\t/**\n\t\t\t * Interface for the options provided to the numeric tick generator\n\t\t\t * @interface INumericTickGenerationOptions\n\t\t\t */\n\t\t\t/**\n\t\t\t * The maximum number of ticks to display\n\t\t\t * @name INumericTickGenerationOptions#maxTicks\n\t\t\t * @type Number\n\t\t\t */\n\t\t\t/**\n\t\t\t * The distance between each tick.\n\t\t\t * @name INumericTickGenerationOptions#stepSize\n\t\t\t * @type Number\n\t\t\t * @optional\n\t\t\t */\n\t\t\t/**\n\t\t\t * Forced minimum for the ticks. If not specified, the minimum of the data range is used to calculate the tick minimum\n\t\t\t * @name INumericTickGenerationOptions#min\n\t\t\t * @type Number\n\t\t\t * @optional\n\t\t\t */\n\t\t\t/**\n\t\t\t * The maximum value of the ticks. If not specified, the maximum of the data range is used to calculate the tick maximum\n\t\t\t * @name INumericTickGenerationOptions#max\n\t\t\t * @type Number\n\t\t\t * @optional\n\t\t\t */\n\n\t\t\t/**\n\t\t\t * Generate a set of linear ticks\n\t\t\t * @method Chart.Ticks.generators.linear\n\t\t\t * @param generationOptions {INumericTickGenerationOptions} the options used to generate the ticks\n\t\t\t * @param dataRange {IRange} the range of the data\n\t\t\t * @returns {Array<Number>} array of tick values\n\t\t\t */\n\t\t\tlinear: function(generationOptions, dataRange) {\n\t\t\t\tvar ticks = [];\n\t\t\t\t// To get a \"nice\" value for the tick spacing, we will use the appropriately named\n\t\t\t\t// \"nice number\" algorithm. See http://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\n\t\t\t\t// for details.\n\n\t\t\t\tvar spacing;\n\t\t\t\tif (generationOptions.stepSize && generationOptions.stepSize > 0) {\n\t\t\t\t\tspacing = generationOptions.stepSize;\n\t\t\t\t} else {\n\t\t\t\t\tvar niceRange = helpers.niceNum(dataRange.max - dataRange.min, false);\n\t\t\t\t\tspacing = helpers.niceNum(niceRange / (generationOptions.maxTicks - 1), true);\n\t\t\t\t}\n\t\t\t\tvar niceMin = Math.floor(dataRange.min / spacing) * spacing;\n\t\t\t\tvar niceMax = Math.ceil(dataRange.max / spacing) * spacing;\n\n\t\t\t\t// If min, max and stepSize is set and they make an evenly spaced scale use it.\n\t\t\t\tif (generationOptions.min && generationOptions.max && generationOptions.stepSize) {\n\t\t\t\t\tvar minMaxDeltaDivisibleByStepSize = ((generationOptions.max - generationOptions.min) % generationOptions.stepSize) === 0;\n\t\t\t\t\tif (minMaxDeltaDivisibleByStepSize) {\n\t\t\t\t\t\tniceMin = generationOptions.min;\n\t\t\t\t\t\tniceMax = generationOptions.max;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar numSpaces = (niceMax - niceMin) / spacing;\n\t\t\t\t// If very close to our rounded value, use it.\n\t\t\t\tif (helpers.almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n\t\t\t\t\tnumSpaces = Math.round(numSpaces);\n\t\t\t\t} else {\n\t\t\t\t\tnumSpaces = Math.ceil(numSpaces);\n\t\t\t\t}\n\n\t\t\t\t// Put the values into the ticks array\n\t\t\t\tticks.push(generationOptions.min !== undefined ? generationOptions.min : niceMin);\n\t\t\t\tfor (var j = 1; j < numSpaces; ++j) {\n\t\t\t\t\tticks.push(niceMin + (j * spacing));\n\t\t\t\t}\n\t\t\t\tticks.push(generationOptions.max !== undefined ? generationOptions.max : niceMax);\n\n\t\t\t\treturn ticks;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Generate a set of logarithmic ticks\n\t\t\t * @method Chart.Ticks.generators.logarithmic\n\t\t\t * @param generationOptions {INumericTickGenerationOptions} the options used to generate the ticks\n\t\t\t * @param dataRange {IRange} the range of the data\n\t\t\t * @returns {Array<Number>} array of tick values\n\t\t\t */\n\t\t\tlogarithmic: function(generationOptions, dataRange) {\n\t\t\t\tvar ticks = [];\n\t\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\n\t\t\t\t// Figure out what the max number of ticks we can support it is based on the size of\n\t\t\t\t// the axis area. For now, we say that the minimum tick spacing in pixels must be 50\n\t\t\t\t// We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n\t\t\t\t// the graph\n\t\t\t\tvar tickVal = getValueOrDefault(generationOptions.min, Math.pow(10, Math.floor(helpers.log10(dataRange.min))));\n\n\t\t\t\twhile (tickVal < dataRange.max) {\n\t\t\t\t\tticks.push(tickVal);\n\n\t\t\t\t\tvar exp;\n\t\t\t\t\tvar significand;\n\n\t\t\t\t\tif (tickVal === 0) {\n\t\t\t\t\t\texp = Math.floor(helpers.log10(dataRange.minNotZero));\n\t\t\t\t\t\tsignificand = Math.round(dataRange.minNotZero / Math.pow(10, exp));\n\t\t\t\t\t} else {\n\t\t\t\t\t\texp = Math.floor(helpers.log10(tickVal));\n\t\t\t\t\t\tsignificand = Math.floor(tickVal / Math.pow(10, exp)) + 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (significand === 10) {\n\t\t\t\t\t\tsignificand = 1;\n\t\t\t\t\t\t++exp;\n\t\t\t\t\t}\n\n\t\t\t\t\ttickVal = significand * Math.pow(10, exp);\n\t\t\t\t}\n\n\t\t\t\tvar lastTick = getValueOrDefault(generationOptions.max, tickVal);\n\t\t\t\tticks.push(lastTick);\n\n\t\t\t\treturn ticks;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Namespace to hold formatters for different types of ticks\n\t\t * @namespace Chart.Ticks.formatters\n\t\t */\n\t\tformatters: {\n\t\t\t/**\n\t\t\t * Formatter for value labels\n\t\t\t * @method Chart.Ticks.formatters.values\n\t\t\t * @param value the value to display\n\t\t\t * @return {String|Array} the label to display\n\t\t\t */\n\t\t\tvalues: function(value) {\n\t\t\t\treturn helpers.isArray(value) ? value : '' + value;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Formatter for linear numeric ticks\n\t\t\t * @method Chart.Ticks.formatters.linear\n\t\t\t * @param tickValue {Number} the value to be formatted\n\t\t\t * @param index {Number} the position of the tickValue parameter in the ticks array\n\t\t\t * @param ticks {Array<Number>} the list of ticks being converted\n\t\t\t * @return {String} string representation of the tickValue parameter\n\t\t\t */\n\t\t\tlinear: function(tickValue, index, ticks) {\n\t\t\t\t// If we have lots of ticks, don't use the ones\n\t\t\t\tvar delta = ticks.length > 3 ? ticks[2] - ticks[1] : ticks[1] - ticks[0];\n\n\t\t\t\t// If we have a number like 2.5 as the delta, figure out how many decimal places we need\n\t\t\t\tif (Math.abs(delta) > 1) {\n\t\t\t\t\tif (tickValue !== Math.floor(tickValue)) {\n\t\t\t\t\t\t// not an integer\n\t\t\t\t\t\tdelta = tickValue - Math.floor(tickValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar logDelta = helpers.log10(Math.abs(delta));\n\t\t\t\tvar tickString = '';\n\n\t\t\t\tif (tickValue !== 0) {\n\t\t\t\t\tvar numDecimal = -1 * Math.floor(logDelta);\n\t\t\t\t\tnumDecimal = Math.max(Math.min(numDecimal, 20), 0); // toFixed has a max of 20 decimal places\n\t\t\t\t\ttickString = tickValue.toFixed(numDecimal);\n\t\t\t\t} else {\n\t\t\t\t\ttickString = '0'; // never show decimal places for 0\n\t\t\t\t}\n\n\t\t\t\treturn tickString;\n\t\t\t},\n\n\t\t\tlogarithmic: function(tickValue, index, ticks) {\n\t\t\t\tvar remain = tickValue / (Math.pow(10, Math.floor(helpers.log10(tickValue))));\n\n\t\t\t\tif (tickValue === 0) {\n\t\t\t\t\treturn '0';\n\t\t\t\t} else if (remain === 1 || remain === 2 || remain === 5 || index === 0 || index === ticks.length - 1) {\n\t\t\t\t\treturn tickValue.toExponential();\n\t\t\t\t}\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t};\n};\n\n},{}],35:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.global.title = {\n\t\tdisplay: false,\n\t\tposition: 'top',\n\t\tfullWidth: true, // marks that this box should take the full width of the canvas (pushing down other boxes)\n\n\t\tfontStyle: 'bold',\n\t\tpadding: 10,\n\n\t\t// actual title\n\t\ttext: ''\n\t};\n\n\tvar noop = helpers.noop;\n\tChart.Title = Chart.Element.extend({\n\n\t\tinitialize: function(config) {\n\t\t\tvar me = this;\n\t\t\thelpers.extend(me, config);\n\t\t\tme.options = helpers.configMerge(Chart.defaults.global.title, config.options);\n\n\t\t\t// Contains hit boxes for each dataset (in dataset order)\n\t\t\tme.legendHitBoxes = [];\n\t\t},\n\n\t\t// These methods are ordered by lifecycle. Utilities then follow.\n\n\t\tbeforeUpdate: function() {\n\t\t\tvar chartOpts = this.chart.options;\n\t\t\tif (chartOpts && chartOpts.title) {\n\t\t\t\tthis.options = helpers.configMerge(Chart.defaults.global.title, chartOpts.title);\n\t\t\t}\n\t\t},\n\t\tupdate: function(maxWidth, maxHeight, margins) {\n\t\t\tvar me = this;\n\n\t\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n\t\t\tme.beforeUpdate();\n\n\t\t\t// Absorb the master measurements\n\t\t\tme.maxWidth = maxWidth;\n\t\t\tme.maxHeight = maxHeight;\n\t\t\tme.margins = margins;\n\n\t\t\t// Dimensions\n\t\t\tme.beforeSetDimensions();\n\t\t\tme.setDimensions();\n\t\t\tme.afterSetDimensions();\n\t\t\t// Labels\n\t\t\tme.beforeBuildLabels();\n\t\t\tme.buildLabels();\n\t\t\tme.afterBuildLabels();\n\n\t\t\t// Fit\n\t\t\tme.beforeFit();\n\t\t\tme.fit();\n\t\t\tme.afterFit();\n\t\t\t//\n\t\t\tme.afterUpdate();\n\n\t\t\treturn me.minSize;\n\n\t\t},\n\t\tafterUpdate: noop,\n\n\t\t//\n\n\t\tbeforeSetDimensions: noop,\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.width = me.maxWidth;\n\t\t\t\tme.left = 0;\n\t\t\t\tme.right = me.width;\n\t\t\t} else {\n\t\t\t\tme.height = me.maxHeight;\n\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.top = 0;\n\t\t\t\tme.bottom = me.height;\n\t\t\t}\n\n\t\t\t// Reset padding\n\t\t\tme.paddingLeft = 0;\n\t\t\tme.paddingTop = 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingBottom = 0;\n\n\t\t\t// Reset minSize\n\t\t\tme.minSize = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\t\t},\n\t\tafterSetDimensions: noop,\n\n\t\t//\n\n\t\tbeforeBuildLabels: noop,\n\t\tbuildLabels: noop,\n\t\tafterBuildLabels: noop,\n\n\t\t//\n\n\t\tbeforeFit: noop,\n\t\tfit: function() {\n\t\t\tvar me = this,\n\t\t\t\tvalueOrDefault = helpers.getValueOrDefault,\n\t\t\t\topts = me.options,\n\t\t\t\tglobalDefaults = Chart.defaults.global,\n\t\t\t\tdisplay = opts.display,\n\t\t\t\tfontSize = valueOrDefault(opts.fontSize, globalDefaults.defaultFontSize),\n\t\t\t\tminSize = me.minSize;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tminSize.width = me.maxWidth; // fill all the width\n\t\t\t\tminSize.height = display ? fontSize + (opts.padding * 2) : 0;\n\t\t\t} else {\n\t\t\t\tminSize.width = display ? fontSize + (opts.padding * 2) : 0;\n\t\t\t\tminSize.height = me.maxHeight; // fill all the height\n\t\t\t}\n\n\t\t\tme.width = minSize.width;\n\t\t\tme.height = minSize.height;\n\n\t\t},\n\t\tafterFit: noop,\n\n\t\t// Shared Methods\n\t\tisHorizontal: function() {\n\t\t\tvar pos = this.options.position;\n\t\t\treturn pos === 'top' || pos === 'bottom';\n\t\t},\n\n\t\t// Actually draw the title block on the canvas\n\t\tdraw: function() {\n\t\t\tvar me = this,\n\t\t\t\tctx = me.ctx,\n\t\t\t\tvalueOrDefault = helpers.getValueOrDefault,\n\t\t\t\topts = me.options,\n\t\t\t\tglobalDefaults = Chart.defaults.global;\n\n\t\t\tif (opts.display) {\n\t\t\t\tvar fontSize = valueOrDefault(opts.fontSize, globalDefaults.defaultFontSize),\n\t\t\t\t\tfontStyle = valueOrDefault(opts.fontStyle, globalDefaults.defaultFontStyle),\n\t\t\t\t\tfontFamily = valueOrDefault(opts.fontFamily, globalDefaults.defaultFontFamily),\n\t\t\t\t\ttitleFont = helpers.fontString(fontSize, fontStyle, fontFamily),\n\t\t\t\t\trotation = 0,\n\t\t\t\t\ttitleX,\n\t\t\t\t\ttitleY,\n\t\t\t\t\ttop = me.top,\n\t\t\t\t\tleft = me.left,\n\t\t\t\t\tbottom = me.bottom,\n\t\t\t\t\tright = me.right,\n\t\t\t\t\tmaxWidth;\n\n\t\t\t\tctx.fillStyle = valueOrDefault(opts.fontColor, globalDefaults.defaultFontColor); // render in correct colour\n\t\t\t\tctx.font = titleFont;\n\n\t\t\t\t// Horizontal\n\t\t\t\tif (me.isHorizontal()) {\n\t\t\t\t\ttitleX = left + ((right - left) / 2); // midpoint of the width\n\t\t\t\t\ttitleY = top + ((bottom - top) / 2); // midpoint of the height\n\t\t\t\t\tmaxWidth = right - left;\n\t\t\t\t} else {\n\t\t\t\t\ttitleX = opts.position === 'left' ? left + (fontSize / 2) : right - (fontSize / 2);\n\t\t\t\t\ttitleY = top + ((bottom - top) / 2);\n\t\t\t\t\tmaxWidth = bottom - top;\n\t\t\t\t\trotation = Math.PI * (opts.position === 'left' ? -0.5 : 0.5);\n\t\t\t\t}\n\n\t\t\t\tctx.save();\n\t\t\t\tctx.translate(titleX, titleY);\n\t\t\t\tctx.rotate(rotation);\n\t\t\t\tctx.textAlign = 'center';\n\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\tctx.fillText(opts.text, 0, 0, maxWidth);\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t});\n\n\t// Register the title plugin\n\tChart.plugins.register({\n\t\tbeforeInit: function(chartInstance) {\n\t\t\tvar opts = chartInstance.options;\n\t\t\tvar titleOpts = opts.title;\n\n\t\t\tif (titleOpts) {\n\t\t\t\tchartInstance.titleBlock = new Chart.Title({\n\t\t\t\t\tctx: chartInstance.chart.ctx,\n\t\t\t\t\toptions: titleOpts,\n\t\t\t\t\tchart: chartInstance\n\t\t\t\t});\n\n\t\t\t\tChart.layoutService.addBox(chartInstance, chartInstance.titleBlock);\n\t\t\t}\n\t\t}\n\t});\n};\n\n},{}],36:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\t/**\n \t * Helper method to merge the opacity into a color\n \t */\n\tfunction mergeOpacity(colorString, opacity) {\n\t\tvar color = helpers.color(colorString);\n\t\treturn color.alpha(opacity * color.alpha()).rgbaString();\n\t}\n\n\tChart.defaults.global.tooltips = {\n\t\tenabled: true,\n\t\tcustom: null,\n\t\tmode: 'nearest',\n\t\tposition: 'average',\n\t\tintersect: true,\n\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\n\t\ttitleFontStyle: 'bold',\n\t\ttitleSpacing: 2,\n\t\ttitleMarginBottom: 6,\n\t\ttitleFontColor: '#fff',\n\t\ttitleAlign: 'left',\n\t\tbodySpacing: 2,\n\t\tbodyFontColor: '#fff',\n\t\tbodyAlign: 'left',\n\t\tfooterFontStyle: 'bold',\n\t\tfooterSpacing: 2,\n\t\tfooterMarginTop: 6,\n\t\tfooterFontColor: '#fff',\n\t\tfooterAlign: 'left',\n\t\tyPadding: 6,\n\t\txPadding: 6,\n\t\tcaretSize: 5,\n\t\tcornerRadius: 6,\n\t\tmultiKeyBackground: '#fff',\n\t\tdisplayColors: true,\n\t\tcallbacks: {\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tbeforeTitle: helpers.noop,\n\t\t\ttitle: function(tooltipItems, data) {\n\t\t\t\t// Pick first xLabel for now\n\t\t\t\tvar title = '';\n\t\t\t\tvar labels = data.labels;\n\t\t\t\tvar labelCount = labels ? labels.length : 0;\n\n\t\t\t\tif (tooltipItems.length > 0) {\n\t\t\t\t\tvar item = tooltipItems[0];\n\n\t\t\t\t\tif (item.xLabel) {\n\t\t\t\t\t\ttitle = item.xLabel;\n\t\t\t\t\t} else if (labelCount > 0 && item.index < labelCount) {\n\t\t\t\t\t\ttitle = labels[item.index];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn title;\n\t\t\t},\n\t\t\tafterTitle: helpers.noop,\n\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tbeforeBody: helpers.noop,\n\n\t\t\t// Args are: (tooltipItem, data)\n\t\t\tbeforeLabel: helpers.noop,\n\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\tvar datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';\n\t\t\t\treturn datasetLabel + ': ' + tooltipItem.yLabel;\n\t\t\t},\n\t\t\tlabelColor: function(tooltipItem, chartInstance) {\n\t\t\t\tvar meta = chartInstance.getDatasetMeta(tooltipItem.datasetIndex);\n\t\t\t\tvar activeElement = meta.data[tooltipItem.index];\n\t\t\t\tvar view = activeElement._view;\n\t\t\t\treturn {\n\t\t\t\t\tborderColor: view.borderColor,\n\t\t\t\t\tbackgroundColor: view.backgroundColor\n\t\t\t\t};\n\t\t\t},\n\t\t\tafterLabel: helpers.noop,\n\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tafterBody: helpers.noop,\n\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tbeforeFooter: helpers.noop,\n\t\t\tfooter: helpers.noop,\n\t\t\tafterFooter: helpers.noop\n\t\t}\n\t};\n\n\t// Helper to push or concat based on if the 2nd parameter is an array or not\n\tfunction pushOrConcat(base, toPush) {\n\t\tif (toPush) {\n\t\t\tif (helpers.isArray(toPush)) {\n\t\t\t\t// base = base.concat(toPush);\n\t\t\t\tArray.prototype.push.apply(base, toPush);\n\t\t\t} else {\n\t\t\t\tbase.push(toPush);\n\t\t\t}\n\t\t}\n\n\t\treturn base;\n\t}\n\n\t// Private helper to create a tooltip item model\n\t// @param element : the chart element (point, arc, bar) to create the tooltip item for\n\t// @return : new tooltip item\n\tfunction createTooltipItem(element) {\n\t\tvar xScale = element._xScale;\n\t\tvar yScale = element._yScale || element._scale; // handle radar || polarArea charts\n\t\tvar index = element._index,\n\t\t\tdatasetIndex = element._datasetIndex;\n\n\t\treturn {\n\t\t\txLabel: xScale ? xScale.getLabelForIndex(index, datasetIndex) : '',\n\t\t\tyLabel: yScale ? yScale.getLabelForIndex(index, datasetIndex) : '',\n\t\t\tindex: index,\n\t\t\tdatasetIndex: datasetIndex,\n\t\t\tx: element._model.x,\n\t\t\ty: element._model.y\n\t\t};\n\t}\n\n\t/**\n\t * Helper to get the reset model for the tooltip\n\t * @param tooltipOpts {Object} the tooltip options\n\t */\n\tfunction getBaseModel(tooltipOpts) {\n\t\tvar globalDefaults = Chart.defaults.global;\n\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\n\t\treturn {\n\t\t\t// Positioning\n\t\t\txPadding: tooltipOpts.xPadding,\n\t\t\tyPadding: tooltipOpts.yPadding,\n\t\t\txAlign: tooltipOpts.xAlign,\n\t\t\tyAlign: tooltipOpts.yAlign,\n\n\t\t\t// Body\n\t\t\tbodyFontColor: tooltipOpts.bodyFontColor,\n\t\t\t_bodyFontFamily: getValueOrDefault(tooltipOpts.bodyFontFamily, globalDefaults.defaultFontFamily),\n\t\t\t_bodyFontStyle: getValueOrDefault(tooltipOpts.bodyFontStyle, globalDefaults.defaultFontStyle),\n\t\t\t_bodyAlign: tooltipOpts.bodyAlign,\n\t\t\tbodyFontSize: getValueOrDefault(tooltipOpts.bodyFontSize, globalDefaults.defaultFontSize),\n\t\t\tbodySpacing: tooltipOpts.bodySpacing,\n\n\t\t\t// Title\n\t\t\ttitleFontColor: tooltipOpts.titleFontColor,\n\t\t\t_titleFontFamily: getValueOrDefault(tooltipOpts.titleFontFamily, globalDefaults.defaultFontFamily),\n\t\t\t_titleFontStyle: getValueOrDefault(tooltipOpts.titleFontStyle, globalDefaults.defaultFontStyle),\n\t\t\ttitleFontSize: getValueOrDefault(tooltipOpts.titleFontSize, globalDefaults.defaultFontSize),\n\t\t\t_titleAlign: tooltipOpts.titleAlign,\n\t\t\ttitleSpacing: tooltipOpts.titleSpacing,\n\t\t\ttitleMarginBottom: tooltipOpts.titleMarginBottom,\n\n\t\t\t// Footer\n\t\t\tfooterFontColor: tooltipOpts.footerFontColor,\n\t\t\t_footerFontFamily: getValueOrDefault(tooltipOpts.footerFontFamily, globalDefaults.defaultFontFamily),\n\t\t\t_footerFontStyle: getValueOrDefault(tooltipOpts.footerFontStyle, globalDefaults.defaultFontStyle),\n\t\t\tfooterFontSize: getValueOrDefault(tooltipOpts.footerFontSize, globalDefaults.defaultFontSize),\n\t\t\t_footerAlign: tooltipOpts.footerAlign,\n\t\t\tfooterSpacing: tooltipOpts.footerSpacing,\n\t\t\tfooterMarginTop: tooltipOpts.footerMarginTop,\n\n\t\t\t// Appearance\n\t\t\tcaretSize: tooltipOpts.caretSize,\n\t\t\tcornerRadius: tooltipOpts.cornerRadius,\n\t\t\tbackgroundColor: tooltipOpts.backgroundColor,\n\t\t\topacity: 0,\n\t\t\tlegendColorBackground: tooltipOpts.multiKeyBackground,\n\t\t\tdisplayColors: tooltipOpts.displayColors\n\t\t};\n\t}\n\n\t/**\n\t * Get the size of the tooltip\n\t */\n\tfunction getTooltipSize(tooltip, model) {\n\t\tvar ctx = tooltip._chart.ctx;\n\n\t\tvar height = model.yPadding * 2; // Tooltip Padding\n\t\tvar width = 0;\n\n\t\t// Count of all lines in the body\n\t\tvar body = model.body;\n\t\tvar combinedBodyLength = body.reduce(function(count, bodyItem) {\n\t\t\treturn count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length;\n\t\t}, 0);\n\t\tcombinedBodyLength += model.beforeBody.length + model.afterBody.length;\n\n\t\tvar titleLineCount = model.title.length;\n\t\tvar footerLineCount = model.footer.length;\n\t\tvar titleFontSize = model.titleFontSize,\n\t\t\tbodyFontSize = model.bodyFontSize,\n\t\t\tfooterFontSize = model.footerFontSize;\n\n\t\theight += titleLineCount * titleFontSize; // Title Lines\n\t\theight += titleLineCount ? (titleLineCount - 1) * model.titleSpacing : 0; // Title Line Spacing\n\t\theight += titleLineCount ? model.titleMarginBottom : 0; // Title's bottom Margin\n\t\theight += combinedBodyLength * bodyFontSize; // Body Lines\n\t\theight += combinedBodyLength ? (combinedBodyLength - 1) * model.bodySpacing : 0; // Body Line Spacing\n\t\theight += footerLineCount ? model.footerMarginTop : 0; // Footer Margin\n\t\theight += footerLineCount * (footerFontSize); // Footer Lines\n\t\theight += footerLineCount ? (footerLineCount - 1) * model.footerSpacing : 0; // Footer Line Spacing\n\n\t\t// Title width\n\t\tvar widthPadding = 0;\n\t\tvar maxLineWidth = function(line) {\n\t\t\twidth = Math.max(width, ctx.measureText(line).width + widthPadding);\n\t\t};\n\n\t\tctx.font = helpers.fontString(titleFontSize, model._titleFontStyle, model._titleFontFamily);\n\t\thelpers.each(model.title, maxLineWidth);\n\n\t\t// Body width\n\t\tctx.font = helpers.fontString(bodyFontSize, model._bodyFontStyle, model._bodyFontFamily);\n\t\thelpers.each(model.beforeBody.concat(model.afterBody), maxLineWidth);\n\n\t\t// Body lines may include some extra width due to the color box\n\t\twidthPadding = model.displayColors ? (bodyFontSize + 2) : 0;\n\t\thelpers.each(body, function(bodyItem) {\n\t\t\thelpers.each(bodyItem.before, maxLineWidth);\n\t\t\thelpers.each(bodyItem.lines, maxLineWidth);\n\t\t\thelpers.each(bodyItem.after, maxLineWidth);\n\t\t});\n\n\t\t// Reset back to 0\n\t\twidthPadding = 0;\n\n\t\t// Footer width\n\t\tctx.font = helpers.fontString(footerFontSize, model._footerFontStyle, model._footerFontFamily);\n\t\thelpers.each(model.footer, maxLineWidth);\n\n\t\t// Add padding\n\t\twidth += 2 * model.xPadding;\n\n\t\treturn {\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t}\n\n\t/**\n\t * Helper to get the alignment of a tooltip given the size\n\t */\n\tfunction determineAlignment(tooltip, size) {\n\t\tvar model = tooltip._model;\n\t\tvar chart = tooltip._chart;\n\t\tvar chartArea = tooltip._chartInstance.chartArea;\n\t\tvar xAlign = 'center';\n\t\tvar yAlign = 'center';\n\n\t\tif (model.y < size.height) {\n\t\t\tyAlign = 'top';\n\t\t} else if (model.y > (chart.height - size.height)) {\n\t\t\tyAlign = 'bottom';\n\t\t}\n\n\t\tvar lf, rf; // functions to determine left, right alignment\n\t\tvar olf, orf; // functions to determine if left/right alignment causes tooltip to go outside chart\n\t\tvar yf; // function to get the y alignment if the tooltip goes outside of the left or right edges\n\t\tvar midX = (chartArea.left + chartArea.right) / 2;\n\t\tvar midY = (chartArea.top + chartArea.bottom) / 2;\n\n\t\tif (yAlign === 'center') {\n\t\t\tlf = function(x) {\n\t\t\t\treturn x <= midX;\n\t\t\t};\n\t\t\trf = function(x) {\n\t\t\t\treturn x > midX;\n\t\t\t};\n\t\t} else {\n\t\t\tlf = function(x) {\n\t\t\t\treturn x <= (size.width / 2);\n\t\t\t};\n\t\t\trf = function(x) {\n\t\t\t\treturn x >= (chart.width - (size.width / 2));\n\t\t\t};\n\t\t}\n\n\t\tolf = function(x) {\n\t\t\treturn x + size.width > chart.width;\n\t\t};\n\t\torf = function(x) {\n\t\t\treturn x - size.width < 0;\n\t\t};\n\t\tyf = function(y) {\n\t\t\treturn y <= midY ? 'top' : 'bottom';\n\t\t};\n\n\t\tif (lf(model.x)) {\n\t\t\txAlign = 'left';\n\n\t\t\t// Is tooltip too wide and goes over the right side of the chart.?\n\t\t\tif (olf(model.x)) {\n\t\t\t\txAlign = 'center';\n\t\t\t\tyAlign = yf(model.y);\n\t\t\t}\n\t\t} else if (rf(model.x)) {\n\t\t\txAlign = 'right';\n\n\t\t\t// Is tooltip too wide and goes outside left edge of canvas?\n\t\t\tif (orf(model.x)) {\n\t\t\t\txAlign = 'center';\n\t\t\t\tyAlign = yf(model.y);\n\t\t\t}\n\t\t}\n\n\t\tvar opts = tooltip._options;\n\t\treturn {\n\t\t\txAlign: opts.xAlign ? opts.xAlign : xAlign,\n\t\t\tyAlign: opts.yAlign ? opts.yAlign : yAlign\n\t\t};\n\t}\n\n\t/**\n\t * @Helper to get the location a tooltip needs to be placed at given the initial position (via the vm) and the size and alignment\n\t */\n\tfunction getBackgroundPoint(vm, size, alignment) {\n\t\t// Background Position\n\t\tvar x = vm.x;\n\t\tvar y = vm.y;\n\n\t\tvar caretSize = vm.caretSize,\n\t\t\tcaretPadding = vm.caretPadding,\n\t\t\tcornerRadius = vm.cornerRadius,\n\t\t\txAlign = alignment.xAlign,\n\t\t\tyAlign = alignment.yAlign,\n\t\t\tpaddingAndSize = caretSize + caretPadding,\n\t\t\tradiusAndPadding = cornerRadius + caretPadding;\n\n\t\tif (xAlign === 'right') {\n\t\t\tx -= size.width;\n\t\t} else if (xAlign === 'center') {\n\t\t\tx -= (size.width / 2);\n\t\t}\n\n\t\tif (yAlign === 'top') {\n\t\t\ty += paddingAndSize;\n\t\t} else if (yAlign === 'bottom') {\n\t\t\ty -= size.height + paddingAndSize;\n\t\t} else {\n\t\t\ty -= (size.height / 2);\n\t\t}\n\n\t\tif (yAlign === 'center') {\n\t\t\tif (xAlign === 'left') {\n\t\t\t\tx += paddingAndSize;\n\t\t\t} else if (xAlign === 'right') {\n\t\t\t\tx -= paddingAndSize;\n\t\t\t}\n\t\t} else if (xAlign === 'left') {\n\t\t\tx -= radiusAndPadding;\n\t\t} else if (xAlign === 'right') {\n\t\t\tx += radiusAndPadding;\n\t\t}\n\n\t\treturn {\n\t\t\tx: x,\n\t\t\ty: y\n\t\t};\n\t}\n\n\tChart.Tooltip = Chart.Element.extend({\n\t\tinitialize: function() {\n\t\t\tthis._model = getBaseModel(this._options);\n\t\t},\n\n\t\t// Get the title\n\t\t// Args are: (tooltipItem, data)\n\t\tgetTitle: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me._options;\n\t\t\tvar callbacks = opts.callbacks;\n\n\t\t\tvar beforeTitle = callbacks.beforeTitle.apply(me, arguments),\n\t\t\t\ttitle = callbacks.title.apply(me, arguments),\n\t\t\t\tafterTitle = callbacks.afterTitle.apply(me, arguments);\n\n\t\t\tvar lines = [];\n\t\t\tlines = pushOrConcat(lines, beforeTitle);\n\t\t\tlines = pushOrConcat(lines, title);\n\t\t\tlines = pushOrConcat(lines, afterTitle);\n\n\t\t\treturn lines;\n\t\t},\n\n\t\t// Args are: (tooltipItem, data)\n\t\tgetBeforeBody: function() {\n\t\t\tvar lines = this._options.callbacks.beforeBody.apply(this, arguments);\n\t\t\treturn helpers.isArray(lines) ? lines : lines !== undefined ? [lines] : [];\n\t\t},\n\n\t\t// Args are: (tooltipItem, data)\n\t\tgetBody: function(tooltipItems, data) {\n\t\t\tvar me = this;\n\t\t\tvar callbacks = me._options.callbacks;\n\t\t\tvar bodyItems = [];\n\n\t\t\thelpers.each(tooltipItems, function(tooltipItem) {\n\t\t\t\tvar bodyItem = {\n\t\t\t\t\tbefore: [],\n\t\t\t\t\tlines: [],\n\t\t\t\t\tafter: []\n\t\t\t\t};\n\t\t\t\tpushOrConcat(bodyItem.before, callbacks.beforeLabel.call(me, tooltipItem, data));\n\t\t\t\tpushOrConcat(bodyItem.lines, callbacks.label.call(me, tooltipItem, data));\n\t\t\t\tpushOrConcat(bodyItem.after, callbacks.afterLabel.call(me, tooltipItem, data));\n\n\t\t\t\tbodyItems.push(bodyItem);\n\t\t\t});\n\n\t\t\treturn bodyItems;\n\t\t},\n\n\t\t// Args are: (tooltipItem, data)\n\t\tgetAfterBody: function() {\n\t\t\tvar lines = this._options.callbacks.afterBody.apply(this, arguments);\n\t\t\treturn helpers.isArray(lines) ? lines : lines !== undefined ? [lines] : [];\n\t\t},\n\n\t\t// Get the footer and beforeFooter and afterFooter lines\n\t\t// Args are: (tooltipItem, data)\n\t\tgetFooter: function() {\n\t\t\tvar me = this;\n\t\t\tvar callbacks = me._options.callbacks;\n\n\t\t\tvar beforeFooter = callbacks.beforeFooter.apply(me, arguments);\n\t\t\tvar footer = callbacks.footer.apply(me, arguments);\n\t\t\tvar afterFooter = callbacks.afterFooter.apply(me, arguments);\n\n\t\t\tvar lines = [];\n\t\t\tlines = pushOrConcat(lines, beforeFooter);\n\t\t\tlines = pushOrConcat(lines, footer);\n\t\t\tlines = pushOrConcat(lines, afterFooter);\n\n\t\t\treturn lines;\n\t\t},\n\n\t\tupdate: function(changed) {\n\t\t\tvar me = this;\n\t\t\tvar opts = me._options;\n\n\t\t\t// Need to regenerate the model because its faster than using extend and it is necessary due to the optimization in Chart.Element.transition\n\t\t\t// that does _view = _model if ease === 1. This causes the 2nd tooltip update to set properties in both the view and model at the same time\n\t\t\t// which breaks any animations.\n\t\t\tvar existingModel = me._model;\n\t\t\tvar model = me._model = getBaseModel(opts);\n\t\t\tvar active = me._active;\n\n\t\t\tvar data = me._data;\n\t\t\tvar chartInstance = me._chartInstance;\n\n\t\t\t// In the case where active.length === 0 we need to keep these at existing values for good animations\n\t\t\tvar alignment = {\n\t\t\t\txAlign: existingModel.xAlign,\n\t\t\t\tyAlign: existingModel.yAlign\n\t\t\t};\n\t\t\tvar backgroundPoint = {\n\t\t\t\tx: existingModel.x,\n\t\t\t\ty: existingModel.y\n\t\t\t};\n\t\t\tvar tooltipSize = {\n\t\t\t\twidth: existingModel.width,\n\t\t\t\theight: existingModel.height\n\t\t\t};\n\t\t\tvar tooltipPosition = {\n\t\t\t\tx: existingModel.caretX,\n\t\t\t\ty: existingModel.caretY\n\t\t\t};\n\n\t\t\tvar i, len;\n\n\t\t\tif (active.length) {\n\t\t\t\tmodel.opacity = 1;\n\n\t\t\t\tvar labelColors = [];\n\t\t\t\ttooltipPosition = Chart.Tooltip.positioners[opts.position](active, me._eventPosition);\n\n\t\t\t\tvar tooltipItems = [];\n\t\t\t\tfor (i = 0, len = active.length; i < len; ++i) {\n\t\t\t\t\ttooltipItems.push(createTooltipItem(active[i]));\n\t\t\t\t}\n\n\t\t\t\t// If the user provided a filter function, use it to modify the tooltip items\n\t\t\t\tif (opts.filter) {\n\t\t\t\t\ttooltipItems = tooltipItems.filter(function(a) {\n\t\t\t\t\t\treturn opts.filter(a, data);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// If the user provided a sorting function, use it to modify the tooltip items\n\t\t\t\tif (opts.itemSort) {\n\t\t\t\t\ttooltipItems = tooltipItems.sort(function(a, b) {\n\t\t\t\t\t\treturn opts.itemSort(a, b, data);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Determine colors for boxes\n\t\t\t\thelpers.each(tooltipItems, function(tooltipItem) {\n\t\t\t\t\tlabelColors.push(opts.callbacks.labelColor.call(me, tooltipItem, chartInstance));\n\t\t\t\t});\n\n\t\t\t\t// Build the Text Lines\n\t\t\t\tmodel.title = me.getTitle(tooltipItems, data);\n\t\t\t\tmodel.beforeBody = me.getBeforeBody(tooltipItems, data);\n\t\t\t\tmodel.body = me.getBody(tooltipItems, data);\n\t\t\t\tmodel.afterBody = me.getAfterBody(tooltipItems, data);\n\t\t\t\tmodel.footer = me.getFooter(tooltipItems, data);\n\n\t\t\t\t// Initial positioning and colors\n\t\t\t\tmodel.x = Math.round(tooltipPosition.x);\n\t\t\t\tmodel.y = Math.round(tooltipPosition.y);\n\t\t\t\tmodel.caretPadding = helpers.getValueOrDefault(tooltipPosition.padding, 2);\n\t\t\t\tmodel.labelColors = labelColors;\n\n\t\t\t\t// data points\n\t\t\t\tmodel.dataPoints = tooltipItems;\n\n\t\t\t\t// We need to determine alignment of the tooltip\n\t\t\t\ttooltipSize = getTooltipSize(this, model);\n\t\t\t\talignment = determineAlignment(this, tooltipSize);\n\t\t\t\t// Final Size and Position\n\t\t\t\tbackgroundPoint = getBackgroundPoint(model, tooltipSize, alignment);\n\t\t\t} else {\n\t\t\t\tmodel.opacity = 0;\n\t\t\t}\n\n\t\t\tmodel.xAlign = alignment.xAlign;\n\t\t\tmodel.yAlign = alignment.yAlign;\n\t\t\tmodel.x = backgroundPoint.x;\n\t\t\tmodel.y = backgroundPoint.y;\n\t\t\tmodel.width = tooltipSize.width;\n\t\t\tmodel.height = tooltipSize.height;\n\n\t\t\t// Point where the caret on the tooltip points to\n\t\t\tmodel.caretX = tooltipPosition.x;\n\t\t\tmodel.caretY = tooltipPosition.y;\n\n\t\t\tme._model = model;\n\n\t\t\tif (changed && opts.custom) {\n\t\t\t\topts.custom.call(me, model);\n\t\t\t}\n\n\t\t\treturn me;\n\t\t},\n\t\tdrawCaret: function(tooltipPoint, size, opacity) {\n\t\t\tvar vm = this._view;\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar x1, x2, x3;\n\t\t\tvar y1, y2, y3;\n\t\t\tvar caretSize = vm.caretSize;\n\t\t\tvar cornerRadius = vm.cornerRadius;\n\t\t\tvar xAlign = vm.xAlign,\n\t\t\t\tyAlign = vm.yAlign;\n\t\t\tvar ptX = tooltipPoint.x,\n\t\t\t\tptY = tooltipPoint.y;\n\t\t\tvar width = size.width,\n\t\t\t\theight = size.height;\n\n\t\t\tif (yAlign === 'center') {\n\t\t\t\t// Left or right side\n\t\t\t\tif (xAlign === 'left') {\n\t\t\t\t\tx1 = ptX;\n\t\t\t\t\tx2 = x1 - caretSize;\n\t\t\t\t\tx3 = x1;\n\t\t\t\t} else {\n\t\t\t\t\tx1 = ptX + width;\n\t\t\t\t\tx2 = x1 + caretSize;\n\t\t\t\t\tx3 = x1;\n\t\t\t\t}\n\n\t\t\t\ty2 = ptY + (height / 2);\n\t\t\t\ty1 = y2 - caretSize;\n\t\t\t\ty3 = y2 + caretSize;\n\t\t\t} else {\n\t\t\t\tif (xAlign === 'left') {\n\t\t\t\t\tx1 = ptX + cornerRadius;\n\t\t\t\t\tx2 = x1 + caretSize;\n\t\t\t\t\tx3 = x2 + caretSize;\n\t\t\t\t} else if (xAlign === 'right') {\n\t\t\t\t\tx1 = ptX + width - cornerRadius;\n\t\t\t\t\tx2 = x1 - caretSize;\n\t\t\t\t\tx3 = x2 - caretSize;\n\t\t\t\t} else {\n\t\t\t\t\tx2 = ptX + (width / 2);\n\t\t\t\t\tx1 = x2 - caretSize;\n\t\t\t\t\tx3 = x2 + caretSize;\n\t\t\t\t}\n\n\t\t\t\tif (yAlign === 'top') {\n\t\t\t\t\ty1 = ptY;\n\t\t\t\t\ty2 = y1 - caretSize;\n\t\t\t\t\ty3 = y1;\n\t\t\t\t} else {\n\t\t\t\t\ty1 = ptY + height;\n\t\t\t\t\ty2 = y1 + caretSize;\n\t\t\t\t\ty3 = y1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tctx.fillStyle = mergeOpacity(vm.backgroundColor, opacity);\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x1, y1);\n\t\t\tctx.lineTo(x2, y2);\n\t\t\tctx.lineTo(x3, y3);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t},\n\t\tdrawTitle: function(pt, vm, ctx, opacity) {\n\t\t\tvar title = vm.title;\n\n\t\t\tif (title.length) {\n\t\t\t\tctx.textAlign = vm._titleAlign;\n\t\t\t\tctx.textBaseline = 'top';\n\n\t\t\t\tvar titleFontSize = vm.titleFontSize,\n\t\t\t\t\ttitleSpacing = vm.titleSpacing;\n\n\t\t\t\tctx.fillStyle = mergeOpacity(vm.titleFontColor, opacity);\n\t\t\t\tctx.font = helpers.fontString(titleFontSize, vm._titleFontStyle, vm._titleFontFamily);\n\n\t\t\t\tvar i, len;\n\t\t\t\tfor (i = 0, len = title.length; i < len; ++i) {\n\t\t\t\t\tctx.fillText(title[i], pt.x, pt.y);\n\t\t\t\t\tpt.y += titleFontSize + titleSpacing; // Line Height and spacing\n\n\t\t\t\t\tif (i + 1 === title.length) {\n\t\t\t\t\t\tpt.y += vm.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdrawBody: function(pt, vm, ctx, opacity) {\n\t\t\tvar bodyFontSize = vm.bodyFontSize;\n\t\t\tvar bodySpacing = vm.bodySpacing;\n\t\t\tvar body = vm.body;\n\n\t\t\tctx.textAlign = vm._bodyAlign;\n\t\t\tctx.textBaseline = 'top';\n\n\t\t\tvar textColor = mergeOpacity(vm.bodyFontColor, opacity);\n\t\t\tctx.fillStyle = textColor;\n\t\t\tctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\n\n\t\t\t// Before Body\n\t\t\tvar xLinePadding = 0;\n\t\t\tvar fillLineOfText = function(line) {\n\t\t\t\tctx.fillText(line, pt.x + xLinePadding, pt.y);\n\t\t\t\tpt.y += bodyFontSize + bodySpacing;\n\t\t\t};\n\n\t\t\t// Before body lines\n\t\t\thelpers.each(vm.beforeBody, fillLineOfText);\n\n\t\t\tvar drawColorBoxes = vm.displayColors;\n\t\t\txLinePadding = drawColorBoxes ? (bodyFontSize + 2) : 0;\n\n\t\t\t// Draw body lines now\n\t\t\thelpers.each(body, function(bodyItem, i) {\n\t\t\t\thelpers.each(bodyItem.before, fillLineOfText);\n\n\t\t\t\thelpers.each(bodyItem.lines, function(line) {\n\t\t\t\t\t// Draw Legend-like boxes if needed\n\t\t\t\t\tif (drawColorBoxes) {\n\t\t\t\t\t\t// Fill a white rect so that colours merge nicely if the opacity is < 1\n\t\t\t\t\t\tctx.fillStyle = mergeOpacity(vm.legendColorBackground, opacity);\n\t\t\t\t\t\tctx.fillRect(pt.x, pt.y, bodyFontSize, bodyFontSize);\n\n\t\t\t\t\t\t// Border\n\t\t\t\t\t\tctx.strokeStyle = mergeOpacity(vm.labelColors[i].borderColor, opacity);\n\t\t\t\t\t\tctx.strokeRect(pt.x, pt.y, bodyFontSize, bodyFontSize);\n\n\t\t\t\t\t\t// Inner square\n\t\t\t\t\t\tctx.fillStyle = mergeOpacity(vm.labelColors[i].backgroundColor, opacity);\n\t\t\t\t\t\tctx.fillRect(pt.x + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\n\n\t\t\t\t\t\tctx.fillStyle = textColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tfillLineOfText(line);\n\t\t\t\t});\n\n\t\t\t\thelpers.each(bodyItem.after, fillLineOfText);\n\t\t\t});\n\n\t\t\t// Reset back to 0 for after body\n\t\t\txLinePadding = 0;\n\n\t\t\t// After body lines\n\t\t\thelpers.each(vm.afterBody, fillLineOfText);\n\t\t\tpt.y -= bodySpacing; // Remove last body spacing\n\t\t},\n\t\tdrawFooter: function(pt, vm, ctx, opacity) {\n\t\t\tvar footer = vm.footer;\n\n\t\t\tif (footer.length) {\n\t\t\t\tpt.y += vm.footerMarginTop;\n\n\t\t\t\tctx.textAlign = vm._footerAlign;\n\t\t\t\tctx.textBaseline = 'top';\n\n\t\t\t\tctx.fillStyle = mergeOpacity(vm.footerFontColor, opacity);\n\t\t\t\tctx.font = helpers.fontString(vm.footerFontSize, vm._footerFontStyle, vm._footerFontFamily);\n\n\t\t\t\thelpers.each(footer, function(line) {\n\t\t\t\t\tctx.fillText(line, pt.x, pt.y);\n\t\t\t\t\tpt.y += vm.footerFontSize + vm.footerSpacing;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tdrawBackground: function(pt, vm, ctx, tooltipSize, opacity) {\n\t\t\tctx.fillStyle = mergeOpacity(vm.backgroundColor, opacity);\n\t\t\thelpers.drawRoundedRectangle(ctx, pt.x, pt.y, tooltipSize.width, tooltipSize.height, vm.cornerRadius);\n\t\t\tctx.fill();\n\t\t},\n\t\tdraw: function() {\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar vm = this._view;\n\n\t\t\tif (vm.opacity === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar tooltipSize = {\n\t\t\t\twidth: vm.width,\n\t\t\t\theight: vm.height\n\t\t\t};\n\t\t\tvar pt = {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y\n\t\t\t};\n\n\t\t\t// IE11/Edge does not like very small opacities, so snap to 0\n\t\t\tvar opacity = Math.abs(vm.opacity < 1e-3) ? 0 : vm.opacity;\n\n\t\t\tif (this._options.enabled) {\n\t\t\t\t// Draw Background\n\t\t\t\tthis.drawBackground(pt, vm, ctx, tooltipSize, opacity);\n\n\t\t\t\t// Draw Caret\n\t\t\t\tthis.drawCaret(pt, tooltipSize, opacity);\n\n\t\t\t\t// Draw Title, Body, and Footer\n\t\t\t\tpt.x += vm.xPadding;\n\t\t\t\tpt.y += vm.yPadding;\n\n\t\t\t\t// Titles\n\t\t\t\tthis.drawTitle(pt, vm, ctx, opacity);\n\n\t\t\t\t// Body\n\t\t\t\tthis.drawBody(pt, vm, ctx, opacity);\n\n\t\t\t\t// Footer\n\t\t\t\tthis.drawFooter(pt, vm, ctx, opacity);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Handle an event\n\t\t * @private\n\t\t * @param e {Event} the event to handle\n\t\t * @returns {Boolean} true if the tooltip changed\n\t\t */\n\t\thandleEvent: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar options = me._options;\n\t\t\tvar changed = false;\n\n\t\t\tme._lastActive = me._lastActive || [];\n\n\t\t\t// Find Active Elements for tooltips\n\t\t\tif (e.type === 'mouseout') {\n\t\t\t\tme._active = [];\n\t\t\t} else {\n\t\t\t\tme._active = me._chartInstance.getElementsAtEventForMode(e, options.mode, options);\n\t\t\t}\n\n\t\t\t// Remember Last Actives\n\t\t\tchanged = !helpers.arrayEquals(me._active, me._lastActive);\n\t\t\tme._lastActive = me._active;\n\n\t\t\tif (options.enabled || options.custom) {\n\t\t\t\tme._eventPosition = helpers.getRelativePosition(e, me._chart);\n\n\t\t\t\tvar model = me._model;\n\t\t\t\tme.update(true);\n\t\t\t\tme.pivot();\n\n\t\t\t\t// See if our tooltip position changed\n\t\t\t\tchanged |= (model.x !== me._model.x) || (model.y !== me._model.y);\n\t\t\t}\n\n\t\t\treturn changed;\n\t\t}\n\t});\n\n\t/**\n\t * @namespace Chart.Tooltip.positioners\n\t */\n\tChart.Tooltip.positioners = {\n\t\t/**\n\t\t * Average mode places the tooltip at the average position of the elements shown\n\t\t * @function Chart.Tooltip.positioners.average\n\t\t * @param elements {ChartElement[]} the elements being displayed in the tooltip\n\t\t * @returns {Point} tooltip position\n\t\t */\n\t\taverage: function(elements) {\n\t\t\tif (!elements.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar i, len;\n\t\t\tvar x = 0;\n\t\t\tvar y = 0;\n\t\t\tvar count = 0;\n\n\t\t\tfor (i = 0, len = elements.length; i < len; ++i) {\n\t\t\t\tvar el = elements[i];\n\t\t\t\tif (el && el.hasValue()) {\n\t\t\t\t\tvar pos = el.tooltipPosition();\n\t\t\t\t\tx += pos.x;\n\t\t\t\t\ty += pos.y;\n\t\t\t\t\t++count;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: Math.round(x / count),\n\t\t\t\ty: Math.round(y / count)\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Gets the tooltip position nearest of the item nearest to the event position\n\t\t * @function Chart.Tooltip.positioners.nearest\n\t\t * @param elements {Chart.Element[]} the tooltip elements\n\t\t * @param eventPosition {Point} the position of the event in canvas coordinates\n\t\t * @returns {Point} the tooltip position\n\t\t */\n\t\tnearest: function(elements, eventPosition) {\n\t\t\tvar x = eventPosition.x;\n\t\t\tvar y = eventPosition.y;\n\n\t\t\tvar nearestElement;\n\t\t\tvar minDistance = Number.POSITIVE_INFINITY;\n\t\t\tvar i, len;\n\t\t\tfor (i = 0, len = elements.length; i < len; ++i) {\n\t\t\t\tvar el = elements[i];\n\t\t\t\tif (el && el.hasValue()) {\n\t\t\t\t\tvar center = el.getCenterPoint();\n\t\t\t\t\tvar d = helpers.distanceBetweenPoints(eventPosition, center);\n\n\t\t\t\t\tif (d < minDistance) {\n\t\t\t\t\t\tminDistance = d;\n\t\t\t\t\t\tnearestElement = el;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (nearestElement) {\n\t\t\t\tvar tp = nearestElement.tooltipPosition();\n\t\t\t\tx = tp.x;\n\t\t\t\ty = tp.y;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t}\n\t};\n};\n\n},{}],37:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tglobalOpts = Chart.defaults.global;\n\n\tglobalOpts.elements.arc = {\n\t\tbackgroundColor: globalOpts.defaultColor,\n\t\tborderColor: '#fff',\n\t\tborderWidth: 2\n\t};\n\n\tChart.elements.Arc = Chart.Element.extend({\n\t\tinLabelRange: function(mouseX) {\n\t\t\tvar vm = this._view;\n\n\t\t\tif (vm) {\n\t\t\t\treturn (Math.pow(mouseX - vm.x, 2) < Math.pow(vm.radius + vm.hoverRadius, 2));\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tinRange: function(chartX, chartY) {\n\t\t\tvar vm = this._view;\n\n\t\t\tif (vm) {\n\t\t\t\tvar pointRelativePosition = helpers.getAngleFromPoint(vm, {\n\t\t\t\t\t\tx: chartX,\n\t\t\t\t\t\ty: chartY\n\t\t\t\t\t}),\n\t\t\t\t\tangle = pointRelativePosition.angle,\n\t\t\t\t\tdistance = pointRelativePosition.distance;\n\n\t\t\t\t// Sanitise angle range\n\t\t\t\tvar startAngle = vm.startAngle;\n\t\t\t\tvar endAngle = vm.endAngle;\n\t\t\t\twhile (endAngle < startAngle) {\n\t\t\t\t\tendAngle += 2.0 * Math.PI;\n\t\t\t\t}\n\t\t\t\twhile (angle > endAngle) {\n\t\t\t\t\tangle -= 2.0 * Math.PI;\n\t\t\t\t}\n\t\t\t\twhile (angle < startAngle) {\n\t\t\t\t\tangle += 2.0 * Math.PI;\n\t\t\t\t}\n\n\t\t\t\t// Check if within the range of the open/close angle\n\t\t\t\tvar betweenAngles = (angle >= startAngle && angle <= endAngle),\n\t\t\t\t\twithinRadius = (distance >= vm.innerRadius && distance <= vm.outerRadius);\n\n\t\t\t\treturn (betweenAngles && withinRadius);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tgetCenterPoint: function() {\n\t\t\tvar vm = this._view;\n\t\t\tvar halfAngle = (vm.startAngle + vm.endAngle) / 2;\n\t\t\tvar halfRadius = (vm.innerRadius + vm.outerRadius) / 2;\n\t\t\treturn {\n\t\t\t\tx: vm.x + Math.cos(halfAngle) * halfRadius,\n\t\t\t\ty: vm.y + Math.sin(halfAngle) * halfRadius\n\t\t\t};\n\t\t},\n\t\tgetArea: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn Math.PI * ((vm.endAngle - vm.startAngle) / (2 * Math.PI)) * (Math.pow(vm.outerRadius, 2) - Math.pow(vm.innerRadius, 2));\n\t\t},\n\t\ttooltipPosition: function() {\n\t\t\tvar vm = this._view;\n\n\t\t\tvar centreAngle = vm.startAngle + ((vm.endAngle - vm.startAngle) / 2),\n\t\t\t\trangeFromCentre = (vm.outerRadius - vm.innerRadius) / 2 + vm.innerRadius;\n\t\t\treturn {\n\t\t\t\tx: vm.x + (Math.cos(centreAngle) * rangeFromCentre),\n\t\t\t\ty: vm.y + (Math.sin(centreAngle) * rangeFromCentre)\n\t\t\t};\n\t\t},\n\t\tdraw: function() {\n\n\t\t\tvar ctx = this._chart.ctx,\n\t\t\t\tvm = this._view,\n\t\t\t\tsA = vm.startAngle,\n\t\t\t\teA = vm.endAngle;\n\n\t\t\tctx.beginPath();\n\n\t\t\tctx.arc(vm.x, vm.y, vm.outerRadius, sA, eA);\n\t\t\tctx.arc(vm.x, vm.y, vm.innerRadius, eA, sA, true);\n\n\t\t\tctx.closePath();\n\t\t\tctx.strokeStyle = vm.borderColor;\n\t\t\tctx.lineWidth = vm.borderWidth;\n\n\t\t\tctx.fillStyle = vm.backgroundColor;\n\n\t\t\tctx.fill();\n\t\t\tctx.lineJoin = 'bevel';\n\n\t\t\tif (vm.borderWidth) {\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t}\n\t});\n};\n\n},{}],38:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar globalDefaults = Chart.defaults.global;\n\n\tChart.defaults.global.elements.line = {\n\t\ttension: 0.4,\n\t\tbackgroundColor: globalDefaults.defaultColor,\n\t\tborderWidth: 3,\n\t\tborderColor: globalDefaults.defaultColor,\n\t\tborderCapStyle: 'butt',\n\t\tborderDash: [],\n\t\tborderDashOffset: 0.0,\n\t\tborderJoinStyle: 'miter',\n\t\tcapBezierPoints: true,\n\t\tfill: true, // do we fill in the area between the line and its base axis\n\t};\n\n\tChart.elements.Line = Chart.Element.extend({\n\t\tdraw: function() {\n\t\t\tvar me = this;\n\t\t\tvar vm = me._view;\n\t\t\tvar spanGaps = vm.spanGaps;\n\t\t\tvar fillPoint = vm.scaleZero;\n\t\t\tvar loop = me._loop;\n\n\t\t\t// Handle different fill modes for cartesian lines\n\t\t\tif (!loop) {\n\t\t\t\tif (vm.fill === 'top') {\n\t\t\t\t\tfillPoint = vm.scaleTop;\n\t\t\t\t} else if (vm.fill === 'bottom') {\n\t\t\t\t\tfillPoint = vm.scaleBottom;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar ctx = me._chart.ctx;\n\t\t\tctx.save();\n\n\t\t\t// Helper function to draw a line to a point\n\t\t\tfunction lineToPoint(previousPoint, point) {\n\t\t\t\tvar pointVM = point._view;\n\t\t\t\tif (point._view.steppedLine === true) {\n\t\t\t\t\tctx.lineTo(pointVM.x, previousPoint._view.y);\n\t\t\t\t\tctx.lineTo(pointVM.x, pointVM.y);\n\t\t\t\t} else if (point._view.tension === 0) {\n\t\t\t\t\tctx.lineTo(pointVM.x, pointVM.y);\n\t\t\t\t} else {\n\t\t\t\t\tctx.bezierCurveTo(\n\t\t\t\t\t\tpreviousPoint._view.controlPointNextX,\n\t\t\t\t\t\tpreviousPoint._view.controlPointNextY,\n\t\t\t\t\t\tpointVM.controlPointPreviousX,\n\t\t\t\t\t\tpointVM.controlPointPreviousY,\n\t\t\t\t\t\tpointVM.x,\n\t\t\t\t\t\tpointVM.y\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar points = me._children.slice(); // clone array\n\t\t\tvar lastDrawnIndex = -1;\n\n\t\t\t// If we are looping, adding the first point again\n\t\t\tif (loop && points.length) {\n\t\t\t\tpoints.push(points[0]);\n\t\t\t}\n\n\t\t\tvar index, current, previous, currentVM;\n\n\t\t\t// Fill Line\n\t\t\tif (points.length && vm.fill) {\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tfor (index = 0; index < points.length; ++index) {\n\t\t\t\t\tcurrent = points[index];\n\t\t\t\t\tprevious = helpers.previousItem(points, index);\n\t\t\t\t\tcurrentVM = current._view;\n\n\t\t\t\t\t// First point moves to it's starting position no matter what\n\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\tif (loop) {\n\t\t\t\t\t\t\tctx.moveTo(fillPoint.x, fillPoint.y);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.moveTo(currentVM.x, fillPoint);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!currentVM.skip) {\n\t\t\t\t\t\t\tlastDrawnIndex = index;\n\t\t\t\t\t\t\tctx.lineTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprevious = lastDrawnIndex === -1 ? previous : points[lastDrawnIndex];\n\n\t\t\t\t\t\tif (currentVM.skip) {\n\t\t\t\t\t\t\t// Only do this if this is the first point that is skipped\n\t\t\t\t\t\t\tif (!spanGaps && lastDrawnIndex === (index - 1)) {\n\t\t\t\t\t\t\t\tif (loop) {\n\t\t\t\t\t\t\t\t\tctx.lineTo(fillPoint.x, fillPoint.y);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tctx.lineTo(previous._view.x, fillPoint);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (lastDrawnIndex !== (index - 1)) {\n\t\t\t\t\t\t\t\t// There was a gap and this is the first point after the gap. If we've never drawn a point, this is a special case.\n\t\t\t\t\t\t\t\t// If the first data point is NaN, then there is no real gap to skip\n\t\t\t\t\t\t\t\tif (spanGaps && lastDrawnIndex !== -1) {\n\t\t\t\t\t\t\t\t\t// We are spanning the gap, so simple draw a line to this point\n\t\t\t\t\t\t\t\t\tlineToPoint(previous, current);\n\t\t\t\t\t\t\t\t} else if (loop) {\n\t\t\t\t\t\t\t\t\tctx.lineTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tctx.lineTo(currentVM.x, fillPoint);\n\t\t\t\t\t\t\t\t\tctx.lineTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Line to next point\n\t\t\t\t\t\t\t\tlineToPoint(previous, current);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlastDrawnIndex = index;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!loop && lastDrawnIndex !== -1) {\n\t\t\t\t\tctx.lineTo(points[lastDrawnIndex]._view.x, fillPoint);\n\t\t\t\t}\n\n\t\t\t\tctx.fillStyle = vm.backgroundColor || globalDefaults.defaultColor;\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.fill();\n\t\t\t}\n\n\t\t\t// Stroke Line Options\n\t\t\tvar globalOptionLineElements = globalDefaults.elements.line;\n\t\t\tctx.lineCap = vm.borderCapStyle || globalOptionLineElements.borderCapStyle;\n\n\t\t\t// IE 9 and 10 do not support line dash\n\t\t\tif (ctx.setLineDash) {\n\t\t\t\tctx.setLineDash(vm.borderDash || globalOptionLineElements.borderDash);\n\t\t\t}\n\n\t\t\tctx.lineDashOffset = vm.borderDashOffset || globalOptionLineElements.borderDashOffset;\n\t\t\tctx.lineJoin = vm.borderJoinStyle || globalOptionLineElements.borderJoinStyle;\n\t\t\tctx.lineWidth = vm.borderWidth || globalOptionLineElements.borderWidth;\n\t\t\tctx.strokeStyle = vm.borderColor || globalDefaults.defaultColor;\n\n\t\t\t// Stroke Line\n\t\t\tctx.beginPath();\n\t\t\tlastDrawnIndex = -1;\n\n\t\t\tfor (index = 0; index < points.length; ++index) {\n\t\t\t\tcurrent = points[index];\n\t\t\t\tprevious = helpers.previousItem(points, index);\n\t\t\t\tcurrentVM = current._view;\n\n\t\t\t\t// First point moves to it's starting position no matter what\n\t\t\t\tif (index === 0) {\n\t\t\t\t\tif (!currentVM.skip) {\n\t\t\t\t\t\tctx.moveTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\tlastDrawnIndex = index;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tprevious = lastDrawnIndex === -1 ? previous : points[lastDrawnIndex];\n\n\t\t\t\t\tif (!currentVM.skip) {\n\t\t\t\t\t\tif ((lastDrawnIndex !== (index - 1) && !spanGaps) || lastDrawnIndex === -1) {\n\t\t\t\t\t\t\t// There was a gap and this is the first point after the gap\n\t\t\t\t\t\t\tctx.moveTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Line to next point\n\t\t\t\t\t\t\tlineToPoint(previous, current);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlastDrawnIndex = index;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tctx.stroke();\n\t\t\tctx.restore();\n\t\t}\n\t});\n};\n\n},{}],39:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tglobalOpts = Chart.defaults.global,\n\t\tdefaultColor = globalOpts.defaultColor;\n\n\tglobalOpts.elements.point = {\n\t\tradius: 3,\n\t\tpointStyle: 'circle',\n\t\tbackgroundColor: defaultColor,\n\t\tborderWidth: 1,\n\t\tborderColor: defaultColor,\n\t\t// Hover\n\t\thitRadius: 1,\n\t\thoverRadius: 4,\n\t\thoverBorderWidth: 1\n\t};\n\n\tfunction xRange(mouseX) {\n\t\tvar vm = this._view;\n\t\treturn vm ? (Math.pow(mouseX - vm.x, 2) < Math.pow(vm.radius + vm.hitRadius, 2)) : false;\n\t}\n\n\tfunction yRange(mouseY) {\n\t\tvar vm = this._view;\n\t\treturn vm ? (Math.pow(mouseY - vm.y, 2) < Math.pow(vm.radius + vm.hitRadius, 2)) : false;\n\t}\n\n\tChart.elements.Point = Chart.Element.extend({\n\t\tinRange: function(mouseX, mouseY) {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm ? ((Math.pow(mouseX - vm.x, 2) + Math.pow(mouseY - vm.y, 2)) < Math.pow(vm.hitRadius + vm.radius, 2)) : false;\n\t\t},\n\n\t\tinLabelRange: xRange,\n\t\tinXRange: xRange,\n\t\tinYRange: yRange,\n\n\t\tgetCenterPoint: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y\n\t\t\t};\n\t\t},\n\t\tgetArea: function() {\n\t\t\treturn Math.PI * Math.pow(this._view.radius, 2);\n\t\t},\n\t\ttooltipPosition: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y,\n\t\t\t\tpadding: vm.radius + vm.borderWidth\n\t\t\t};\n\t\t},\n\t\tdraw: function() {\n\t\t\tvar vm = this._view;\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar pointStyle = vm.pointStyle;\n\t\t\tvar radius = vm.radius;\n\t\t\tvar x = vm.x;\n\t\t\tvar y = vm.y;\n\n\t\t\tif (vm.skip) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tctx.strokeStyle = vm.borderColor || defaultColor;\n\t\t\tctx.lineWidth = helpers.getValueOrDefault(vm.borderWidth, globalOpts.elements.point.borderWidth);\n\t\t\tctx.fillStyle = vm.backgroundColor || defaultColor;\n\n\t\t\tChart.canvasHelpers.drawPoint(ctx, pointStyle, radius, x, y);\n\t\t}\n\t});\n};\n\n},{}],40:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar globalOpts = Chart.defaults.global;\n\n\tglobalOpts.elements.rectangle = {\n\t\tbackgroundColor: globalOpts.defaultColor,\n\t\tborderWidth: 0,\n\t\tborderColor: globalOpts.defaultColor,\n\t\tborderSkipped: 'bottom'\n\t};\n\n\tfunction isVertical(bar) {\n\t\treturn bar._view.width !== undefined;\n\t}\n\n\t/**\n\t * Helper function to get the bounds of the bar regardless of the orientation\n\t * @private\n\t * @param bar {Chart.Element.Rectangle} the bar\n\t * @return {Bounds} bounds of the bar\n\t */\n\tfunction getBarBounds(bar) {\n\t\tvar vm = bar._view;\n\t\tvar x1, x2, y1, y2;\n\n\t\tif (isVertical(bar)) {\n\t\t\t// vertical\n\t\t\tvar halfWidth = vm.width / 2;\n\t\t\tx1 = vm.x - halfWidth;\n\t\t\tx2 = vm.x + halfWidth;\n\t\t\ty1 = Math.min(vm.y, vm.base);\n\t\t\ty2 = Math.max(vm.y, vm.base);\n\t\t} else {\n\t\t\t// horizontal bar\n\t\t\tvar halfHeight = vm.height / 2;\n\t\t\tx1 = Math.min(vm.x, vm.base);\n\t\t\tx2 = Math.max(vm.x, vm.base);\n\t\t\ty1 = vm.y - halfHeight;\n\t\t\ty2 = vm.y + halfHeight;\n\t\t}\n\n\t\treturn {\n\t\t\tleft: x1,\n\t\t\ttop: y1,\n\t\t\tright: x2,\n\t\t\tbottom: y2\n\t\t};\n\t}\n\n\tChart.elements.Rectangle = Chart.Element.extend({\n\t\tdraw: function() {\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar vm = this._view;\n\n\t\t\tvar halfWidth = vm.width / 2,\n\t\t\t\tleftX = vm.x - halfWidth,\n\t\t\t\trightX = vm.x + halfWidth,\n\t\t\t\ttop = vm.base - (vm.base - vm.y),\n\t\t\t\thalfStroke = vm.borderWidth / 2;\n\n\t\t\t// Canvas doesn't allow us to stroke inside the width so we can\n\t\t\t// adjust the sizes to fit if we're setting a stroke on the line\n\t\t\tif (vm.borderWidth) {\n\t\t\t\tleftX += halfStroke;\n\t\t\t\trightX -= halfStroke;\n\t\t\t\ttop += halfStroke;\n\t\t\t}\n\n\t\t\tctx.beginPath();\n\t\t\tctx.fillStyle = vm.backgroundColor;\n\t\t\tctx.strokeStyle = vm.borderColor;\n\t\t\tctx.lineWidth = vm.borderWidth;\n\n\t\t\t// Corner points, from bottom-left to bottom-right clockwise\n\t\t\t// | 1 2 |\n\t\t\t// | 0 3 |\n\t\t\tvar corners = [\n\t\t\t\t[leftX, vm.base],\n\t\t\t\t[leftX, top],\n\t\t\t\t[rightX, top],\n\t\t\t\t[rightX, vm.base]\n\t\t\t];\n\n\t\t\t// Find first (starting) corner with fallback to 'bottom'\n\t\t\tvar borders = ['bottom', 'left', 'top', 'right'];\n\t\t\tvar startCorner = borders.indexOf(vm.borderSkipped, 0);\n\t\t\tif (startCorner === -1) {\n\t\t\t\tstartCorner = 0;\n\t\t\t}\n\n\t\t\tfunction cornerAt(index) {\n\t\t\t\treturn corners[(startCorner + index) % 4];\n\t\t\t}\n\n\t\t\t// Draw rectangle from 'startCorner'\n\t\t\tvar corner = cornerAt(0);\n\t\t\tctx.moveTo(corner[0], corner[1]);\n\n\t\t\tfor (var i = 1; i < 4; i++) {\n\t\t\t\tcorner = cornerAt(i);\n\t\t\t\tctx.lineTo(corner[0], corner[1]);\n\t\t\t}\n\n\t\t\tctx.fill();\n\t\t\tif (vm.borderWidth) {\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t},\n\t\theight: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm.base - vm.y;\n\t\t},\n\t\tinRange: function(mouseX, mouseY) {\n\t\t\tvar inRange = false;\n\n\t\t\tif (this._view) {\n\t\t\t\tvar bounds = getBarBounds(this);\n\t\t\t\tinRange = mouseX >= bounds.left && mouseX <= bounds.right && mouseY >= bounds.top && mouseY <= bounds.bottom;\n\t\t\t}\n\n\t\t\treturn inRange;\n\t\t},\n\t\tinLabelRange: function(mouseX, mouseY) {\n\t\t\tvar me = this;\n\t\t\tif (!me._view) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar inRange = false;\n\t\t\tvar bounds = getBarBounds(me);\n\n\t\t\tif (isVertical(me)) {\n\t\t\t\tinRange = mouseX >= bounds.left && mouseX <= bounds.right;\n\t\t\t} else {\n\t\t\t\tinRange = mouseY >= bounds.top && mouseY <= bounds.bottom;\n\t\t\t}\n\n\t\t\treturn inRange;\n\t\t},\n\t\tinXRange: function(mouseX) {\n\t\t\tvar bounds = getBarBounds(this);\n\t\t\treturn mouseX >= bounds.left && mouseX <= bounds.right;\n\t\t},\n\t\tinYRange: function(mouseY) {\n\t\t\tvar bounds = getBarBounds(this);\n\t\t\treturn mouseY >= bounds.top && mouseY <= bounds.bottom;\n\t\t},\n\t\tgetCenterPoint: function() {\n\t\t\tvar vm = this._view;\n\t\t\tvar x, y;\n\t\t\tif (isVertical(this)) {\n\t\t\t\tx = vm.x;\n\t\t\t\ty = (vm.y + vm.base) / 2;\n\t\t\t} else {\n\t\t\t\tx = (vm.x + vm.base) / 2;\n\t\t\t\ty = vm.y;\n\t\t\t}\n\n\t\t\treturn {x: x, y: y};\n\t\t},\n\t\tgetArea: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm.width * Math.abs(vm.y - vm.base);\n\t\t},\n\t\ttooltipPosition: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y\n\t\t\t};\n\t\t}\n\t});\n\n};\n\n},{}],41:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\t// Default config for a category scale\n\tvar defaultConfig = {\n\t\tposition: 'bottom'\n\t};\n\n\tvar DatasetScale = Chart.Scale.extend({\n\t\t/**\n\t\t* Internal function to get the correct labels. If data.xLabels or data.yLabels are defined, use those\n\t\t* else fall back to data.labels\n\t\t* @private\n\t\t*/\n\t\tgetLabels: function() {\n\t\t\tvar data = this.chart.data;\n\t\t\treturn (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels;\n\t\t},\n\t\t// Implement this so that\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar labels = me.getLabels();\n\t\t\tme.minIndex = 0;\n\t\t\tme.maxIndex = labels.length - 1;\n\t\t\tvar findIndex;\n\n\t\t\tif (me.options.ticks.min !== undefined) {\n\t\t\t\t// user specified min value\n\t\t\t\tfindIndex = helpers.indexOf(labels, me.options.ticks.min);\n\t\t\t\tme.minIndex = findIndex !== -1 ? findIndex : me.minIndex;\n\t\t\t}\n\n\t\t\tif (me.options.ticks.max !== undefined) {\n\t\t\t\t// user specified max value\n\t\t\t\tfindIndex = helpers.indexOf(labels, me.options.ticks.max);\n\t\t\t\tme.maxIndex = findIndex !== -1 ? findIndex : me.maxIndex;\n\t\t\t}\n\n\t\t\tme.min = labels[me.minIndex];\n\t\t\tme.max = labels[me.maxIndex];\n\t\t},\n\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\t\t\tvar labels = me.getLabels();\n\t\t\t// If we are viewing some subset of labels, slice the original array\n\t\t\tme.ticks = (me.minIndex === 0 && me.maxIndex === labels.length - 1) ? labels : labels.slice(me.minIndex, me.maxIndex + 1);\n\t\t},\n\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar data = me.chart.data;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tif ((data.xLabels && isHorizontal) || (data.yLabels && !isHorizontal)) {\n\t\t\t\treturn me.getRightValue(data.datasets[datasetIndex].data[index]);\n\t\t\t}\n\t\t\treturn me.ticks[index];\n\t\t},\n\n\t\t// Used to get data value locations.  Value can either be an index or a numerical value\n\t\tgetPixelForValue: function(value, index, datasetIndex, includeOffset) {\n\t\t\tvar me = this;\n\t\t\t// 1 is added because we need the length but we have the indexes\n\t\t\tvar offsetAmt = Math.max((me.maxIndex + 1 - me.minIndex - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);\n\n\t\t\tif (value !== undefined && isNaN(index)) {\n\t\t\t\tvar labels = me.getLabels();\n\t\t\t\tvar idx = labels.indexOf(value);\n\t\t\t\tindex = idx !== -1 ? idx : index;\n\t\t\t}\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tvar innerWidth = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\tvar valueWidth = innerWidth / offsetAmt;\n\t\t\t\tvar widthOffset = (valueWidth * (index - me.minIndex)) + me.paddingLeft;\n\n\t\t\t\tif (me.options.gridLines.offsetGridLines && includeOffset || me.maxIndex === me.minIndex && includeOffset) {\n\t\t\t\t\twidthOffset += (valueWidth / 2);\n\t\t\t\t}\n\n\t\t\t\treturn me.left + Math.round(widthOffset);\n\t\t\t}\n\t\t\tvar innerHeight = me.height - (me.paddingTop + me.paddingBottom);\n\t\t\tvar valueHeight = innerHeight / offsetAmt;\n\t\t\tvar heightOffset = (valueHeight * (index - me.minIndex)) + me.paddingTop;\n\n\t\t\tif (me.options.gridLines.offsetGridLines && includeOffset) {\n\t\t\t\theightOffset += (valueHeight / 2);\n\t\t\t}\n\n\t\t\treturn me.top + Math.round(heightOffset);\n\t\t},\n\t\tgetPixelForTick: function(index, includeOffset) {\n\t\t\treturn this.getPixelForValue(this.ticks[index], index + this.minIndex, null, includeOffset);\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar value;\n\t\t\tvar offsetAmt = Math.max((me.ticks.length - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);\n\t\t\tvar horz = me.isHorizontal();\n\t\t\tvar innerDimension = horz ? me.width - (me.paddingLeft + me.paddingRight) : me.height - (me.paddingTop + me.paddingBottom);\n\t\t\tvar valueDimension = innerDimension / offsetAmt;\n\n\t\t\tpixel -= horz ? me.left : me.top;\n\n\t\t\tif (me.options.gridLines.offsetGridLines) {\n\t\t\t\tpixel -= (valueDimension / 2);\n\t\t\t}\n\t\t\tpixel -= horz ? me.paddingLeft : me.paddingTop;\n\n\t\t\tif (pixel <= 0) {\n\t\t\t\tvalue = 0;\n\t\t\t} else {\n\t\t\t\tvalue = Math.round(pixel / valueDimension);\n\t\t\t}\n\n\t\t\treturn value;\n\t\t},\n\t\tgetBasePixel: function() {\n\t\t\treturn this.bottom;\n\t\t}\n\t});\n\n\tChart.scaleService.registerScaleType('category', DatasetScale, defaultConfig);\n\n};\n\n},{}],42:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\t\tposition: 'left',\n\t\tticks: {\n\t\t\tcallback: Chart.Ticks.formatters.linear\n\t\t}\n\t};\n\n\tvar LinearScale = Chart.LinearScaleBase.extend({\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar chart = me.chart;\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tfunction IDMatches(meta) {\n\t\t\t\treturn isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;\n\t\t\t}\n\n\t\t\t// First Calculate the range\n\t\t\tme.min = null;\n\t\t\tme.max = null;\n\n\t\t\tif (opts.stacked) {\n\t\t\t\tvar valuesPerType = {};\n\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (valuesPerType[meta.type] === undefined) {\n\t\t\t\t\t\tvaluesPerType[meta.type] = {\n\t\t\t\t\t\t\tpositiveValues: [],\n\t\t\t\t\t\t\tnegativeValues: []\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Store these per type\n\t\t\t\t\tvar positiveValues = valuesPerType[meta.type].positiveValues;\n\t\t\t\t\tvar negativeValues = valuesPerType[meta.type].negativeValues;\n\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tpositiveValues[index] = positiveValues[index] || 0;\n\t\t\t\t\t\t\tnegativeValues[index] = negativeValues[index] || 0;\n\n\t\t\t\t\t\t\tif (opts.relativePoints) {\n\t\t\t\t\t\t\t\tpositiveValues[index] = 100;\n\t\t\t\t\t\t\t} else if (value < 0) {\n\t\t\t\t\t\t\t\tnegativeValues[index] += value;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpositiveValues[index] += value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\thelpers.each(valuesPerType, function(valuesForType) {\n\t\t\t\t\tvar values = valuesForType.positiveValues.concat(valuesForType.negativeValues);\n\t\t\t\t\tvar minVal = helpers.min(values);\n\t\t\t\t\tvar maxVal = helpers.max(values);\n\t\t\t\t\tme.min = me.min === null ? minVal : Math.min(me.min, minVal);\n\t\t\t\t\tme.max = me.max === null ? maxVal : Math.max(me.max, maxVal);\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.min === null) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t} else if (value < me.min) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.max === null) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t} else if (value > me.max) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\n\t\t\tthis.handleTickRangeOptions();\n\t\t},\n\t\tgetTickLimit: function() {\n\t\t\tvar maxTicks;\n\t\t\tvar me = this;\n\t\t\tvar tickOpts = me.options.ticks;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tmaxTicks = Math.min(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.ceil(me.width / 50));\n\t\t\t} else {\n\t\t\t\t// The factor of 2 used to scale the font size has been experimentally determined.\n\t\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, Chart.defaults.global.defaultFontSize);\n\t\t\t\tmaxTicks = Math.min(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.ceil(me.height / (2 * tickFontSize)));\n\t\t\t}\n\n\t\t\treturn maxTicks;\n\t\t},\n\t\t// Called after the ticks are built. We need\n\t\thandleDirectionalChanges: function() {\n\t\t\tif (!this.isHorizontal()) {\n\t\t\t\t// We are in a vertical orientation. The top value is the highest. So reverse the array\n\t\t\t\tthis.ticks.reverse();\n\t\t\t}\n\t\t},\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\n\t\t},\n\t\t// Utils\n\t\tgetPixelForValue: function(value) {\n\t\t\t// This must be called after fit has been run so that\n\t\t\t// this.left, this.top, this.right, and this.bottom have been defined\n\t\t\tvar me = this;\n\t\t\tvar paddingLeft = me.paddingLeft;\n\t\t\tvar paddingBottom = me.paddingBottom;\n\t\t\tvar start = me.start;\n\n\t\t\tvar rightValue = +me.getRightValue(value);\n\t\t\tvar pixel;\n\t\t\tvar innerDimension;\n\t\t\tvar range = me.end - start;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tinnerDimension = me.width - (paddingLeft + me.paddingRight);\n\t\t\t\tpixel = me.left + (innerDimension / range * (rightValue - start));\n\t\t\t\treturn Math.round(pixel + paddingLeft);\n\t\t\t}\n\t\t\tinnerDimension = me.height - (me.paddingTop + paddingBottom);\n\t\t\tpixel = (me.bottom - paddingBottom) - (innerDimension / range * (rightValue - start));\n\t\t\treturn Math.round(pixel);\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\t\t\tvar paddingLeft = me.paddingLeft;\n\t\t\tvar paddingBottom = me.paddingBottom;\n\t\t\tvar innerDimension = isHorizontal ? me.width - (paddingLeft + me.paddingRight) : me.height - (me.paddingTop + paddingBottom);\n\t\t\tvar offset = (isHorizontal ? pixel - me.left - paddingLeft : me.bottom - paddingBottom - pixel) / innerDimension;\n\t\t\treturn me.start + ((me.end - me.start) * offset);\n\t\t},\n\t\tgetPixelForTick: function(index) {\n\t\t\treturn this.getPixelForValue(this.ticksAsNumbers[index]);\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('linear', LinearScale, defaultConfig);\n\n};\n\n},{}],43:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tnoop = helpers.noop;\n\n\tChart.LinearScaleBase = Chart.Scale.extend({\n\t\thandleTickRangeOptions: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\n\t\t\t// If we are forcing it to begin at 0, but 0 will already be rendered on the chart,\n\t\t\t// do nothing since that would make the chart weird. If the user really wants a weird chart\n\t\t\t// axis, they can manually override it\n\t\t\tif (tickOpts.beginAtZero) {\n\t\t\t\tvar minSign = helpers.sign(me.min);\n\t\t\t\tvar maxSign = helpers.sign(me.max);\n\n\t\t\t\tif (minSign < 0 && maxSign < 0) {\n\t\t\t\t\t// move the top up to 0\n\t\t\t\t\tme.max = 0;\n\t\t\t\t} else if (minSign > 0 && maxSign > 0) {\n\t\t\t\t\t// move the bottom down to 0\n\t\t\t\t\tme.min = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tickOpts.min !== undefined) {\n\t\t\t\tme.min = tickOpts.min;\n\t\t\t} else if (tickOpts.suggestedMin !== undefined) {\n\t\t\t\tme.min = Math.min(me.min, tickOpts.suggestedMin);\n\t\t\t}\n\n\t\t\tif (tickOpts.max !== undefined) {\n\t\t\t\tme.max = tickOpts.max;\n\t\t\t} else if (tickOpts.suggestedMax !== undefined) {\n\t\t\t\tme.max = Math.max(me.max, tickOpts.suggestedMax);\n\t\t\t}\n\n\t\t\tif (me.min === me.max) {\n\t\t\t\tme.max++;\n\n\t\t\t\tif (!tickOpts.beginAtZero) {\n\t\t\t\t\tme.min--;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetTickLimit: noop,\n\t\thandleDirectionalChanges: noop,\n\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\n\t\t\t// Figure out what the max number of ticks we can support it is based on the size of\n\t\t\t// the axis area. For now, we say that the minimum tick spacing in pixels must be 50\n\t\t\t// We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n\t\t\t// the graph. Make sure we always have at least 2 ticks\n\t\t\tvar maxTicks = me.getTickLimit();\n\t\t\tmaxTicks = Math.max(2, maxTicks);\n\n\t\t\tvar numericGeneratorOptions = {\n\t\t\t\tmaxTicks: maxTicks,\n\t\t\t\tmin: tickOpts.min,\n\t\t\t\tmax: tickOpts.max,\n\t\t\t\tstepSize: helpers.getValueOrDefault(tickOpts.fixedStepSize, tickOpts.stepSize)\n\t\t\t};\n\t\t\tvar ticks = me.ticks = Chart.Ticks.generators.linear(numericGeneratorOptions, me);\n\n\t\t\tme.handleDirectionalChanges();\n\n\t\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\n\t\t\t// range of the scale\n\t\t\tme.max = helpers.max(ticks);\n\t\t\tme.min = helpers.min(ticks);\n\n\t\t\tif (tickOpts.reverse) {\n\t\t\t\tticks.reverse();\n\n\t\t\t\tme.start = me.max;\n\t\t\t\tme.end = me.min;\n\t\t\t} else {\n\t\t\t\tme.start = me.min;\n\t\t\t\tme.end = me.max;\n\t\t\t}\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\tme.ticksAsNumbers = me.ticks.slice();\n\t\t\tme.zeroLineIndex = me.ticks.indexOf(0);\n\n\t\t\tChart.Scale.prototype.convertTicksToLabels.call(me);\n\t\t}\n\t});\n};\n\n},{}],44:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\t\tposition: 'left',\n\n\t\t// label settings\n\t\tticks: {\n\t\t\tcallback: Chart.Ticks.formatters.logarithmic\n\t\t}\n\t};\n\n\tvar LogarithmicScale = Chart.Scale.extend({\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar chart = me.chart;\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\t\t\tfunction IDMatches(meta) {\n\t\t\t\treturn isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;\n\t\t\t}\n\n\t\t\t// Calculate Range\n\t\t\tme.min = null;\n\t\t\tme.max = null;\n\t\t\tme.minNotZero = null;\n\n\t\t\tif (opts.stacked) {\n\t\t\t\tvar valuesPerType = {};\n\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\tif (valuesPerType[meta.type] === undefined) {\n\t\t\t\t\t\t\tvaluesPerType[meta.type] = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar values = valuesPerType[meta.type];\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvalues[index] = values[index] || 0;\n\n\t\t\t\t\t\t\tif (opts.relativePoints) {\n\t\t\t\t\t\t\t\tvalues[index] = 100;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Don't need to split positive and negative since the log scale can't handle a 0 crossing\n\t\t\t\t\t\t\t\tvalues[index] += value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\thelpers.each(valuesPerType, function(valuesForType) {\n\t\t\t\t\tvar minVal = helpers.min(valuesForType);\n\t\t\t\t\tvar maxVal = helpers.max(valuesForType);\n\t\t\t\t\tme.min = me.min === null ? minVal : Math.min(me.min, minVal);\n\t\t\t\t\tme.max = me.max === null ? maxVal : Math.max(me.max, maxVal);\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.min === null) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t} else if (value < me.min) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.max === null) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t} else if (value > me.max) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (value !== 0 && (me.minNotZero === null || value < me.minNotZero)) {\n\t\t\t\t\t\t\t\tme.minNotZero = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tme.min = getValueOrDefault(tickOpts.min, me.min);\n\t\t\tme.max = getValueOrDefault(tickOpts.max, me.max);\n\n\t\t\tif (me.min === me.max) {\n\t\t\t\tif (me.min !== 0 && me.min !== null) {\n\t\t\t\t\tme.min = Math.pow(10, Math.floor(helpers.log10(me.min)) - 1);\n\t\t\t\t\tme.max = Math.pow(10, Math.floor(helpers.log10(me.max)) + 1);\n\t\t\t\t} else {\n\t\t\t\t\tme.min = 1;\n\t\t\t\t\tme.max = 10;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\n\t\t\tvar generationOptions = {\n\t\t\t\tmin: tickOpts.min,\n\t\t\t\tmax: tickOpts.max\n\t\t\t};\n\t\t\tvar ticks = me.ticks = Chart.Ticks.generators.logarithmic(generationOptions, me);\n\n\t\t\tif (!me.isHorizontal()) {\n\t\t\t\t// We are in a vertical orientation. The top value is the highest. So reverse the array\n\t\t\t\tticks.reverse();\n\t\t\t}\n\n\t\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\n\t\t\t// range of the scale\n\t\t\tme.max = helpers.max(ticks);\n\t\t\tme.min = helpers.min(ticks);\n\n\t\t\tif (tickOpts.reverse) {\n\t\t\t\tticks.reverse();\n\n\t\t\t\tme.start = me.max;\n\t\t\t\tme.end = me.min;\n\t\t\t} else {\n\t\t\t\tme.start = me.min;\n\t\t\t\tme.end = me.max;\n\t\t\t}\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tthis.tickValues = this.ticks.slice();\n\n\t\t\tChart.Scale.prototype.convertTicksToLabels.call(this);\n\t\t},\n\t\t// Get the correct tooltip label\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\n\t\t},\n\t\tgetPixelForTick: function(index) {\n\t\t\treturn this.getPixelForValue(this.tickValues[index]);\n\t\t},\n\t\tgetPixelForValue: function(value) {\n\t\t\tvar me = this;\n\t\t\tvar innerDimension;\n\t\t\tvar pixel;\n\n\t\t\tvar start = me.start;\n\t\t\tvar newVal = +me.getRightValue(value);\n\t\t\tvar range;\n\t\t\tvar paddingTop = me.paddingTop;\n\t\t\tvar paddingBottom = me.paddingBottom;\n\t\t\tvar paddingLeft = me.paddingLeft;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\trange = helpers.log10(me.end) - helpers.log10(start); // todo: if start === 0\n\t\t\t\tif (newVal === 0) {\n\t\t\t\t\tpixel = me.left + paddingLeft;\n\t\t\t\t} else {\n\t\t\t\t\tinnerDimension = me.width - (paddingLeft + me.paddingRight);\n\t\t\t\t\tpixel = me.left + (innerDimension / range * (helpers.log10(newVal) - helpers.log10(start)));\n\t\t\t\t\tpixel += paddingLeft;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Bottom - top since pixels increase downward on a screen\n\t\t\t\tinnerDimension = me.height - (paddingTop + paddingBottom);\n\t\t\t\tif (start === 0 && !tickOpts.reverse) {\n\t\t\t\t\trange = helpers.log10(me.end) - helpers.log10(me.minNotZero);\n\t\t\t\t\tif (newVal === start) {\n\t\t\t\t\t\tpixel = me.bottom - paddingBottom;\n\t\t\t\t\t} else if (newVal === me.minNotZero) {\n\t\t\t\t\t\tpixel = me.bottom - paddingBottom - innerDimension * 0.02;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpixel = me.bottom - paddingBottom - innerDimension * 0.02 - (innerDimension * 0.98/ range * (helpers.log10(newVal)-helpers.log10(me.minNotZero)));\n\t\t\t\t\t}\n\t\t\t\t} else if (me.end === 0 && tickOpts.reverse) {\n\t\t\t\t\trange = helpers.log10(me.start) - helpers.log10(me.minNotZero);\n\t\t\t\t\tif (newVal === me.end) {\n\t\t\t\t\t\tpixel = me.top + paddingTop;\n\t\t\t\t\t} else if (newVal === me.minNotZero) {\n\t\t\t\t\t\tpixel = me.top + paddingTop + innerDimension * 0.02;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpixel = me.top + paddingTop + innerDimension * 0.02 + (innerDimension * 0.98/ range * (helpers.log10(newVal)-helpers.log10(me.minNotZero)));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\trange = helpers.log10(me.end) - helpers.log10(start);\n\t\t\t\t\tinnerDimension = me.height - (paddingTop + paddingBottom);\n\t\t\t\t\tpixel = (me.bottom - paddingBottom) - (innerDimension / range * (helpers.log10(newVal) - helpers.log10(start)));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn pixel;\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar range = helpers.log10(me.end) - helpers.log10(me.start);\n\t\t\tvar value, innerDimension;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tinnerDimension = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\tvalue = me.start * Math.pow(10, (pixel - me.left - me.paddingLeft) * range / innerDimension);\n\t\t\t} else {  // todo: if start === 0\n\t\t\t\tinnerDimension = me.height - (me.paddingTop + me.paddingBottom);\n\t\t\t\tvalue = Math.pow(10, (me.bottom - me.paddingBottom - pixel) * range / innerDimension) / me.start;\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('logarithmic', LogarithmicScale, defaultConfig);\n\n};\n\n},{}],45:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar globalDefaults = Chart.defaults.global;\n\n\tvar defaultConfig = {\n\t\tdisplay: true,\n\n\t\t// Boolean - Whether to animate scaling the chart from the centre\n\t\tanimate: true,\n\t\tlineArc: false,\n\t\tposition: 'chartArea',\n\n\t\tangleLines: {\n\t\t\tdisplay: true,\n\t\t\tcolor: 'rgba(0, 0, 0, 0.1)',\n\t\t\tlineWidth: 1\n\t\t},\n\n\t\t// label settings\n\t\tticks: {\n\t\t\t// Boolean - Show a backdrop to the scale label\n\t\t\tshowLabelBackdrop: true,\n\n\t\t\t// String - The colour of the label backdrop\n\t\t\tbackdropColor: 'rgba(255,255,255,0.75)',\n\n\t\t\t// Number - The backdrop padding above & below the label in pixels\n\t\t\tbackdropPaddingY: 2,\n\n\t\t\t// Number - The backdrop padding to the side of the label in pixels\n\t\t\tbackdropPaddingX: 2,\n\n\t\t\tcallback: Chart.Ticks.formatters.linear\n\t\t},\n\n\t\tpointLabels: {\n\t\t\t// Number - Point label font size in pixels\n\t\t\tfontSize: 10,\n\n\t\t\t// Function - Used to convert point labels\n\t\t\tcallback: function(label) {\n\t\t\t\treturn label;\n\t\t\t}\n\t\t}\n\t};\n\n\tvar LinearRadialScale = Chart.LinearScaleBase.extend({\n\t\tgetValueCount: function() {\n\t\t\treturn this.chart.data.labels.length;\n\t\t},\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tme.width = me.maxWidth;\n\t\t\tme.height = me.maxHeight;\n\t\t\tme.xCenter = Math.round(me.width / 2);\n\t\t\tme.yCenter = Math.round(me.height / 2);\n\n\t\t\tvar minSize = helpers.min([me.height, me.width]);\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\tme.drawingArea = opts.display ? (minSize / 2) - (tickFontSize / 2 + tickOpts.backdropPaddingY) : (minSize / 2);\n\t\t},\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tme.min = null;\n\t\t\tme.max = null;\n\n\n\t\t\thelpers.each(chart.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\n\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (me.min === null) {\n\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t} else if (value < me.min) {\n\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (me.max === null) {\n\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t} else if (value > me.max) {\n\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\n\t\t\tme.handleTickRangeOptions();\n\t\t},\n\t\tgetTickLimit: function() {\n\t\t\tvar tickOpts = this.options.ticks;\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\treturn Math.min(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.ceil(this.drawingArea / (1.5 * tickFontSize)));\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\tChart.LinearScaleBase.prototype.convertTicksToLabels.call(me);\n\n\t\t\t// Point labels\n\t\t\tme.pointLabels = me.chart.data.labels.map(me.options.pointLabels.callback, me);\n\t\t},\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\n\t\t},\n\t\tfit: function() {\n\t\t\t/*\n\t\t\t * Right, this is really confusing and there is a lot of maths going on here\n\t\t\t * The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n\t\t\t *\n\t\t\t * Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n\t\t\t *\n\t\t\t * Solution:\n\t\t\t *\n\t\t\t * We assume the radius of the polygon is half the size of the canvas at first\n\t\t\t * at each index we check if the text overlaps.\n\t\t\t *\n\t\t\t * Where it does, we store that angle and that index.\n\t\t\t *\n\t\t\t * After finding the largest index and angle we calculate how much we need to remove\n\t\t\t * from the shape radius to move the point inwards by that x.\n\t\t\t *\n\t\t\t * We average the left and right distances to get the maximum shape radius that can fit in the box\n\t\t\t * along with labels.\n\t\t\t *\n\t\t\t * Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n\t\t\t * on each side, removing that from the size, halving it and adding the left x protrusion width.\n\t\t\t *\n\t\t\t * This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n\t\t\t * and position it in the most space efficient manner\n\t\t\t *\n\t\t\t * https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\t\t\t */\n\n\t\t\tvar pointLabels = this.options.pointLabels;\n\t\t\tvar pointLabelFontSize = helpers.getValueOrDefault(pointLabels.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar pointLabeFontStyle = helpers.getValueOrDefault(pointLabels.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar pointLabeFontFamily = helpers.getValueOrDefault(pointLabels.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar pointLabeFont = helpers.fontString(pointLabelFontSize, pointLabeFontStyle, pointLabeFontFamily);\n\n\t\t\t// Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n\t\t\t// Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n\t\t\tvar largestPossibleRadius = helpers.min([(this.height / 2 - pointLabelFontSize - 5), this.width / 2]),\n\t\t\t\tpointPosition,\n\t\t\t\ti,\n\t\t\t\ttextWidth,\n\t\t\t\thalfTextWidth,\n\t\t\t\tfurthestRight = this.width,\n\t\t\t\tfurthestRightIndex,\n\t\t\t\tfurthestRightAngle,\n\t\t\t\tfurthestLeft = 0,\n\t\t\t\tfurthestLeftIndex,\n\t\t\t\tfurthestLeftAngle,\n\t\t\t\txProtrusionLeft,\n\t\t\t\txProtrusionRight,\n\t\t\t\tradiusReductionRight,\n\t\t\t\tradiusReductionLeft;\n\t\t\tthis.ctx.font = pointLabeFont;\n\n\t\t\tfor (i = 0; i < this.getValueCount(); i++) {\n\t\t\t\t// 5px to space the text slightly out - similar to what we do in the draw function.\n\t\t\t\tpointPosition = this.getPointPosition(i, largestPossibleRadius);\n\t\t\t\ttextWidth = this.ctx.measureText(this.pointLabels[i] ? this.pointLabels[i] : '').width + 5;\n\n\t\t\t\t// Add quarter circle to make degree 0 mean top of circle\n\t\t\t\tvar angleRadians = this.getIndexAngle(i) + (Math.PI / 2);\n\t\t\t\tvar angle = (angleRadians * 360 / (2 * Math.PI)) % 360;\n\n\t\t\t\tif (angle === 0 || angle === 180) {\n\t\t\t\t\t// At angle 0 and 180, we're at exactly the top/bottom\n\t\t\t\t\t// of the radar chart, so text will be aligned centrally, so we'll half it and compare\n\t\t\t\t\t// w/left and right text sizes\n\t\t\t\t\thalfTextWidth = textWidth / 2;\n\t\t\t\t\tif (pointPosition.x + halfTextWidth > furthestRight) {\n\t\t\t\t\t\tfurthestRight = pointPosition.x + halfTextWidth;\n\t\t\t\t\t\tfurthestRightIndex = i;\n\t\t\t\t\t}\n\t\t\t\t\tif (pointPosition.x - halfTextWidth < furthestLeft) {\n\t\t\t\t\t\tfurthestLeft = pointPosition.x - halfTextWidth;\n\t\t\t\t\t\tfurthestLeftIndex = i;\n\t\t\t\t\t}\n\t\t\t\t} else if (angle < 180) {\n\t\t\t\t\t// Less than half the values means we'll left align the text\n\t\t\t\t\tif (pointPosition.x + textWidth > furthestRight) {\n\t\t\t\t\t\tfurthestRight = pointPosition.x + textWidth;\n\t\t\t\t\t\tfurthestRightIndex = i;\n\t\t\t\t\t}\n\t\t\t\t// More than half the values means we'll right align the text\n\t\t\t\t} else if (pointPosition.x - textWidth < furthestLeft) {\n\t\t\t\t\tfurthestLeft = pointPosition.x - textWidth;\n\t\t\t\t\tfurthestLeftIndex = i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txProtrusionLeft = furthestLeft;\n\t\t\txProtrusionRight = Math.ceil(furthestRight - this.width);\n\n\t\t\tfurthestRightAngle = this.getIndexAngle(furthestRightIndex);\n\t\t\tfurthestLeftAngle = this.getIndexAngle(furthestLeftIndex);\n\n\t\t\tradiusReductionRight = xProtrusionRight / Math.sin(furthestRightAngle + Math.PI / 2);\n\t\t\tradiusReductionLeft = xProtrusionLeft / Math.sin(furthestLeftAngle + Math.PI / 2);\n\n\t\t\t// Ensure we actually need to reduce the size of the chart\n\t\t\tradiusReductionRight = (helpers.isNumber(radiusReductionRight)) ? radiusReductionRight : 0;\n\t\t\tradiusReductionLeft = (helpers.isNumber(radiusReductionLeft)) ? radiusReductionLeft : 0;\n\n\t\t\tthis.drawingArea = Math.round(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2);\n\t\t\tthis.setCenterPoint(radiusReductionLeft, radiusReductionRight);\n\t\t},\n\t\tsetCenterPoint: function(leftMovement, rightMovement) {\n\t\t\tvar me = this;\n\t\t\tvar maxRight = me.width - rightMovement - me.drawingArea,\n\t\t\t\tmaxLeft = leftMovement + me.drawingArea;\n\n\t\t\tme.xCenter = Math.round(((maxLeft + maxRight) / 2) + me.left);\n\t\t\t// Always vertically in the centre as the text height doesn't change\n\t\t\tme.yCenter = Math.round((me.height / 2) + me.top);\n\t\t},\n\n\t\tgetIndexAngle: function(index) {\n\t\t\tvar angleMultiplier = (Math.PI * 2) / this.getValueCount();\n\t\t\tvar startAngle = this.chart.options && this.chart.options.startAngle ?\n\t\t\t\tthis.chart.options.startAngle :\n\t\t\t\t0;\n\n\t\t\tvar startAngleRadians = startAngle * Math.PI * 2 / 360;\n\n\t\t\t// Start from the top instead of right, so remove a quarter of the circle\n\t\t\treturn index * angleMultiplier - (Math.PI / 2) + startAngleRadians;\n\t\t},\n\t\tgetDistanceFromCenterForValue: function(value) {\n\t\t\tvar me = this;\n\n\t\t\tif (value === null) {\n\t\t\t\treturn 0; // null always in center\n\t\t\t}\n\n\t\t\t// Take into account half font size + the yPadding of the top value\n\t\t\tvar scalingFactor = me.drawingArea / (me.max - me.min);\n\t\t\tif (me.options.reverse) {\n\t\t\t\treturn (me.max - value) * scalingFactor;\n\t\t\t}\n\t\t\treturn (value - me.min) * scalingFactor;\n\t\t},\n\t\tgetPointPosition: function(index, distanceFromCenter) {\n\t\t\tvar me = this;\n\t\t\tvar thisAngle = me.getIndexAngle(index);\n\t\t\treturn {\n\t\t\t\tx: Math.round(Math.cos(thisAngle) * distanceFromCenter) + me.xCenter,\n\t\t\t\ty: Math.round(Math.sin(thisAngle) * distanceFromCenter) + me.yCenter\n\t\t\t};\n\t\t},\n\t\tgetPointPositionForValue: function(index, value) {\n\t\t\treturn this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n\t\t},\n\n\t\tgetBasePosition: function() {\n\t\t\tvar me = this;\n\t\t\tvar min = me.min;\n\t\t\tvar max = me.max;\n\n\t\t\treturn me.getPointPositionForValue(0,\n\t\t\t\tme.beginAtZero? 0:\n\t\t\t\tmin < 0 && max < 0? max :\n\t\t\t\tmin > 0 && max > 0? min :\n\t\t\t\t0);\n\t\t},\n\n\t\tdraw: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar gridLineOpts = opts.gridLines;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar angleLineOpts = opts.angleLines;\n\t\t\tvar pointLabelOpts = opts.pointLabels;\n\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\n\t\t\tif (opts.display) {\n\t\t\t\tvar ctx = me.ctx;\n\n\t\t\t\t// Tick Font\n\t\t\t\tvar tickFontSize = getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\t\tvar tickFontStyle = getValueOrDefault(tickOpts.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\t\tvar tickFontFamily = getValueOrDefault(tickOpts.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\n\t\t\t\thelpers.each(me.ticks, function(label, index) {\n\t\t\t\t\t// Don't draw a centre value (if it is minimum)\n\t\t\t\t\tif (index > 0 || opts.reverse) {\n\t\t\t\t\t\tvar yCenterOffset = me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);\n\t\t\t\t\t\tvar yHeight = me.yCenter - yCenterOffset;\n\n\t\t\t\t\t\t// Draw circular lines around the scale\n\t\t\t\t\t\tif (gridLineOpts.display && index !== 0) {\n\t\t\t\t\t\t\tctx.strokeStyle = helpers.getValueAtIndexOrDefault(gridLineOpts.color, index - 1);\n\t\t\t\t\t\t\tctx.lineWidth = helpers.getValueAtIndexOrDefault(gridLineOpts.lineWidth, index - 1);\n\n\t\t\t\t\t\t\tif (opts.lineArc) {\n\t\t\t\t\t\t\t\t// Draw circular arcs between the points\n\t\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\t\tctx.arc(me.xCenter, me.yCenter, yCenterOffset, 0, Math.PI * 2);\n\t\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Draw straight lines connecting each index\n\t\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\t\tfor (var i = 0; i < me.getValueCount(); i++) {\n\t\t\t\t\t\t\t\t\tvar pointPosition = me.getPointPosition(i, yCenterOffset);\n\t\t\t\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\t\t\t\tctx.moveTo(pointPosition.x, pointPosition.y);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tctx.lineTo(pointPosition.x, pointPosition.y);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (tickOpts.display) {\n\t\t\t\t\t\t\tvar tickFontColor = getValueOrDefault(tickOpts.fontColor, globalDefaults.defaultFontColor);\n\t\t\t\t\t\t\tctx.font = tickLabelFont;\n\n\t\t\t\t\t\t\tif (tickOpts.showLabelBackdrop) {\n\t\t\t\t\t\t\t\tvar labelWidth = ctx.measureText(label).width;\n\t\t\t\t\t\t\t\tctx.fillStyle = tickOpts.backdropColor;\n\t\t\t\t\t\t\t\tctx.fillRect(\n\t\t\t\t\t\t\t\t\tme.xCenter - labelWidth / 2 - tickOpts.backdropPaddingX,\n\t\t\t\t\t\t\t\t\tyHeight - tickFontSize / 2 - tickOpts.backdropPaddingY,\n\t\t\t\t\t\t\t\t\tlabelWidth + tickOpts.backdropPaddingX * 2,\n\t\t\t\t\t\t\t\t\ttickFontSize + tickOpts.backdropPaddingY * 2\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\t\t\t\tctx.fillStyle = tickFontColor;\n\t\t\t\t\t\t\tctx.fillText(label, me.xCenter, yHeight);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!opts.lineArc) {\n\t\t\t\t\tctx.lineWidth = angleLineOpts.lineWidth;\n\t\t\t\t\tctx.strokeStyle = angleLineOpts.color;\n\n\t\t\t\t\tvar outerDistance = me.getDistanceFromCenterForValue(opts.reverse ? me.min : me.max);\n\n\t\t\t\t\t// Point Label Font\n\t\t\t\t\tvar pointLabelFontSize = getValueOrDefault(pointLabelOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\t\t\tvar pointLabeFontStyle = getValueOrDefault(pointLabelOpts.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\t\t\tvar pointLabeFontFamily = getValueOrDefault(pointLabelOpts.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\t\t\tvar pointLabeFont = helpers.fontString(pointLabelFontSize, pointLabeFontStyle, pointLabeFontFamily);\n\n\t\t\t\t\tfor (var i = me.getValueCount() - 1; i >= 0; i--) {\n\t\t\t\t\t\tif (angleLineOpts.display) {\n\t\t\t\t\t\t\tvar outerPosition = me.getPointPosition(i, outerDistance);\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\tctx.moveTo(me.xCenter, me.yCenter);\n\t\t\t\t\t\t\tctx.lineTo(outerPosition.x, outerPosition.y);\n\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Extra 3px out for some label spacing\n\t\t\t\t\t\tvar pointLabelPosition = me.getPointPosition(i, outerDistance + 5);\n\n\t\t\t\t\t\t// Keep this in loop since we may support array properties here\n\t\t\t\t\t\tvar pointLabelFontColor = getValueOrDefault(pointLabelOpts.fontColor, globalDefaults.defaultFontColor);\n\t\t\t\t\t\tctx.font = pointLabeFont;\n\t\t\t\t\t\tctx.fillStyle = pointLabelFontColor;\n\n\t\t\t\t\t\tvar pointLabels = me.pointLabels;\n\n\t\t\t\t\t\t// Add quarter circle to make degree 0 mean top of circle\n\t\t\t\t\t\tvar angleRadians = this.getIndexAngle(i) + (Math.PI / 2);\n\t\t\t\t\t\tvar angle = (angleRadians * 360 / (2 * Math.PI)) % 360;\n\n\t\t\t\t\t\tif (angle === 0 || angle === 180) {\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t} else if (angle < 180) {\n\t\t\t\t\t\t\tctx.textAlign = 'left';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.textAlign = 'right';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Set the correct text baseline based on outer positioning\n\t\t\t\t\t\tif (angle === 90 || angle === 270) {\n\t\t\t\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\t\t\t} else if (angle > 270 || angle < 90) {\n\t\t\t\t\t\t\tctx.textBaseline = 'bottom';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.textBaseline = 'top';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tctx.fillText(pointLabels[i] ? pointLabels[i] : '', pointLabelPosition.x, pointLabelPosition.y);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('radialLinear', LinearRadialScale, defaultConfig);\n\n};\n\n},{}],46:[function(require,module,exports){\n/* global window: false */\n'use strict';\n\nvar moment = require(1);\nmoment = typeof(moment) === 'function' ? moment : window.moment;\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar time = {\n\t\tunits: [{\n\t\t\tname: 'millisecond',\n\t\t\tsteps: [1, 2, 5, 10, 20, 50, 100, 250, 500]\n\t\t}, {\n\t\t\tname: 'second',\n\t\t\tsteps: [1, 2, 5, 10, 30]\n\t\t}, {\n\t\t\tname: 'minute',\n\t\t\tsteps: [1, 2, 5, 10, 30]\n\t\t}, {\n\t\t\tname: 'hour',\n\t\t\tsteps: [1, 2, 3, 6, 12]\n\t\t}, {\n\t\t\tname: 'day',\n\t\t\tsteps: [1, 2, 5]\n\t\t}, {\n\t\t\tname: 'week',\n\t\t\tmaxStep: 4\n\t\t}, {\n\t\t\tname: 'month',\n\t\t\tmaxStep: 3\n\t\t}, {\n\t\t\tname: 'quarter',\n\t\t\tmaxStep: 4\n\t\t}, {\n\t\t\tname: 'year',\n\t\t\tmaxStep: false\n\t\t}]\n\t};\n\n\tvar defaultConfig = {\n\t\tposition: 'bottom',\n\n\t\ttime: {\n\t\t\tparser: false, // false == a pattern string from http://momentjs.com/docs/#/parsing/string-format/ or a custom callback that converts its argument to a moment\n\t\t\tformat: false, // DEPRECATED false == date objects, moment object, callback or a pattern string from http://momentjs.com/docs/#/parsing/string-format/\n\t\t\tunit: false, // false == automatic or override with week, month, year, etc.\n\t\t\tround: false, // none, or override with week, month, year, etc.\n\t\t\tdisplayFormat: false, // DEPRECATED\n\t\t\tisoWeekday: false, // override week start day - see http://momentjs.com/docs/#/get-set/iso-weekday/\n\t\t\tminUnit: 'millisecond',\n\n\t\t\t// defaults to unit's corresponding unitFormat below or override using pattern string from http://momentjs.com/docs/#/displaying/format/\n\t\t\tdisplayFormats: {\n\t\t\t\tmillisecond: 'h:mm:ss.SSS a', // 11:20:01.123 AM,\n\t\t\t\tsecond: 'h:mm:ss a', // 11:20:01 AM\n\t\t\t\tminute: 'h:mm:ss a', // 11:20:01 AM\n\t\t\t\thour: 'MMM D, hA', // Sept 4, 5PM\n\t\t\t\tday: 'll', // Sep 4 2015\n\t\t\t\tweek: 'll', // Week 46, or maybe \"[W]WW - YYYY\" ?\n\t\t\t\tmonth: 'MMM YYYY', // Sept 2015\n\t\t\t\tquarter: '[Q]Q - YYYY', // Q3\n\t\t\t\tyear: 'YYYY' // 2015\n\t\t\t}\n\t\t},\n\t\tticks: {\n\t\t\tautoSkip: false\n\t\t}\n\t};\n\n\tvar TimeScale = Chart.Scale.extend({\n\t\tinitialize: function() {\n\t\t\tif (!moment) {\n\t\t\t\tthrow new Error('Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com');\n\t\t\t}\n\n\t\t\tChart.Scale.prototype.initialize.call(this);\n\t\t},\n\t\tgetLabelMoment: function(datasetIndex, index) {\n\t\t\tif (datasetIndex === null || index === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (typeof this.labelMoments[datasetIndex] !== 'undefined') {\n\t\t\t\treturn this.labelMoments[datasetIndex][index];\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\tgetLabelDiff: function(datasetIndex, index) {\n\t\t\tvar me = this;\n\t\t\tif (datasetIndex === null || index === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (me.labelDiffs === undefined) {\n\t\t\t\tme.buildLabelDiffs();\n\t\t\t}\n\n\t\t\tif (typeof me.labelDiffs[datasetIndex] !== 'undefined') {\n\t\t\t\treturn me.labelDiffs[datasetIndex][index];\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\tgetMomentStartOf: function(tick) {\n\t\t\tvar me = this;\n\t\t\tif (me.options.time.unit === 'week' && me.options.time.isoWeekday !== false) {\n\t\t\t\treturn tick.clone().startOf('isoWeek').isoWeekday(me.options.time.isoWeekday);\n\t\t\t}\n\t\t\treturn tick.clone().startOf(me.tickUnit);\n\t\t},\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tme.labelMoments = [];\n\n\t\t\t// Only parse these once. If the dataset does not have data as x,y pairs, we will use\n\t\t\t// these\n\t\t\tvar scaleLabelMoments = [];\n\t\t\tif (me.chart.data.labels && me.chart.data.labels.length > 0) {\n\t\t\t\thelpers.each(me.chart.data.labels, function(label) {\n\t\t\t\t\tvar labelMoment = me.parseTime(label);\n\n\t\t\t\t\tif (labelMoment.isValid()) {\n\t\t\t\t\t\tif (me.options.time.round) {\n\t\t\t\t\t\t\tlabelMoment.startOf(me.options.time.round);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tscaleLabelMoments.push(labelMoment);\n\t\t\t\t\t}\n\t\t\t\t}, me);\n\n\t\t\t\tme.firstTick = moment.min.call(me, scaleLabelMoments);\n\t\t\t\tme.lastTick = moment.max.call(me, scaleLabelMoments);\n\t\t\t} else {\n\t\t\t\tme.firstTick = null;\n\t\t\t\tme.lastTick = null;\n\t\t\t}\n\n\t\t\thelpers.each(me.chart.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tvar momentsForDataset = [];\n\t\t\t\tvar datasetVisible = me.chart.isDatasetVisible(datasetIndex);\n\n\t\t\t\tif (typeof dataset.data[0] === 'object' && dataset.data[0] !== null) {\n\t\t\t\t\thelpers.each(dataset.data, function(value) {\n\t\t\t\t\t\tvar labelMoment = me.parseTime(me.getRightValue(value));\n\n\t\t\t\t\t\tif (labelMoment.isValid()) {\n\t\t\t\t\t\t\tif (me.options.time.round) {\n\t\t\t\t\t\t\t\tlabelMoment.startOf(me.options.time.round);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmomentsForDataset.push(labelMoment);\n\n\t\t\t\t\t\t\tif (datasetVisible) {\n\t\t\t\t\t\t\t\t// May have gone outside the scale ranges, make sure we keep the first and last ticks updated\n\t\t\t\t\t\t\t\tme.firstTick = me.firstTick !== null ? moment.min(me.firstTick, labelMoment) : labelMoment;\n\t\t\t\t\t\t\t\tme.lastTick = me.lastTick !== null ? moment.max(me.lastTick, labelMoment) : labelMoment;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, me);\n\t\t\t\t} else {\n\t\t\t\t\t// We have no labels. Use the ones from the scale\n\t\t\t\t\tmomentsForDataset = scaleLabelMoments;\n\t\t\t\t}\n\n\t\t\t\tme.labelMoments.push(momentsForDataset);\n\t\t\t}, me);\n\n\t\t\t// Set these after we've done all the data\n\t\t\tif (me.options.time.min) {\n\t\t\t\tme.firstTick = me.parseTime(me.options.time.min);\n\t\t\t}\n\n\t\t\tif (me.options.time.max) {\n\t\t\t\tme.lastTick = me.parseTime(me.options.time.max);\n\t\t\t}\n\n\t\t\t// We will modify these, so clone for later\n\t\t\tme.firstTick = (me.firstTick || moment()).clone();\n\t\t\tme.lastTick = (me.lastTick || moment()).clone();\n\t\t},\n\t\tbuildLabelDiffs: function() {\n\t\t\tvar me = this;\n\t\t\tme.labelDiffs = [];\n\t\t\tvar scaleLabelDiffs = [];\n\t\t\t// Parse common labels once\n\t\t\tif (me.chart.data.labels && me.chart.data.labels.length > 0) {\n\t\t\t\thelpers.each(me.chart.data.labels, function(label) {\n\t\t\t\t\tvar labelMoment = me.parseTime(label);\n\n\t\t\t\t\tif (labelMoment.isValid()) {\n\t\t\t\t\t\tif (me.options.time.round) {\n\t\t\t\t\t\t\tlabelMoment.startOf(me.options.time.round);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tscaleLabelDiffs.push(labelMoment.diff(me.firstTick, me.tickUnit, true));\n\t\t\t\t\t}\n\t\t\t\t}, me);\n\t\t\t}\n\n\t\t\thelpers.each(me.chart.data.datasets, function(dataset) {\n\t\t\t\tvar diffsForDataset = [];\n\n\t\t\t\tif (typeof dataset.data[0] === 'object' && dataset.data[0] !== null) {\n\t\t\t\t\thelpers.each(dataset.data, function(value) {\n\t\t\t\t\t\tvar labelMoment = me.parseTime(me.getRightValue(value));\n\n\t\t\t\t\t\tif (labelMoment.isValid()) {\n\t\t\t\t\t\t\tif (me.options.time.round) {\n\t\t\t\t\t\t\t\tlabelMoment.startOf(me.options.time.round);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdiffsForDataset.push(labelMoment.diff(me.firstTick, me.tickUnit, true));\n\t\t\t\t\t\t}\n\t\t\t\t\t}, me);\n\t\t\t\t} else {\n\t\t\t\t\t// We have no labels. Use common ones\n\t\t\t\t\tdiffsForDataset = scaleLabelDiffs;\n\t\t\t\t}\n\n\t\t\t\tme.labelDiffs.push(diffsForDataset);\n\t\t\t}, me);\n\t\t},\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\n\t\t\tme.ctx.save();\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(me.options.ticks.fontSize, Chart.defaults.global.defaultFontSize);\n\t\t\tvar tickFontStyle = helpers.getValueOrDefault(me.options.ticks.fontStyle, Chart.defaults.global.defaultFontStyle);\n\t\t\tvar tickFontFamily = helpers.getValueOrDefault(me.options.ticks.fontFamily, Chart.defaults.global.defaultFontFamily);\n\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\t\t\tme.ctx.font = tickLabelFont;\n\n\t\t\tme.ticks = [];\n\t\t\tme.unitScale = 1; // How much we scale the unit by, ie 2 means 2x unit per step\n\t\t\tme.scaleSizeInUnits = 0; // How large the scale is in the base unit (seconds, minutes, etc)\n\n\t\t\t// Set unit override if applicable\n\t\t\tif (me.options.time.unit) {\n\t\t\t\tme.tickUnit = me.options.time.unit || 'day';\n\t\t\t\tme.displayFormat = me.options.time.displayFormats[me.tickUnit];\n\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true);\n\t\t\t\tme.unitScale = helpers.getValueOrDefault(me.options.time.unitStepSize, 1);\n\t\t\t} else {\n\t\t\t\t// Determine the smallest needed unit of the time\n\t\t\t\tvar innerWidth = me.isHorizontal() ? me.width - (me.paddingLeft + me.paddingRight) : me.height - (me.paddingTop + me.paddingBottom);\n\n\t\t\t\t// Crude approximation of what the label length might be\n\t\t\t\tvar tempFirstLabel = me.tickFormatFunction(me.firstTick, 0, []);\n\t\t\t\tvar tickLabelWidth = me.ctx.measureText(tempFirstLabel).width;\n\t\t\t\tvar cosRotation = Math.cos(helpers.toRadians(me.options.ticks.maxRotation));\n\t\t\t\tvar sinRotation = Math.sin(helpers.toRadians(me.options.ticks.maxRotation));\n\t\t\t\ttickLabelWidth = (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation);\n\t\t\t\tvar labelCapacity = innerWidth / (tickLabelWidth);\n\n\t\t\t\t// Start as small as possible\n\t\t\t\tme.tickUnit = me.options.time.minUnit;\n\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true);\n\t\t\t\tme.displayFormat = me.options.time.displayFormats[me.tickUnit];\n\n\t\t\t\tvar unitDefinitionIndex = 0;\n\t\t\t\tvar unitDefinition = time.units[unitDefinitionIndex];\n\n\t\t\t\t// While we aren't ideal and we don't have units left\n\t\t\t\twhile (unitDefinitionIndex < time.units.length) {\n\t\t\t\t\t// Can we scale this unit. If `false` we can scale infinitely\n\t\t\t\t\tme.unitScale = 1;\n\n\t\t\t\t\tif (helpers.isArray(unitDefinition.steps) && Math.ceil(me.scaleSizeInUnits / labelCapacity) < helpers.max(unitDefinition.steps)) {\n\t\t\t\t\t\t// Use one of the predefined steps\n\t\t\t\t\t\tfor (var idx = 0; idx < unitDefinition.steps.length; ++idx) {\n\t\t\t\t\t\t\tif (unitDefinition.steps[idx] >= Math.ceil(me.scaleSizeInUnits / labelCapacity)) {\n\t\t\t\t\t\t\t\tme.unitScale = helpers.getValueOrDefault(me.options.time.unitStepSize, unitDefinition.steps[idx]);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if ((unitDefinition.maxStep === false) || (Math.ceil(me.scaleSizeInUnits / labelCapacity) < unitDefinition.maxStep)) {\n\t\t\t\t\t\t// We have a max step. Scale this unit\n\t\t\t\t\t\tme.unitScale = helpers.getValueOrDefault(me.options.time.unitStepSize, Math.ceil(me.scaleSizeInUnits / labelCapacity));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Move to the next unit up\n\t\t\t\t\t\t++unitDefinitionIndex;\n\t\t\t\t\t\tunitDefinition = time.units[unitDefinitionIndex];\n\n\t\t\t\t\t\tme.tickUnit = unitDefinition.name;\n\t\t\t\t\t\tvar leadingUnitBuffer = me.firstTick.diff(me.getMomentStartOf(me.firstTick), me.tickUnit, true);\n\t\t\t\t\t\tvar trailingUnitBuffer = me.getMomentStartOf(me.lastTick.clone().add(1, me.tickUnit)).diff(me.lastTick, me.tickUnit, true);\n\t\t\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true) + leadingUnitBuffer + trailingUnitBuffer;\n\t\t\t\t\t\tme.displayFormat = me.options.time.displayFormats[unitDefinition.name];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar roundedStart;\n\n\t\t\t// Only round the first tick if we have no hard minimum\n\t\t\tif (!me.options.time.min) {\n\t\t\t\tme.firstTick = me.getMomentStartOf(me.firstTick);\n\t\t\t\troundedStart = me.firstTick;\n\t\t\t} else {\n\t\t\t\troundedStart = me.getMomentStartOf(me.firstTick);\n\t\t\t}\n\n\t\t\t// Only round the last tick if we have no hard maximum\n\t\t\tif (!me.options.time.max) {\n\t\t\t\tvar roundedEnd = me.getMomentStartOf(me.lastTick);\n\t\t\t\tvar delta = roundedEnd.diff(me.lastTick, me.tickUnit, true);\n\t\t\t\tif (delta < 0) {\n\t\t\t\t\t// Do not use end of because we need me to be in the next time unit\n\t\t\t\t\tme.lastTick = me.getMomentStartOf(me.lastTick.add(1, me.tickUnit));\n\t\t\t\t} else if (delta >= 0) {\n\t\t\t\t\tme.lastTick = roundedEnd;\n\t\t\t\t}\n\n\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true);\n\t\t\t}\n\n\t\t\t// Tick displayFormat override\n\t\t\tif (me.options.time.displayFormat) {\n\t\t\t\tme.displayFormat = me.options.time.displayFormat;\n\t\t\t}\n\n\t\t\t// first tick. will have been rounded correctly if options.time.min is not specified\n\t\t\tme.ticks.push(me.firstTick.clone());\n\n\t\t\t// For every unit in between the first and last moment, create a moment and add it to the ticks tick\n\t\t\tfor (var i = 1; i <= me.scaleSizeInUnits; ++i) {\n\t\t\t\tvar newTick = roundedStart.clone().add(i, me.tickUnit);\n\n\t\t\t\t// Are we greater than the max time\n\t\t\t\tif (me.options.time.max && newTick.diff(me.lastTick, me.tickUnit, true) >= 0) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (i % me.unitScale === 0) {\n\t\t\t\t\tme.ticks.push(newTick);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Always show the right tick\n\t\t\tvar diff = me.ticks[me.ticks.length - 1].diff(me.lastTick, me.tickUnit);\n\t\t\tif (diff !== 0 || me.scaleSizeInUnits === 0) {\n\t\t\t\t// this is a weird case. If the <max> option is the same as the end option, we can't just diff the times because the tick was created from the roundedStart\n\t\t\t\t// but the last tick was not rounded.\n\t\t\t\tif (me.options.time.max) {\n\t\t\t\t\tme.ticks.push(me.lastTick.clone());\n\t\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.ticks[0], me.tickUnit, true);\n\t\t\t\t} else {\n\t\t\t\t\tme.ticks.push(me.lastTick.clone());\n\t\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tme.ctx.restore();\n\n\t\t\t// Invalidate label diffs cache\n\t\t\tme.labelDiffs = undefined;\n\t\t},\n\t\t// Get tooltip label\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar label = me.chart.data.labels && index < me.chart.data.labels.length ? me.chart.data.labels[index] : '';\n\n\t\t\tif (typeof me.chart.data.datasets[datasetIndex].data[0] === 'object') {\n\t\t\t\tlabel = me.getRightValue(me.chart.data.datasets[datasetIndex].data[index]);\n\t\t\t}\n\n\t\t\t// Format nicely\n\t\t\tif (me.options.time.tooltipFormat) {\n\t\t\t\tlabel = me.parseTime(label).format(me.options.time.tooltipFormat);\n\t\t\t}\n\n\t\t\treturn label;\n\t\t},\n\t\t// Function to format an individual tick mark\n\t\ttickFormatFunction: function(tick, index, ticks) {\n\t\t\tvar formattedTick = tick.format(this.displayFormat);\n\t\t\tvar tickOpts = this.options.ticks;\n\t\t\tvar callback = helpers.getValueOrDefault(tickOpts.callback, tickOpts.userCallback);\n\n\t\t\tif (callback) {\n\t\t\t\treturn callback(formattedTick, index, ticks);\n\t\t\t}\n\t\t\treturn formattedTick;\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\tme.tickMoments = me.ticks;\n\t\t\tme.ticks = me.ticks.map(me.tickFormatFunction, me);\n\t\t},\n\t\tgetPixelForValue: function(value, index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar offset = null;\n\t\t\tif (index !== undefined && datasetIndex !== undefined) {\n\t\t\t\toffset = me.getLabelDiff(datasetIndex, index);\n\t\t\t}\n\n\t\t\tif (offset === null) {\n\t\t\t\tif (!value || !value.isValid) {\n\t\t\t\t\t// not already a moment object\n\t\t\t\t\tvalue = me.parseTime(me.getRightValue(value));\n\t\t\t\t}\n\t\t\t\tif (value && value.isValid && value.isValid()) {\n\t\t\t\t\toffset = value.diff(me.firstTick, me.tickUnit, true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (offset !== null) {\n\t\t\t\tvar decimal = offset !== 0 ? offset / me.scaleSizeInUnits : offset;\n\n\t\t\t\tif (me.isHorizontal()) {\n\t\t\t\t\tvar innerWidth = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\t\tvar valueOffset = (innerWidth * decimal) + me.paddingLeft;\n\n\t\t\t\t\treturn me.left + Math.round(valueOffset);\n\t\t\t\t}\n\t\t\t\tvar innerHeight = me.height - (me.paddingTop + me.paddingBottom);\n\t\t\t\tvar heightOffset = (innerHeight * decimal) + me.paddingTop;\n\n\t\t\t\treturn me.top + Math.round(heightOffset);\n\t\t\t}\n\t\t},\n\t\tgetPixelForTick: function(index) {\n\t\t\treturn this.getPixelForValue(this.tickMoments[index], null, null);\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar innerDimension = me.isHorizontal() ? me.width - (me.paddingLeft + me.paddingRight) : me.height - (me.paddingTop + me.paddingBottom);\n\t\t\tvar offset = (pixel - (me.isHorizontal() ? me.left + me.paddingLeft : me.top + me.paddingTop)) / innerDimension;\n\t\t\toffset *= me.scaleSizeInUnits;\n\t\t\treturn me.firstTick.clone().add(moment.duration(offset, me.tickUnit).asSeconds(), 'seconds');\n\t\t},\n\t\tparseTime: function(label) {\n\t\t\tvar me = this;\n\t\t\tif (typeof me.options.time.parser === 'string') {\n\t\t\t\treturn moment(label, me.options.time.parser);\n\t\t\t}\n\t\t\tif (typeof me.options.time.parser === 'function') {\n\t\t\t\treturn me.options.time.parser(label);\n\t\t\t}\n\t\t\t// Date objects\n\t\t\tif (typeof label.getMonth === 'function' || typeof label === 'number') {\n\t\t\t\treturn moment(label);\n\t\t\t}\n\t\t\t// Moment support\n\t\t\tif (label.isValid && label.isValid()) {\n\t\t\t\treturn label;\n\t\t\t}\n\t\t\t// Custom parsing (return an instance of moment)\n\t\t\tif (typeof me.options.time.format !== 'string' && me.options.time.format.call) {\n\t\t\t\tconsole.warn('options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale');\n\t\t\t\treturn me.options.time.format(label);\n\t\t\t}\n\t\t\t// Moment format parsing\n\t\t\treturn moment(label, me.options.time.format);\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('time', TimeScale, defaultConfig);\n\n};\n\n},{\"1\":1}]},{},[7])(7)\n});\n"]}