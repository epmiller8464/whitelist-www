{"version":3,"sources":["../../lib/app.js"],"names":["publicIp","require","App","geoLocate","cb","v4","then","ip","catch","e","validate","$","removeClass","firstName","val","lastName","email","confirmEmail","regex","RegExp","isValid","length","trim","parent","addClass","test","submit","window","module","exports"],"mappings":"AAAA;;AACA,IAAMA,WAAWC,QAAQ,WAAR,CAAjB;;AAEA,IAAMC,MAAM;AACVC,aAAW,mBAAUC,EAAV,EAAc;AACvBJ,aAASK,EAAT,GAAcC,IAAd,CAAmB,UAAUC,EAAV,EAAc;AAC/B,aAAOH,GAAG,IAAH,EAASG,EAAT,CAAP;AACD,KAFD,EAGCC,KAHD,CAGO,UAAUC,CAAV,EAAa;AAClB,aAAOL,GAAGK,CAAH,EAAM,IAAN,CAAP;AACD,KALD;AAMD,GARS;AASVC,YAAU,oBAAY;AACpBC,MAAE,YAAF,EAAgBC,WAAhB,CAA4B,WAA5B;AACA,QAAIC,YAAYF,EAAE,uBAAF,EAA2BG,GAA3B,EAAhB;AAAA,QACEC,WAAWJ,EAAE,sBAAF,EAA0BG,GAA1B,EADb;AAAA,QAEEE,QAAQL,EAAE,mBAAF,EAAuBG,GAAvB,EAFV;AAAA,QAGEG,eAAeN,EAAE,2BAAF,EAA+BG,GAA/B,EAHjB;AAAA,QAIEI,QAAQ,IAAIC,MAAJ,CAAW,YAAX,CAJV;AAAA,QAKEC,UAAU,IALZ;;AAOAP,gBAAaA,aAAaA,UAAUQ,MAAV,GAAmB,CAAjC,GAAsCR,UAAUS,IAAV,EAAtC,GAAyD,IAArE;AACAP,eAAYA,YAAYA,SAASM,MAAT,GAAkB,CAA/B,GAAoCN,SAASO,IAAT,EAApC,GAAsD,IAAjE;AACAN,YAASA,SAASA,MAAMK,MAAN,GAAe,CAAzB,GAA8BL,MAAMM,IAAN,EAA9B,GAA6C,IAArD;AACAL,mBAAgBA,gBAAgBA,aAAaI,MAAb,GAAsB,CAAvC,GAA4CJ,aAAaK,IAAb,EAA5C,GAAkE,IAAjF;AACA,QAAI,CAACT,SAAD,IAAcA,UAAUQ,MAAV,GAAmB,CAArC,EAAwC;AACtCV,QAAE,uBAAF,EAA2BY,MAA3B,CAAkC,aAAlC,EAAiDC,QAAjD,CAA0D,WAA1D;AACAJ,gBAAU,KAAV;AACD;;AAED,QAAI,CAACL,QAAD,IAAaA,SAASM,MAAT,GAAkB,CAAnC,EAAsC;AACpCV,QAAE,sBAAF,EAA0BY,MAA1B,CAAiC,aAAjC,EAAgDC,QAAhD,CAAyD,WAAzD;AACAJ,gBAAU,KAAV;AACD;AACD,QAAK,CAACJ,KAAF,IAAY,CAACE,MAAMO,IAAN,CAAWT,KAAX,CAAjB,EAAoC;AAClCL,QAAE,mBAAF,EAAuBY,MAAvB,CAA8B,aAA9B,EAA6CC,QAA7C,CAAsD,WAAtD;AACAJ,gBAAU,KAAV;AACD;AACD,QAAI,CAACF,MAAMO,IAAN,CAAWR,YAAX,CAAL,EAA+B;AAC7BN,QAAE,2BAAF,EAA+BY,MAA/B,CAAsC,aAAtC,EAAqDC,QAArD,CAA8D,WAA9D;AACAJ,gBAAU,KAAV;AACD;AACD,QAAIJ,UAAUC,YAAd,EAA4B;AAC1BN,QAAE,2BAAF,EAA+BY,MAA/B,CAAsC,aAAtC,EAAqDC,QAArD,CAA8D,WAA9D;AACAJ,gBAAU,KAAV;AACD;AACD,WAAOA,OAAP;AACD,GA5CS;AA6CVM,UAAQ,kBAAY;AAClB,QAAI,KAAKhB,QAAL,EAAJ,EAAqB;AACnB;AACAC,QAAE,MAAF,EAAUa,QAAV,CAAmB,SAAnB;AACD,KAHD,MAGO,CAEN;AACF;AApDS,CAAZ;AAsDAG,OAAOzB,GAAP,GAAayB,OAAOzB,GAAP,IAAcA,GAA3B;AACA0B,OAAOC,OAAP,GAAiB3B,GAAjB","file":"app.js","sourcesContent":["'use strict'\nconst publicIp = require('public-ip')\n\nconst App = {\n  geoLocate: function (cb) {\n    publicIp.v4().then(function (ip) {\n      return cb(null, ip)\n    })\n    .catch(function (e) {\n      return cb(e, null)\n    })\n  },\n  validate: function () {\n    $('.has-error').removeClass('has-error')\n    var firstName = $('input[name=firstName]').val(),\n      lastName = $('input[name=lastName]').val(),\n      email = $('input[name=email]').val(),\n      confirmEmail = $('input[name=confirm-email]').val(),\n      regex = new RegExp(/.+\\@.+\\..+/),\n      isValid = true\n\n    firstName = (firstName && firstName.length > 0) ? firstName.trim() : null\n    lastName = (lastName && lastName.length > 0) ? lastName.trim() : null\n    email = (email && email.length > 0) ? email.trim() : null\n    confirmEmail = (confirmEmail && confirmEmail.length > 0) ? confirmEmail.trim() : null\n    if (!firstName || firstName.length < 2) {\n      $('input[name=firstName]').parent('.form-group').addClass('has-error')\n      isValid = false\n    }\n\n    if (!lastName || lastName.length < 2) {\n      $('input[name=lastName]').parent('.form-group').addClass('has-error')\n      isValid = false\n    }\n    if ((!email) || !regex.test(email)) {\n      $('input[name=email]').parent('.form-group').addClass('has-error')\n      isValid = false\n    }\n    if (!regex.test(confirmEmail)) {\n      $('input[name=confirm-email]').parent('.form-group').addClass('has-error')\n      isValid = false\n    }\n    if (email !== confirmEmail) {\n      $('input[name=confirm-email]').parent('.form-group').addClass('has-error')\n      isValid = false\n    }\n    return isValid\n  },\n  submit: function () {\n    if (this.validate()) {\n      // alert('ready')\n      $('body').addClass('loading')\n    } else {\n\n    }\n  }\n}\nwindow.App = window.App || App\nmodule.exports = App\n"]}