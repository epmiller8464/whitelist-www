{"version":3,"sources":["../../lib/app.js"],"names":["publicIp","require","geoLocate","cb","v4","then","ip","catch","e","console","error","App","validate","$","removeClass","firstName","val","lastName","email","confirmEmail","regex","RegExp","length","trim","parent","addClass","test","submit","alert","window","module","exports"],"mappings":"AAAA;AACA;;AACA,IAAMA,WAAWC,QAAQ,WAAR,CAAjB;;AAEA,SAASC,SAAT,CAAoBC,EAApB,EAAwB;AACtBH,WAASI,EAAT,GAAcC,IAAd,CAAmB,UAAUC,EAAV,EAAc;AAC/B,WAAOH,GAAGG,EAAH,CAAP;AACD,GAFD,EAGCC,KAHD,CAGO,UAAUC,CAAV,EAAa;AAClBC,YAAQC,KAAR,CAAcF,CAAd;AACD,GALD;AAMD;;AAED,IAAMG,MAAM;AACVT,aAAWA,SADD;AAEVU,YAAU,oBAAY;AACpBC,MAAE,YAAF,EAAgBC,WAAhB,CAA4B,WAA5B;AACA,QAAIC,YAAYF,EAAE,uBAAF,EAA2BG,GAA3B,EAAhB;AACA,QAAIC,WAAWJ,EAAE,sBAAF,EAA0BG,GAA1B,EAAf;AACA,QAAIE,QAAQL,EAAE,mBAAF,EAAuBG,GAAvB,EAAZ;AACA,QAAIG,eAAeN,EAAE,2BAAF,EAA+BG,GAA/B,EAAnB;AACA,QAAII,QAAQ,IAAIC,MAAJ,CAAW,YAAX,CAAZ;;AAEAN,gBAAaA,aAAaA,UAAUO,MAAV,GAAmB,CAAjC,GAAsCP,UAAUQ,IAAV,EAAtC,GAAyD,IAArE;AACAN,eAAYA,YAAYA,SAASK,MAAT,GAAkB,CAA/B,GAAoCL,SAASM,IAAT,EAApC,GAAsD,IAAjE;AACAL,YAASA,SAASA,MAAMI,MAAN,GAAe,CAAzB,GAA8BJ,MAAMK,IAAN,EAA9B,GAA6C,IAArD;AACAJ,mBAAgBA,gBAAgBA,aAAaG,MAAb,GAAsB,CAAvC,GAA4CH,aAAaI,IAAb,EAA5C,GAAkE,IAAjF;AACA,QAAI,CAACR,SAAD,IAAcA,UAAUO,MAAV,GAAmB,CAArC,EAAwC;AACtCT,QAAE,uBAAF,EAA2BW,MAA3B,CAAkC,aAAlC,EAAiDC,QAAjD,CAA0D,WAA1D;AACA,aAAO,KAAP;AACD;;AAED,QAAI,CAACR,QAAD,IAAaA,SAASK,MAAT,GAAkB,CAAnC,EAAsC;AACpCT,QAAE,sBAAF,EAA0BW,MAA1B,CAAiC,aAAjC,EAAgDC,QAAhD,CAAyD,WAAzD;AACA,aAAO,KAAP;AACD;AACD,QAAK,CAACP,KAAF,IAAY,CAACE,MAAMM,IAAN,CAAWR,KAAX,CAAjB,EAAoC;AAClCL,QAAE,mBAAF,EAAuBW,MAAvB,CAA8B,aAA9B,EAA6CC,QAA7C,CAAsD,WAAtD;AACA,aAAO,KAAP;AACD;AACD,QAAI,CAACL,MAAMM,IAAN,CAAWP,YAAX,CAAL,EAA+B;AAC7BN,QAAE,2BAAF,EAA+BW,MAA/B,CAAsC,aAAtC,EAAqDC,QAArD,CAA8D,WAA9D;AACA,aAAO,KAAP;AACD;AACD,QAAIP,UAAUC,YAAd,EAA4B;AAC1BN,QAAE,2BAAF,EAA+BW,MAA/B,CAAsC,aAAtC,EAAqDC,QAArD,CAA8D,WAA9D;AACA,aAAO,KAAP;AACD;AACD,WAAO,IAAP;AACD,GApCS;AAqCVE,UAAQ,kBAAY;AAClB,QAAI,KAAKf,QAAL,EAAJ,EAAqB;AACnBgB,YAAM,OAAN;AACD;AACF;AAzCS,CAAZ;AA2CAC,OAAOlB,GAAP,GAAakB,OAAOlB,GAAP,IAAcA,GAA3B;AACAmB,OAAOC,OAAP,GAAiBpB,GAAjB","file":"app.js","sourcesContent":["'use strict'\n// const geoip = require('geoip-lite')\nconst publicIp = require('public-ip')\n\nfunction geoLocate (cb) {\n  publicIp.v4().then(function (ip) {\n    return cb(ip)\n  })\n  .catch(function (e) {\n    console.error(e)\n  })\n}\n\nconst App = {\n  geoLocate: geoLocate,\n  validate: function () {\n    $('.has-error').removeClass('has-error')\n    var firstName = $('input[name=firstName]').val()\n    var lastName = $('input[name=lastName]').val()\n    var email = $('input[name=email]').val()\n    var confirmEmail = $('input[name=confirm-email]').val()\n    var regex = new RegExp(/.+\\@.+\\..+/)\n\n    firstName = (firstName && firstName.length > 0) ? firstName.trim() : null\n    lastName = (lastName && lastName.length > 0) ? lastName.trim() : null\n    email = (email && email.length > 0) ? email.trim() : null\n    confirmEmail = (confirmEmail && confirmEmail.length > 0) ? confirmEmail.trim() : null\n    if (!firstName || firstName.length < 2) {\n      $('input[name=firstName]').parent('.form-group').addClass('has-error')\n      return false\n    }\n\n    if (!lastName || lastName.length < 2) {\n      $('input[name=lastName]').parent('.form-group').addClass('has-error')\n      return false\n    }\n    if ((!email) || !regex.test(email)) {\n      $('input[name=email]').parent('.form-group').addClass('has-error')\n      return false\n    }\n    if (!regex.test(confirmEmail)) {\n      $('input[name=confirm-email]').parent('.form-group').addClass('has-error')\n      return false\n    }\n    if (email !== confirmEmail) {\n      $('input[name=confirm-email]').parent('.form-group').addClass('has-error')\n      return false\n    }\n    return true\n  },\n  submit: function () {\n    if (this.validate()) {\n      alert('ready')\n    }\n  }\n}\nwindow.App = window.App || App\nmodule.exports = App\n"]}