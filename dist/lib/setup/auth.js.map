{"version":3,"sources":["../../../lib/setup/auth.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"auth.js","sourcesContent":["// 'use strict'\n// const jwt = require('jsonwebtoken')\n// const {User} = require('./model')\n//\n// const login = (req, res, next) => {\n//   User.findOne({email: req.body.email}, (error, user) => {\n//     if (error) {\n//       return next(error)\n//     }\n//     if (!user) {\n//       res.status(401).send({success: false, message: 'Authentication failed. User not found.'})\n//     } else {\n//       user.comparePassword(req.body.password, (error, matches) => {\n//         if (matches && !error) {\n//           const token = jwt.sign({user}, process.env.APP_SECRET)\n//           res.json({success: true, message: 'Token granted', token})\n//         } else {\n//           res.status(401).send({success: false, message: 'Authentication failed. Wrong password.'})\n//         }\n//       })\n//     }\n//   })\n// }\n//\n// Api.verify = (headers) => {\n//   if (headers && headers.authorization) {\n//     const split = headers.authorization.split(' ')\n//     if (split.length === 2) return split[1]\n//     else return null\n//   } else return null\n// }\n//\n// module.exports = {}\n"]}